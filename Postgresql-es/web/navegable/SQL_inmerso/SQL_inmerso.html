<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE>1</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 641  (Linux)">
	<META NAME="AUTHOR" CONTENT="kk">
	<META NAME="CREATED" CONTENT="20020312;18180000">
	<META NAME="CHANGEDBY" CONTENT="kk">
	<META NAME="CHANGED" CONTENT="20020313;11090000">
	<STYLE>
	<!--
		@page { margin-right: 3cm; margin-top: 2.5cm; margin-bottom: 2.5cm }
		P { margin-bottom: 0cm; color: #000000; text-align: justify; widows: 2; orphans: 2 }
		P.western { font-family: "Arial", sans-serif; font-size: 10pt; so-language: en-GB }
		P.cjk { font-family: "Times New Roman", serif; font-size: 10pt }
		H1 { margin-top: 0cm; margin-bottom: 0cm; color: #000080; widows: 2; orphans: 2 }
		H1.western { font-family: "Arial", sans-serif; font-size: 16pt; so-language: es-ES }
		H1.cjk { font-family: "Times New Roman", serif; font-size: 16pt }
		H1.ctl { font-family: "Arial Unicode MS"; font-size: 12pt; font-weight: medium }
		H2 { margin-top: 0.18cm; margin-bottom: 0.18cm; color: #ffffff; widows: 2; orphans: 2; page-break-after: auto }
		H2.western { font-family: "Times New Roman", serif; so-language: es-ES }
		H2.cjk { font-family: "Times New Roman", serif }
		H2.ctl { font-family: "Arial Unicode MS"; font-size: 12pt; font-weight: medium }
		H3 { margin-top: 0.18cm; margin-bottom: 0.18cm; color: #ffffff; widows: 2; orphans: 2; page-break-after: auto }
		H3.western { font-family: "Times New Roman", serif; font-size: 13pt; so-language: es-ES }
		H3.cjk { font-family: "Times New Roman", serif; font-size: 13pt }
		H3.ctl { font-family: "Arial Unicode MS"; font-size: 12pt; font-weight: medium }
		H5 { margin-bottom: 0.11cm; color: #ffffff; widows: 2; orphans: 2; page-break-after: auto }
		H5.western { font-family: "Times New Roman", serif; font-size: 11pt; so-language: es-ES; font-weight: medium }
		H5.cjk { font-family: "Times New Roman", serif; font-size: 11pt; font-weight: medium }
		H5.ctl { font-family: "Arial Unicode MS"; font-size: 12pt; font-weight: medium }
		A:link { color: #0000ff }
	-->
	</STYLE>
</HEAD>
<BODY LANG="es-ES" TEXT="#000000" LINK="#0000ff">
<OL>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER></P>
	<P LANG="es-ES" ALIGN=CENTER><FONT FACE="Arial, sans-serif"><FONT SIZE=5 STYLE="font-size: 20pt"><U><B>Manual
	de SQL Inmerso</B></U></FONT></FONT></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY></P>
	<P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Autor:
	Carlos Buil Arana 2002</FONT></FONT></P>
	<P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Revisor:
	Javier Farreres de la Morena farreres@lsi.upc.es</FONT></FONT></P>
	<P LANG="es-ES" ALIGN=JUSTIFY STYLE="page-break-before: always"></P>
	<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Introducci&oacute;n</FONT></FONT></P>
</OL>
<P LANG="es-ES" ALIGN=JUSTIFY><BR>
</P>
<OL START=2>
	<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Sintaxis</FONT></FONT></P>
	<OL>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Estructura
		B&aacute;sica</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Declaraci&oacute;n
		de variables de Intercomunicaci&oacute;n</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Uso
		de Variables de Intercomunicaci&oacute;n</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Indicadores</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Operaciones
		B&aacute;sicas</FONT></FONT></P>
	</OL>
</OL>
<P LANG="es-ES" ALIGN=JUSTIFY STYLE="margin-left: 0.64cm"><BR>
</P>
<OL START=3>
	<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Uso
	de SQL Inmerso</FONT></FONT></P>
	<OL>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Conexi&oacute;n
		a la Base de Datos</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>SQL
		Est&aacute;tico</FONT></FONT></P>
		<OL>
			<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Consultas
			At&oacute;micas</FONT></FONT></P>
			<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Consultas
			NO at&oacute;micas: Cursores</FONT></FONT></P>
		</OL>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>SQL
		Din&aacute;mico</FONT></FONT></P>
		<OL>
			<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Sintaxis</FONT></FONT></P>
			<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Consultas
			que se escriben directamente</FONT></FONT></P>
			<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>
			Consultas en las que se indican variables</FONT></FONT></P>
			<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>
			SELECTS y consultas que devuelven valores m&uacute;ltiples</FONT></FONT></P>
		</OL>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Utilizaci&oacute;n
		de Indicadores y valores nulos</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Errores</FONT></FONT></P>
	</OL>
</OL>
<P LANG="es-ES" ALIGN=JUSTIFY><BR>
</P>
<OL START=4>
	<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Transacciones</FONT></FONT></P>
</OL>
<P LANG="es-ES" ALIGN=JUSTIFY><BR>
</P>
<OL START=5>
	<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>El
	Precompilador</FONT></FONT></P>
	<OL>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Que
		es</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Opciones
		de compilaci&oacute;n</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Ejemplos
		de compilaciones</FONT></FONT></P>
		<LI><P LANG="es-ES" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"><FONT SIZE=3>Muestra</FONT></FONT></P>
	</OL>
</OL>
<P LANG="es-ES" ALIGN=LEFT><BR>
</P>
<P LANG="es-ES" ALIGN=LEFT><BR>
</P>
<OL>
	<LI><P ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>Introducci&oacute;n</B></FONT></FONT></FONT></P>
</OL>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT FACE="Arial, sans-serif"><B><FONT COLOR="#000080">1.1
que es embedded SQL</FONT></B> </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">SQL inmerso es un
m&eacute;todo para insertar instrucciones SQL dentro de un lenguaje
de programaci&oacute;n y permitir el acceso a bases de datos mediante
programas. En el caso de PostgreSQL el lenguaje de alto nivel
utilizado es C.</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Este conjunto de
instrucciones es  compilado por el preprocesador SQL que genera un
c&oacute;digo en C con unas librer&iacute;as especiales mediante el
cual podemos acceder a las bases de datos.</FONT></P>
<P ALIGN=LEFT><BR>
</P>
<OL START=2>
	<LI><H1 CLASS="western" ALIGN=JUSTIFY>Sintaxis</H1>
</OL>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>El termino SQL inmerso se
refiere a las declaraciones de SQL insertadas en una aplicaci&oacute;n.
Las instrucciones para manipular las Bases de Datos son las comunes
de SQL como INSERT para insertar filas a nuestra tabla, SELECT para
seleccionar los datos que busquemos o UPDATE para modificar el
contenido de nuestra Base de Datos, pero utilizadas dentro de un
programa en lenguaje de alto nivel. </FONT></FONT>
</P>
<P LANG="en-GB" CLASS="western">De todas formas no todas las
instrucciones de PostgreSQL estan presentes en SQL inmerso, solo hay
unas cuantas instrucciones que permiten la manipulacion y
transeferencia de datos desde los programas a la base de datos.</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>2.1
Estructura Basica</B></FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Para poder utilizar de
manera satisfactoria las instrucciones de SQL y que funcionen de
manera correcta es necesario que esten todas encabezadas por la
sentencia &ldquo;EXEC SQL&rdquo; finalizando con un punto y coma para
que asi el precompilador ecpg traduzca correctamente la instrucci&oacute;n
a nuestro lenguaje.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><SPAN LANG="en-GB">La
</SPAN>mayoria<SPAN LANG="en-GB"> de las instrucciones son iguales a
SQL o a&ntilde;adiendo algun parametro extra. Ahora se muestran dos
ejemplos:</SPAN></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><SPAN LANG="en-GB"><FONT FACE="Arial, sans-serif">COMMIT;
</FONT></SPAN><SPAN LANG=""><FONT FACE="Wingdings">?</FONT></SPAN><SPAN LANG="en-GB"><FONT FACE="Arial, sans-serif">
Instrucci&oacute;n de SQL</FONT></SPAN></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><SPAN LANG="en-GB"><FONT FACE="Arial, sans-serif">EXEC
SQL COMMIT; </FONT></SPAN><SPAN LANG=""><FONT FACE="Wingdings">?</FONT></SPAN><SPAN LANG="en-GB"><FONT FACE="Arial, sans-serif">
Sentencia en nuestro programa en C</FONT></SPAN></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><SPAN LANG="en-GB">SELECT
nombre FROM tabla;</SPAN><SPAN LANG=""> </SPAN></FONT><SPAN LANG=""><FONT FACE="Wingdings">?</FONT></SPAN><SPAN LANG="en-GB"><FONT FACE="Arial, sans-serif">
Instrucci&oacute;n de SQL</FONT></SPAN></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><SPAN LANG="en-GB">EXEC
SQL SELECT nombre INTO :nombre_variable FROM tabla;</SPAN><SPAN LANG="">
</SPAN></FONT><SPAN LANG=""><FONT FACE="Wingdings">?</FONT></SPAN><SPAN LANG="en-GB"><FONT FACE="Arial, sans-serif">
Sentencia en nuestro programa en C.</FONT></SPAN></FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<BR><BR>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>2.2
Declaracion de variables de intercomunicacion</B></FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Las
variables de intercomunicacion son las encargadas del intercambio de
datos entre el programa y la base de datos PostgreSQL. El programa
utiliza estas variables para enviar los datos a la base de datos y la
base de datos utiliza las variables de intercomunicacion para enviar
datos al programa que hemos realizado.</FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Para
la declaracion de variables usamos el mismo metodo que para la
declaracion de variables en C con la unica diferencia de que esta
declaracion de variables debe estar precedida por la instrucci&oacute;n:</FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL BEGIN DECLARE SECTION; </FONT></FONT></FONT>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>y
finalizada por :</FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL END DECLARE SECTION; </FONT></FONT></FONT>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Las
variables declaradas entre estas sentencias se pueden usar en todo el
programa aunque no pertenezcan a instrucciones de SQL pero no al
reves, las variables declaradas fuera, es decir, como variables de C
normales no las podremos usar en las instrucciones de SQL.</FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL BEGIN DECLARE SECTION;</FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>	int num;</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>	char name[20];</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>END DECLARE SECTION;</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<BR><BR>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>2.3
Uso de Variables de Intercomunicacion</B></FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Las variables de
intercomunicacion pueden ser usadas en cualquier instruccion de un
programa, tanto en instrucciones tipicas de C como &ldquo;scanf(&ldquo;%d&rdquo;,
nombre_variable&rdquo;)&rdquo;, como en instrucciones de SQL inmerso
como EXEC SQL SELECT nombre INTO :nombre_variable FROM tabla;.</FONT></FONT></P>
<P LANG="en-GB" CLASS="western">Para que las variables puedan ser
usadas en instrucciones de SQL es necesario que las variables esten
precedidas por dos puntos &ldquo;:&rdquo; en los programas. La
comunicaci&oacute;n entre la base de datos y el programa se produce
debido que las variables con &ldquo;:&rdquo; delante se interpretan
como variables de intercomunicacion.</P>
<P LANG="en-GB" CLASS="western">Estas variables son las unicas que se
pueden utilizar para comunicar el programa con la Base de Datos ya
que todas las variables declaradas fuera de las sentencias del
apartado anterior seran interpretadas como variables del programa
normales y no de intercomunicacion.</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H3 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Variables
de entrada y de salida </FONT></FONT></FONT>
</H3>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif">Las
variables <SPAN LANG="en-GB">de intercomunicacion</SPAN> se utilizan
en dos tipos de instrucciones: en instrucciones como SELECT en las
que el programa los datos y las variables los almacenan o en
instrucciones como INSERT en las que las variables envian los datos a
la base de datos. En los casos de instrucciones SELECT hay que
indicar que se han de almacenar datos en esas variables. Para eso se
utiliza la instrucci&oacute;n INTO para especificarlo.</FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL SELECT name,
cod_empresa INTO :name_emp, :cod_emp FROM empresas;</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif">Las
variables <SPAN LANG="en-GB">de intercomunicacion</SPAN> tambien las
se pueden utilizar para indicar el nombre de la base de datos a la
que el programa se va a conectar. Se puede pedir al usuario que
indique el nombre de la base de datos y a traves de esta variable
host  conectarse a ella.</FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL CONNECT :database;</FONT></FONT></P>
<P LANG="en-GB" CLASS="western">Sin embargo esto no funciona para
crear o modificar tablas, no se puede dar el nombre de una tabla a
una variable host y luego utilizar esta variable pata modificar una
tabla.</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT COLOR="#000080"><FONT SIZE=3><B>2.4
Indicadores</B></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><SPAN LANG="en-GB">A
cada variable de intercomunicacion</SPAN> <SPAN LANG="en-GB">se le
puede asociar una variable indicador. Esta variable indicador lo que
hace es informarnos sobre el valor de la variable de
intercomunicacion. Se pueden usar los indicadores para detectar
valores nulos o incorrectos de la variable de intercomunicacion.</SPAN></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><SPAN LANG="en-GB">Esta
variable indicadora se declara como un short en la seccion de
declaracion de variables host. Para asociarla a una variable hosr se
usa la palabra especial INDICATOR despues de usar la variable de
intercomunicacion</SPAN> <SPAN LANG="en-GB">a la que se quiere
asociar, aunque tambien puede omitirse la palabra INDICATOR. Un
ejemplo podria ser este:</SPAN></FONT></FONT></FONT></FONT></P>
<P LANG="en-GB" CLASS="western">:host_variable INDICATOR
:indicator_variable;</P>
<P LANG="en-GB" CLASS="western">:host_variable:indicator_variable;</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>2.5
Instrucciones Basicas</B></FONT></FONT></FONT></P>
<H2 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>INSERT
</FONT></FONT></FONT>
</H2>
<P CLASS="western">La instrucci&oacute;n INSERT sigue el mismo
mecanismo que una insercion en SQL. Solo varia que al inicio es
necesario EXEC SQL y para finalizar EXEC SQL COMMIT; Para poder
utilizar los valores de las variables se necesitan los dos puntos
previos al nombre de la variable.</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL INSERT INTO 
tabla(col1, col2, ..., coln) VALUES(:var1, :var2, ..., :varm);</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">        INSERT INTO
programa(cod_programa, nombre_programa, dia_emision, horario,
audiencia, cod_emisora) VALUES( :cod_prog, :nombre_prog, :d_e, :h,
:au, :cod_emi);</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Este ejemplo inserta
una nueva fila en la tabla programas con los valores indicados en las
variables previamente declaradas.</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Courier New, monospace"> </FONT>
</P>
<H2 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>UPDATE
</FONT></FONT></FONT>
</H2>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Para modificar
valores de una tabla la estructura es igual que usando SQ, con la
instrucci&oacute;n UPDATE . La &uacute;nica diferencia es que hay que
referenciar las variables mediante dos puntos y encabezar la funci&oacute;n
con EXEC SQL. </FONT>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL UPDATE tabla
SET col1:=var1, col2:=var2, ..., coln:=varn WHERE condicion;</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Un ejemplo seria
este:</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL UPDATE
emisoras SET telefono=:tel, frecuencia=:emi WHERE cod_emisora=
:cod_emi;</FONT></P>
<H2 CLASS="western" ALIGN=JUSTIFY><BR><BR>
</H2>
<H2 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>DELETE
</FONT></FONT></FONT>
</H2>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Se utiliza la
instrucci&oacute;n DELETE para eliminar una fila de nuestra tabla.</FONT></P>
<P CLASS="western">Tambi&eacute;n sigue la misma estructura que las
instrucciones anteriores. Primero EXEC SQL y final EXEC SQL COMMIT.
Las variables se referencian mediante :.</P>
<P CLASS="western"><BR>
</P>
<P CLASS="western">EXEC SQL DELETE FROM tabla WHERE condicion;</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL DELETE FROM
programa WHERE cod_programa= :cod_prog;</FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>3.
Uso de SQL Inmerso</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>En
esta secci&oacute;n se vera como se usa el SQL inmerso. Primero como
conectar a una base de datos y luego las maneras de realizar las
consultas, tanto de manera din&aacute;mica como est&aacute;tica, es
decir, pidiendo al usuario que entre una consulta el mismo por el
terminal o pidi&eacute;ndole solo unos valores con las consultas
definidas dentro del programa.</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>3.1
Conexi&oacute;n a la Base de Datos</B></FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Para conectar a una base
de datos usamos la instrucci&oacute;n</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC SQL CONNECT
nombre_de_la_base_de datos;</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se puede indicar el login
y el password en la instrucci&oacute;n y pedirle al usuario que lo
introduzca el mismo o indicandolo dentro del programa.</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Es conveniente conectar a
la base de datos una sola vez en cada programa en la funcion main y
desconectar con la instrucci&oacute;n </FONT></FONT>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC SQL DISCONNECT; </FONT></FONT>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>al final de la funcion
principal. Si esto no sucede se ralentiza el programa y resulta poco
optimo en terminos de velocidad y accesos a la base de datos.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>3.2
SQL Estatico</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>En
esta secci&oacute;n se vera la manera de realizar operaciones con SQL
inmerso de manera satisfactoria como consultas, inserciones de filas
o modificaci&oacute;n de valores. Primero comentaremos las
operaciones b&aacute;sicas y luego se trataran las consultas de una
forma mas detallada.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>El
lenguaje de programaci&oacute;n C, de tercera generaci&oacute;n, solo
esta preparado para tratar variables at&oacute;micas, por ejemplo una
casilla, y se ve incapaz de procesar de forma correcta los datos que
le puedan llegar de un lenguaje de una generaci&oacute;n posterior o
relacional, como seria el caso de las consultas que devuelven mas de
una fila como resultado.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Las
consultas las se dividen en dos tipos distintos, consultas at&oacute;micas
y no at&oacute;micas. Las consultas at&oacute;micas son las que
devuelven un solo valor como resultado y las no at&oacute;micas las
que devuelven valores compuestos.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>3.2.1
Consultas At&oacute;micas</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Cuando una consulta
devuelve un valor at&oacute;mico es directamente almacenable en una
variable. Si devuelve una sola fila se almacena en tantas variables
como tenga la fila. Para esto se usa la sentencia INTO entre las
sentencias SELECT y FROM. </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">INTO indica las
variables en las que se quieren almacenar el resultado de la consulta
que hayamos hecho, por ejemplo, si se pide el nombre de un cliente se
tendra que almacenar en una variable y la instrucci&oacute;n seria la
siguiente: </FONT>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL SELECT
nombre_cliente INTO :nb_cliente FROM ...</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">La variable
nb_cliente deber&iacute;a haber sido declarada al inicio de la
funci&oacute;n y los dos puntos antes de la variable son para
referenciar al nombre de la variable y que el precompilador sepa que
es una variable y no otra cosa.</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Ahora se  indica un
ejemplo de consulta simple:</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL BEGIN
DECLARE SECTION;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		int cod_emi=1;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		char nb_emi[20];</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		int tel=0;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		char emi[2],
db[15];</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL END DECLARE
SECTION;</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL SELECT
nombre_emisora, telefono, frecuencia </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		INTO :nb_emi, :tel,
:emi  FROM emisoras</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		WHERE cod_emisora
=:cod_emi;</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Este
ejemplo consultar&iacute;a la tabla emisoras de la base de datos que
contenga la variable db y devolver&iacute;a los datos pedidos que se
almacenan en nb_emi, tel y emi.</FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Con este patr&oacute;n
tambi&eacute;n se pueden hacer consultas m&aacute;s complejas
utilizando JOIN o HAVING o alguna instrucci&oacute;n similar, siempre
y cuando la consulta devuelva un solo valor:</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL SELECT
nombre_emisora, nombre_programa, horario INTO :nb_emi, :nb_prog, :h</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		FROM emisoras,
programa </FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-left: 4.5cm"><FONT FACE="Arial, sans-serif">	WHERE
programa.cod_emisora=emisoras.cod_emisora and programa.audiencia&lt;14;</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>3.2.2
Consultas NO At&oacute;micas</B></FONT></FONT></FONT></P>
<P CLASS="western">Para este tipo de consultas el m&eacute;todo
anterior no sirve. Cuando una consulta devuelve m&uacute;ltiples
valores no es posible almacenar estos valores en variables que solo
aceptan valores at&oacute;micos. Teniendo m&uacute;ltiples valores
como los que devuelven las consultas complejas debemos almacenarlos y
luego recorrer los resultados de manera secuencial mediante cursores.</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif">En
las consultas con cursores se utilizan estos elementos: </FONT>
</P>
<P LANG="en-GB" CLASS="western" STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
DECLARE CURSOR para declarar el cursor que se va a utilizar e indicar
la select que se va a realizar, OPEN que lo abre para que se pueda
utilizar y recoger los datos que ha producido la consulta, FETCH que
sirve para pasar a la siguiente posicion del cursor y  CLOSE que
sirve para cerrar el cursor abierto.</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">La estructura
utilizada es el CURSOR y tiene un modo de utilizacion y unas
instrucciones caracteristicas.</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Habiendo declarado
anteriormente todas las variables en las que almacenaremos los
resultados se pasa a declarar el cursor. Para esto se utiliza la
instrucci&oacute;n EXEC SQL DELCLARE seguida por el nombre del cursor
y luego por la palabra CURSOR FOR. Despues de esto se introduce
nuesra consulta y la declaracion finaliza.</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Una vez declarado el
cursor pasa a la obtenci&oacute;n de los datos de la consulta. Para
esto se abre el cursor mediante la instrucci&oacute;n &ldquo;EXEC SQL
OPEN nombre_cursor;&rdquo; y despu&eacute;s se pasa a coger los datos
proporcionados por el cursor mediante la instrucci&oacute;n FETCH que
proporciona los resultados fila a fila.</FONT></P>
<H2 CLASS="western" ALIGN=JUSTIFY><BR><BR>
</H2>
<H2 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>DECLARE
CURSOR </FONT></FONT></FONT>
</H2>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
sentencia DECLARE CURSOR se utiliza para declarar el cursor con un
nombre y asignarle la operaci&oacute;n de selecci&oacute;n que se va
a utilizar. La estructura que tiene es la siguiente: DECLARE CURSOR
nombre_del_cursor FOR SELECT loquesea FROM ... WHERE [HAVING GROUP
BY...]</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
SELECT que se haga dentro del CURSOR no puede contener ninguna
sentencia INTO ya que no se va a guardar los resultados en la
declaraci&oacute;n, sino m&aacute;s adelante cuando se utilice la
instrucci&oacute;n FETC para recoger los datos que interesen.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
declaraci&oacute;n del cursor, como cualquier otra declaraci&oacute;n
debe preceder a otras instrucciones.</FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL DECLARE
interval CURSOR </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">FOR SELECT * FROM
programa </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">WHERE ((:int1&lt;=
audiencia) and (: int2&gt;= audiencia))</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">ORDER BY dia_emision,
horario;</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se
pueden declarar tantos cursores como se necesiten aunque deben tener
distinto nombre.</FONT></FONT></P>
<H2 CLASS="western" ALIGN=JUSTIFY><BR><BR>
</H2>
<H2 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>OPEN
</FONT></FONT></FONT>
</H2>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se
utiliza la sentencia OPEN para abrir un cursor. </FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL OPEN emp_cursor; </FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>El
cursor debe estar ya declarado. Cuando se utiliza la sentencia open
se ejecuta la consulta y el programa se posiciona en la primera fila
del resultado de esta consulta. Puede ser que mientras se utiliza el
cursor se produzcan cambios en la base de datos pero el programa no
se dara cuenta. Para poder ver los cambios que se realicen mientras 
se utiliza el cursor sera necesario que lo se cierre y lo se vuelva a
abrir. Un cursor se puede abrir y cerrar tantas veces como se quiera.</FONT></FONT></P>
<H2 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>FETCH
</FONT></FONT></FONT>
</H2>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se
utiliza la instrucci&oacute;n FECTH para obtener filas de la consulta
que se habia hecho anteriormente. </FONT></FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL FETCH NEXT
FROM cursor</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>INTO
:var1, :var2, ..., var_num_col;</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Las
filas que se obtienen las se pasan a las variables de
intercomunicacion  que se han indicado en la instrucci&oacute;n FETCH
mas adelante mediante INTO. Hay que referenciar la instrucci&oacute;n
FETCH a un CURSOR declarado anteriormente indicandolo en la
instrucci&oacute;n. Para poder usar FETCH se debe haber abierto el
cursor antes.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Para
pasar a la siguiente columna se utiliza la instrucci&oacute;n NEXT
justo despu&eacute;s de FETCH. Mientras no se utilice la instrucci&oacute;n
NEXT el cursor no avanzara a la siguiente posicion.</FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL FETCH FROM
interval</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				INTO
:c_p, :n_p, :d_e, :h, :au, :cod_emi;</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL FETCH FROM
interval</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				INTO
:c_p1, :n_p1, :d_e1, :h1, :au1, :cod_emi1;</FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif"> </FONT>
</P>
<H2 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>CLOSE</FONT></FONT></FONT></H2>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se
utiliza CLOSE para cerrar un cursor declarado y abierto previamente.
La instrucci&oacute;n es:</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL CLOSE nombre_cursor;</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se
libera el espacio usado por el cursor y se borra su contenido.</FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><B>Ejemplo</B></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Un sejemplo podria
ser este, en el que la consulta que se quiere realizar </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">SELECT * FROM
programa  WHERE ((:int1&lt;= audiencia) and (:int2&gt;= audiencia))</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">ORDER BY dia_emision,
horario;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">devuelve mas de una
fila como resultado</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL BEGIN
DECLARE SECTION;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">        	int c_p;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		char n_p[30];</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">        	char d_e[2];</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	        char h[4];</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	        float au;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		int cod_emi;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		char c[5], db[15];</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		float
int1=0,int2=0;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL END DECLARE
SECTION;</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL DECLARE
interval CURSOR</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">        	FOR SELECT *
</FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		        FROM
programa </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		        WHERE
((:int1&lt;= audiencia) and (:int2&gt;= audiencia))</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			ORDER BY
dia_emision, horario;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		EXEC SQL OPEN
interval;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		do</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		{</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			EXEC SQL FETCH
NEXT FROM interval</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">				INTO :c_p, :n_p,
:d_e, :h, :au, :cod_emi;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			if (sqlca.sqlcode
!= 0)</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			{</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">				if (i==0)</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">				{</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		       
		printf(&quot;\nNo hay ningun programa con los intervalos dados\n&quot;);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">				}</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			break;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			}</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			else </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			{</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">    	   
		printf(&quot;\n\tCodigo De Programa: %d&quot;, c_p);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	   	   
	printf(&quot;\n\tNombre del programa: %s&quot;, n_p);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	  		printf(&quot;\n\tDia
de emision: %s&quot;, d_e);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	       
	printf(&quot;\n\tHorario: %s&quot;, h);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">       
		printf(&quot;\n\tAudiencia: %f&quot;, au);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">       
		printf(&quot;\n\tcodigo emisora: %d\n&quot;, cod_emi);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			i++;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			printf(&quot;\nPulsa
c y ENTER para ver el siguiente programa\n&quot;);	</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			scanf(&quot;%s&quot;,c);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">			}</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		} while (1);</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL CLOSE
interval;</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Finalmente se cierra
el cursor mediante la instrucci&oacute;n EXEC SQL CLOSE
nombre_del_cursor;</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<OL START=3>
	<OL START=3>
		<LI><P ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>SQL
		Dinamico</B></FONT></FONT></FONT></P>
	</OL>
</OL>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">SQL
Inmerso Din&aacute;mico permite la ejecuci&oacute;n de instrucciones
SQL no conocidas en tiempo de compilaci&oacute;n al contrario de SQL
Inmerso Est&aacute;tico. Mientras que en SQL Est&aacute;tico la
consulta s&eacute; precompila y se prueban los posibles errores
sint&aacute;cticos en tiempo de compilaci&oacute;n en SQL Din&aacute;mico
esto no sucede as&iacute;.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">3.3.1
Sintaxis</FONT></FONT></FONT></B></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Cuando
se hacen las consultas hay que almacenar esta consulta en una
variable de tipo string y luego pas&aacute;rsela a la Base de Datos.
Esta consulta sigue el mismo patr&oacute;n que cualquier consulta de
SQL con la &uacute;nica diferencia de que NO hay que escribir un
punto y coma al finalizar la instrucci&oacute;n.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Una
vez se tiene la instrucci&oacute;n se le pasa a la Base de Datos y
esta devolver&aacute; el resultado.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Las
consultas se diferencian por la manera de pasar los par&aacute;metros
a la Base de Datos: se puede hacer pasando toda una consulta en un
string (no valido para SELECTS y consultas que devuelvan valores) o
indicando los valores fuera de la secuencia de instrucciones.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Los
resultados dependen de las consultas que se hagan. Se puede obtener
un c&oacute;digo de error que indicara si la instrucci&oacute;n se ha
ejecutado satisfactoriamente o no y si se ha hecho una SELECT
devolver&aacute; los diversos resultados de la consulta. As&iacute;
se podr&aacute;n dividir las consultas en tres tipos: SELECTS y
consultas que devuelven valores, consultas se escriben directamente y
consultas en las que se indican valores.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">3.3.2
Consultas que se escriben directamente</FONT></FONT></FONT></B></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">En
este tipo de consultas se pasa directamente la consulta a trav&eacute;s
de una variable string de intercomunicaci&oacute;n. Para esto se pide
al usuario que escriba la instrucci&oacute;n y el programa la recoge
siempre sin el punto y coma al final del string que contiene la
instrucci&oacute;n.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Para
enviar la instrucci&oacute;n a la Base de Datos se utiliza la
sentencia :</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL EXECUTE IMMEDIATE
:nombre_de_la_variable_que_contiene_la_instruccion; </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Con
este m&eacute;todo no se pueden realizar SELECTS ya que no se espera
que se devuelva ning&uacute;n dato de la Base de Datos a excepci&oacute;n
del c&oacute;digo de error sqlca.sqlcode.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Un
ejemplo podr&iacute;a ser el siguiente :</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\nintroduce
el nombre de la base d datos: &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%s&quot;,
&amp;db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL CONNECT TO :db;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	if
(sqlca.sqlcode!=0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		printf(&quot;\nERROR
en la conexion&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		exit(-1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	else
printf(&quot;\nBase de datos %s abierta\n&quot;, db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\nEscribe
una consulta:    &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">	strcpy(tablenm,
&ldquo;UPDATE tabla SET col1=&rsquo;23&rsquo; WHERE codicion&rdquo;);</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n%s&quot;,
tablenm);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL EXECUTE IMMEDIATE :tablenm;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">	EXEC
SQL COMMIT;</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n--&gt;
%d &lt;--\n&quot;, sqlca.sqlcode);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL DISCONNECT;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">3.3.3
Consultas en las que se indican variables</FONT></FONT></FONT></B></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Este
tipo de consultas es similar al anterior con la &uacute;nica
diferencia de que no es necesario indicar los valores que hay que
poner. Estos valores son sustituidos en las consultas por unos
indicadores que luego ser&aacute;n sustituidos por las variables de
intercomunicaci&oacute;n que a nosotros nos interese.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Para
hacer esto primero se pide al usuario que introduzca la consulta que
desee y se almacena temporalmente  mediante la instrucci&oacute;n
EXEC SQL PREPARE sql_cons FROM :instruccion;</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Dentro
de la variable instrucci&oacute;n deber&iacute;a haber una cosa
semejante a esta: UPDATE nombre_tabla SET param1=:var1,
param2=:var2..., paramn=:varn</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">La
variable sql_cons no tiene que ser ni declarada ni inicializada, solo
indicar que existe cuando se la necesite. Es una especie de
declaraci&oacute;n cursor.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Una
vez hecho esto cuando sea necesario se le pasan las variables que el
usuario le ha indicado en la instrucci&oacute;n, para hacer esto se
utiliza EXEC SQL EXECUTE sql_cons USING :cod_prog1, :cod_prog1, ...,
cod:progn;</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Detr&aacute;s
del la palabra USING se deben poner todas las variables de
intercomunicaci&oacute;n que el usuario ha indicado en la instrucci&oacute;n
(no es necesario que tengan el mismo nombre).</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL CONNECT TO :db;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	if
(sqlca.sqlcode!=0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		printf(&quot;\nERROR
en la conexion&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		exit(-1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	else
printf(&quot;\nBase de datos %s abierta\n&quot;, db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\nEscribe
una consulta:    &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">	strcpy(tablenm,
&ldquo;UPDATE tabla SET col1=:var1 WHERE condicion;</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	tablenm.arr[i-1]='\0';</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	tablenm.len
= strlen(tablenm.arr);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n%s&quot;,
tablenm.arr);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n\tEscribe
el codigo del programa: &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	cod_prog=1;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%d&quot;,
cod_prog);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n--&gt;
cod_prog: %d &lt;--\n&quot;, cod_prog);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL PREPARE sql_cons FROM :tablenm;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n--&gt;
%d &lt;--\n&quot;, sqlca.sqlcode);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL EXECUTE sql_cons USING :cod_prog;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL COMMIT;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">3.3.4
SELECTS y consultas que devuelven valores m&uacute;ltiples</FONT></FONT></FONT></B></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Para
este tipo de consultas se necesita declarar cursores donde almacenar
temporalmente los resultados que se obtengan. La manera de realizar
estas consultas es muy similar a la anterior, solo se necesita una
variable donde almacenar las respuestas a las consultas.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Primero
se pide al usuario que introduzca su consulta y se almacena de la
misma manera que en el punto anterior:</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>SELECT
nombre_cli, direccion FROM clientes WHERE cod_cli=:var1;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL PREPARE sql_cons FROM :instruccion;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Despu&eacute;s,
para controlar las respuestas que de la Base de Datos se debe
declarar un cursor para esta instrucci&oacute;n:</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL DECLARE cursor_cons CURSOR FOR sql_cons;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Y
finalmente se abre el cursor para la consulta indicando detr&aacute;s
de la palabra USING las variables que se han utilizado al hacer el
SELECT:</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL OPEN cursor_cons USING :cod_cli;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Para
obtener los datos que devuelve la base de datos como resultado se
utiliza la instrucci&oacute;n normal de cursores 		</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-left: 1.25cm; text-indent: 1.25cm; margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL FETCH NEXT FROM cursor_cons</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		INTO
:nb_cli, :dir;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Un
ejemplo podr&iacute;a ser este:</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL CONNECT TO :db;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	if
(sqlca.sqlcode!=0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		printf(&quot;\nERROR
en la conexion&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		exit(-1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	else
printf(&quot;\nBase de datos %s abierta\n&quot;, db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\nEscribe
una consulta:    &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">	strcpy(tablenm,
&ldquo;SELECT * FROM tabla WHERE condicion&lt;:=variable&rdquo;);</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	tablenm.len
= strlen(tablenm.arr);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n%s&quot;,
tablenm.arr);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n\tEscribe
el codigo del programa: &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	cod_prog=1;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%d&quot;,
cod_prog);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL PREPARE sql_cons FROM :tablenm;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n--&gt;
%d &lt;--\n&quot;, sqlca.sqlcode);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL DECLARE cursor_cons CURSOR FOR sql_cons;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n--&gt;
%d &lt;--\n&quot;, sqlca.sqlcode);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL OPEN cursor_cons USING :cod_prog;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n--&gt;
%d &lt;--\n&quot;, sqlca.sqlcode);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	do</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		EXEC
SQL FETCH NEXT FROM cursor_cons</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		INTO
:cod_emi, :nombre_emi, :s, :f, :tel;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		printf(&quot;\n--&gt;
%d &lt;--\n&quot;, sqlca.sqlcode);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		if
(sqlca.sqlcode != 0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			if
(i==0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
       		printf(&quot;\nNo hay ningun programa con los intervalos
dados\n&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		break;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		else
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
   	   		printf(&quot;\n\tCodigo De emisora: %d&quot;, cod_emi);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
  	    	printf(&quot;\n\tNombre del emisora: %s&quot;, nombre_emi);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
 		printf(&quot;\n\tfrecuencia: %s&quot;, f);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
       	printf(&quot;\n\ttelefono: %d&quot;, tel);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       		printf(&quot;\n\tsintonia: %f&quot;, s);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       		printf(&quot;\n\tcodigo emisora: %d\n&quot;, cod_emi);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			i++;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			printf(&quot;\nPulsa
c y ENTER para ver el siguiente programa\n&quot;);	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">			scanf(&quot;%s&quot;,&amp;c);</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	}
while (1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\n--&gt;
%d &lt;--\n&quot;, sqlca.sqlcode);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;\nnombre
emisora: %s, telefono: %d, freq: %s&quot;, nb_emi, tel, emi);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL DISCONNECT;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>3.4
Indicadores y utilizacion de valores nulos</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Las
variables indicador se asocian a las variables host normales y
permiten saber la situacion de estas variables.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Las
variables host se asocian a las variables host en las instrucciones
VALUES, SET o INTO dependiendo de si enviamos datos a la base de
datos o los estamos recibiendo.</FONT></FONT></P>
<H5 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>La
variable indicadora puede contener cuando enviamos datos</B></FONT></FONT></FONT></H5>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<TABLE WIDTH=597 BORDER=1 CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=40>
	<COL WIDTH=534>
	<TR VALIGN=TOP>
		<TD WIDTH=40>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-1
			&nbsp;</FONT></FONT></P>
		</TD>
		<TD WIDTH=534>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
			Base de Datos asignara un valor nulo a la columna ignorando el
			valor de la variable de intercomunicacion. &nbsp;</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=40>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>&gt;=0
			&nbsp;</FONT></FONT></P>
		</TD>
		<TD WIDTH=534>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
			Base de Datos asignara el valor que tiene la variable de
			intercomunicacion a la columna. &nbsp;</FONT></FONT></P>
		</TD>
	</TR>
</TABLE>
<P ALIGN=JUSTIFY><BR>
</P>
<TABLE WIDTH=593 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=587>
	<TR>
		<TD WIDTH=587 VALIGN=TOP>
			<P ALIGN=JUSTIFY><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<H5 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>La
variable indicadora puede contener cuando recibimos datos</B></FONT></FONT></FONT></H5>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<TABLE WIDTH=597 BORDER=1 CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=19>
	<COL WIDTH=556>
	<TR VALIGN=TOP>
		<TD WIDTH=19>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-1
			&nbsp;</FONT></FONT></P>
		</TD>
		<TD WIDTH=556>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
			variable de la columna es un valor NULO &nbsp;</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=19>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>0
			&nbsp;</FONT></FONT></P>
		</TD>
		<TD WIDTH=556>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
			variable de la columna NO es un valor NULO &nbsp;</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=19>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>&gt;0
			&nbsp;</FONT></FONT></P>
		</TD>
		<TD WIDTH=556>
			<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>La
			BD asigna un valor truncado a la variable de intercomunicacion. El
			valor del indicador es la longitud original de la variable host. &nbsp;</FONT></FONT></P>
		</TD>
	</TR>
</TABLE>
<P ALIGN=JUSTIFY><BR>
</P>
<TABLE WIDTH=593 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=587>
	<TR>
		<TD WIDTH=587 VALIGN=TOP>
			<P ALIGN=JUSTIFY><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western" ALIGN=JUSTIFY><BR><BR>
</H3>
<H3 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Insercion
de valores nulos </FONT></FONT></FONT>
</H3>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>En
la base de datos se pueden insertar valores nulos como si fuesen
valores normale. Esto puede ser necesario para algunas consultas o
algun control de datos especiales.</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL INSERT INTO emisoras (nombre, cod_emi, telefono) VALUES (:nb_emi,
c_e, NULL);</FONT></FONT></P>
<H3 CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Deteccion
de valores nulos </FONT></FONT></FONT>
</H3>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">Al realizar una
consulta sera necesario comprovar que variables han recogido un valor
nulo consultando que valor tiene el indicador en un if posterior.</FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">	EXEC SQL SELECT
nombre_emisora, telefono, frecuencia</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">INTO :nb_emi,
:tel:vindi, :emi FROM emisoras</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">		WHERE cod_emisora
=:cod_emi;</FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">If(vindi==-1)then
{...}</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2> </FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>3.5
Errores</B></FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>En las instrucciones de
acceso a bases de datos se pueden producir errores por multiples
causas que deben ser contempladoes en el programa, como por ejemplo
que la base de datos no exista cuando intentamos conectarnos a ella.
Estos errores se identifican por un codigo en la variable
sqlca.sqlcode. Estos codigos estan definidos en el fichero
ecpgerrno.h y cada codigo contiene una peque&ntilde;a definicion del
tipo de error que ha sucedido.</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Tambien hay unas
instrucciones capaces de detectar los errores en tiempo de ejecucion
y que nos permiten actuar en consecuencia si detectan un error.</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>3.5.1
Lista de errores, fichero ecpgerrno.h</B></FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>En
este apartado se muestran todos los errores y se describen los mas
comunes. Para acceder en el programa a estos errores se puede hacer a
traves de la variable sqlca.sqlcode que contiene el valor retornado
por la funcion de SQL Inmerso una vez ejecutada en el programa.</FONT></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=571 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=5 CELLSPACING=0>
		<COL WIDTH=132>
		<COL WIDTH=133>
		<COL WIDTH=133>
		<COL WIDTH=132>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>Nombre</B></FONT></FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>Valor</B></FONT></FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>Explicacion</B></FONT></FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>Instrucciones
				que lo provocan</B></FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NO_ERROR</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>0</FONT></FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Este
				es el valor que devuelve una operaci&oacute;n de SQL inmerso
				cuando todo ha ido bien y la consulta se ha producido de manera
				satisfactoria</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOT_FOUND</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>100</FONT></FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Es
				el valor devuelto cuando la consulta se ha realizado
				correctamente pero no habia coincidencias en la tabla que se
				correspondiesen con nuestra consulta</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Selects
				y operaciones que contengan alguna consulta</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_OUT_OF_MEMORY</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
				<FONT FACE="Arial, sans-serif"><FONT SIZE=2>-ENOMEM</FONT></FONT></P>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><BR>
				</P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>No
				hay sufuciente memoria</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_UNSUPPORTED</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-200</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
				<FONT FACE="Arial, sans-serif"><FONT SIZE=2>El preprocesador ha
				generado algo que la librer&iacute;a no conoce.</FONT></FONT></P>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><BR>
				</P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Todas
				?</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_TOO_MANY_ARGUMENTS</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-201</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Este
				error sucede cuando escribimos demasiados argumentos en una
				instruccion, incluso cuando ponemos argumentos no esperados en
				sentencias de SQL dinamico.</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_TOO_FEW_ARGUMENTS</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
				<FONT FACE="Arial, sans-serif"><FONT SIZE=2>-202</FONT></FONT></P>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><BR>
				</P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Este
				error se presenta cuando se escriben menos argumentos de los
				esperados en la instrucci&oacute;n</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_TOO_MANY_MATCHES</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-203</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Este
				error se da cuando al hacer consultas el programa no esta
				preparado para atender todos los resultados que nos devuelve la
				BD</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Selects</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_INT_FORMAT</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-204</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>El
				programa espera que la BD devuelva un entero, en cambio devuelve
				algo diferente a un int</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Operaciones
				en las que la base de datos nos devuelve valores</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_UINT_FORMAT	</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-205</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>El
				programa espera un Unsigned Int pero recibe otro tipo de dato</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Operaciones
				en las que la base de datos nos devuelve valores</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_FLOAT_FORMAT</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-206</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>El
				programa espera un FLOAT pero recibe otro tipo de dato</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Operaciones
				en las que la base de datos nos devuelve valores</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_CONVERT_BOOL</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-207</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P ALIGN=LEFT><FONT FACE="Arial, sans-serif">This means that the
				host variable is of a bool type and the field in the Postgres
				database is neither</FONT></P>
				<P ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>&rsquo;t&rsquo;
				nor &rsquo;f&rsquo;.</FONT></FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>?</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_EMPTY	</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-208</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P ALIGN=LEFT><FONT FACE="Arial, sans-serif">Postgres returned
				PGRES_EMPTY_QUERY, probably because the query indeed was empty.</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>?</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_MISSING_INDICATOR	</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-209</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>?</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NO_ARRAY</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-210</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>?</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_DATA_NOT_ARRAY</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-211</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>?</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NO_CONN</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-220</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">Se
				intenta realizar operaciones con una BD pero no se esta
				conectado.</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOT_CONN</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-221</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">El
				programa intenta acceder a una conexi&oacute;n que existe pero
				que no esta abierta</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_INVALID_STMT	</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-230</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">Este
				error se produce cuando  en sql dinamico cuando se ejecuta una
				consulta que no contiene nada, una consulta que no esta
				preparada, o en general cuando se intenta ejecutar un comando de
				SQL incorrecto</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_UNKNOWN_DESCRIPTOR</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-240</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>dynamic
				SQL related</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_INVALID_DESCRIPTOR_INDEX</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-241</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>dynamic
				SQL related</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_UNKNOWN_DESCRIPTOR_ITEM</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-242</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>dynamic
				SQL related</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_VAR_NOT_NUMERIC</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-243</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>dynamic
				SQL related</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_VAR_NOT_CHAR</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-244</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>dynamic
				SQL related</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_PGSQL	</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-400</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">se ha
				producido cuando he comparado una variable int con una variable
				char, en sql dinamico cuando se pasa una instruccion no valida</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Backend
				error messages</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_TRANS	</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-401</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">No se
				puede comenzar, COMMIT o ROLLBACK la transaccion</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Transacciones</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_CONNECT</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-402</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">No se
				puede conectar a la BD, la conexi&oacute;n con la BD no funciona</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>todas</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOTICE_UNRECOGNIZED</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-600</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">NOTICE:
				 (transaction aborted): queries ignored until END</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>backend
				notices</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOTICE_QUERY_IGNORED</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-601</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">NOTICE:
				 PerformPortalClose: portal &quot;*&quot; not found</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>backend
				notices</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOTICE_UNKNOWN_PORTAL</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-602</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">NOTICE:
				 BEGIN: already a transaction in progress</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>backend
				notices</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOTICE_IN_TRANSACTION</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-603</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">NOTICE:
				 AbortTransaction and not in in-progress state</FONT></P>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">NOTICE:
				 COMMIT: no transaction in progress</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>backend
				notices</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOTICE_NO_TRANSACTION</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-604</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">NOTICE:
				 BlankPortalAssignName: portal * already exists</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>backend
				notices</FONT></FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ECPG_NOTICE_PORTAL_EXISTS</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>-605</FONT></FONT></P>
			</TD>
			<TD WIDTH=133>
				<P LANG="en-GB" ALIGN=LEFT><FONT FACE="Arial, sans-serif">?</FONT></P>
			</TD>
			<TD WIDTH=132>
				<P LANG="en-GB" ALIGN=LEFT STYLE="margin-top: 0.18cm"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>backend
				notices</FONT></FONT></P>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">3.5.2
gestion de <SPAN LANG="en-GB">errores en tiempo de ejecucion</SPAN></FONT></FONT></FONT></B></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Normalmente
se pueden producir muchos errores cuando se ejecuta una consula, como
errores estaticos, nombres mal escritos.</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN LANG="en-GB"><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">Para
estos errores se dispone de la instrucci&oacute;n WHENEVER a la que
se puede acceder si se produce algun error. Se puede poner la
instrucci&oacute;n WHENEVER justo despues de una consulta y mediante
varias opciones decidir como continuar la ejecucion del programa.</FONT></FONT></FONT></SPAN></FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>El
formato es el siguiente:</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL WHENEVER
&lt;condition&gt; &lt;action&gt;; </FONT>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P LANG="en-GB" CLASS="western"><SPAN LANG="es-ES">En la opci&oacute;n
condition se debe indicar el tipo de error para el que se quiere que
haya una respuesta especial.</SPAN></P>
<P CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><SPAN LANG="es-ES">SQLERROR indica
que  se ha producido un error de ejecuci&oacute;n.</SPAN></P>
<P CLASS="western">NOT FOUND indica que no se ha encontrado ninguna
fila en la SELECT realizada.</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT FACE="Arial, sans-serif">En
la opci&oacute;n &lt;action&gt; se debe indicar lo que se quiere que
se realice en caso de error. Tenemos tres opciones:</FONT></FONT></P>
<P ALIGN=LEFT><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">
 &middot; CONTINUE con lo que se intentara ejecutar la siguiente
instrucci&oacute;n del programa</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">
 &middot; DO &lt;instruction&gt; con lo  que se podr&aacute; ejecutar
una instrucci&oacute;n como printf(&ldquo;error&rdquo;); o una       
  funci&oacute;n creada por el programador siempre que tenga un valor
de retorno.</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT FACE="Arial, sans-serif"><FONT COLOR="#000000">
 &middot; </FONT><SPAN LANG="es-ES">GOTO &lt;label_name&gt; con la
que se puede saltar a una etiqueta del programa previamente declarada</SPAN></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<H1 CLASS="western" ALIGN=JUSTIFY><SPAN LANG="en-GB"><FONT SIZE=4>4.</FONT>
<FONT SIZE=4>Transacciones</FONT></SPAN></H1>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<BR><BR>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Hasta ahora se han visto
las instrucciones de manera aislada pero lo normal es utilizar SQL
para transacciones que agrupan instrucciones para pasar de un estado
consistente de la base de datos a otro estado consistente.</FONT></FONT></P>
<H2 LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>Como
empezar y finalizar transacciones</FONT></FONT></FONT></H2>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se realizan transacciones
en cada instrucci&oacute;n de SQL que se ejecutan. Unas se guardan al
momento en la base de datos como las operaciones CREATE TABLE pero
otras como INSERT o UPDATE hay que decir explicitamente que se guarde
de forma permanente en la Base de Datos o que deshaga los cambios
previamente efectuados. </FONT></FONT>
</P>
<H2 LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>COMMIT</FONT></FONT></FONT></H2>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif">Se usa la sentencia COMMIT para
terminar una transaccion salvando los cambios que se han realizado.
Mientras los cambios no estan guardados la transaccion no finaliza y
nadie puede acceder a los datos en la BD. La sentencia COMMIT hace
permanentes los cambios realizados, los hace visibles a los otros
usuarios permitiendo su manipulaciony finaliza la transaccion.</FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif">Existe una opcion en el preprocesador
ecpg que permite no usar la instrucci&oacute;n COMMIT y aun asi que
se guarden los cambios producidos en las transacciones realizadas en
el programa. Escribiendo ecpg &ndash;t filename.sqc permitimos que se
guarden automaticamente las transacciones que se realizan.</FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>La forma mas correcta de
usar COMMIT es poniendo la instrucci&oacute;n justo despues de
realizar la transaccion habiendo comprovado que no se ha producido
ningun error en la transaccion para que asi la BD este el minimo
tiempo ocupada y se guarden los cambios rapidamente.</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC SQL UPDATE &lt;table&gt;
SET &lt;instruction&gt; WHERE &lt;query&gt;;</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>If (ERROR) EXEC SQL
ROLLBACK;</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>ELSE EXEC SQL COMMIT;</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC SQL COMMIT;</FONT></FONT></P>
<H2 LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>ROLLBACK</FONT></FONT></FONT></H2>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Se usa ROLLBACK para
deshacer los cambios que estan pendientes de salvar en la base de
datos. Por ejemplo si se produce un error en alguna instrucci&oacute;n
de una transaccion se usa la sentencia ROLLBACK para evitar que se
guarden de forma permanente. Al escribir EXEC SQL ROLLBACK se
deshacen los cambios producidos y se finaliza la transaccion que esta
activa actualmente.</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>La forma mas correcta de
usar ROLLBACK seria ponerlo despues de de una instrucci&oacute;n de
control de errores como WHENEVER o alguna sentencia de control de
flujo como if usando la variable sqlca.sqlcode para poder deshacer
los cambios en el caso de que se  produjese algun tipo de error. </FONT></FONT>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY><BR>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY><FONT FACE="Arial, sans-serif">EXEC SQL
UPDATE &lt;table&gt; SET &lt;instruction&gt; WHERE &lt;query&gt;;</FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY><BR>
</P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>If (ERROR) EXEC SQL
ROLLBACK;</FONT></FONT></P>
<P LANG="en-GB" ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>ELSE EXEC SQL COMMIT;</FONT></FONT></P>
<H3 LANG="en-GB" CLASS="western" ALIGN=JUSTIFY STYLE="font-weight: medium">
<FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC SQL COMMIT;</FONT></FONT></H3>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B><FONT SIZE=4 STYLE="font-size: 16pt"><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">5.
El precompilador</FONT></FONT></FONT></B></FONT></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><B><FONT SIZE=3><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">5.1
que es</FONT></FONT></FONT></B></FONT></P>
<P ALIGN=JUSTIFY><BR>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif">El
precompilador se llama ecpg. Se instala por defecto en el directorio
<I>/postgres/bin</I>. Al invocarlo pas&aacute;ndole como par&aacute;metro
el fichero.sqc que contiene el programa, lo traduce a un fichero.c
compilable por el compilador de C que este instalado en la maquina
que se use, como por ejemplo gcc. Seguidamente hay que unir el
programa objetivo creado con las librer&iacute;as de PostgreSQL que
se encuentran en el directorio de instalaci&oacute;n de PostgreSQL, 
<I>gcc -g -I /usr/local/pgsql/include fichero.c -L 
/usr/local/pgsql/lib -lecpg -lpq</I>.</FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">5.2
Opciones de compilaci&oacute;n</FONT></FONT></B></FONT></FONT></P>
<P ALIGN=LEFT><BR>
</P>
<P ALIGN=LEFT><FONT FACE="Courier New, monospace">ecpg [ -v ] [ -t ]
[ -I include-path ] [ -o outfile ]  file1 [ file2 ] [ ... ]</FONT></P>
<P ALIGN=LEFT><FONT FACE="Courier New, monospace">  </FONT>
</P>
<P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT FACE="Arial, sans-serif"><B>ecpg</B>
acepta los siguientes para metros de entrada: </FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><B>-v</B>
 Imprime informaci&oacute;n sobre la compilaci&oacute;n</FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><B>-t</B>
 Desactiva las autotransacciones</FONT></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><B>-I
</B><I>path</I> Especifica la direcci&oacute;n de las definiciones de
las librer&iacute;as. Inicialmente el camino es  <I>/usr/local/include</I>,
el camino inicial de Postgres y sus includes que se define en tiempo
de compilaci&oacute;n <I>/usr/local/pgsql/lib</I>, y <I>/usr/include</I>.
</FONT></FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><B>-o</B>
Especifica a ecpg donde escribir el archivo salida. Si no se
especifica nada se creara el mismo archivo pero con extensi&oacute;n
.c </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><FONT SIZE=2><FONT FACE="Arial, sans-serif"><I>file</I>
los ficheros a procesar</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm; page-break-after: avoid">
<BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm; page-break-after: avoid">
<FONT FACE="Times New Roman, serif"><FONT SIZE=4><B><FONT SIZE=2><FONT FACE="Arial, sans-serif"><FONT COLOR="#000080">Compilaci&oacute;n
y linkaje</FONT></FONT></FONT></B></FONT></FONT></P>
<P ALIGN=LEFT><BR>
</P>
<P ALIGN=LEFT><FONT FACE="Times New Roman, serif"><FONT FACE="Arial, sans-serif">Asumiendo
que los archivos de Postgres est&aacute;n en el directorio
<I>/usr/local/pgsql</I> :</FONT></FONT></P>
<P ALIGN=LEFT><BR>
</P>
<P ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT FACE="Arial, sans-serif">gcc
-g -I /usr/local/pgsql/include [ -o <I>file</I> ] <I>file</I>.c -L
/usr/local/pgsql/lib -lecpg -lpq</FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=3><B>Ejemplo</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>Programa
en SQL Inmerso</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;string.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;stdio.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;stdlib.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>EXEC
SQL INCLUDE sqlca;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>main()</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>int
i;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>//char
db[15];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL BEGIN DECLARE SECTION;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       	int c_p;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		char
n_p[30];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       	char d_e[2];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
       char h[4];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
       float au;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		int
cod_emi;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		char
c[5], db[15];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		float
int1=0,int2=0;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL END DECLARE SECTION;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;introduce
el nombre de la base d datos: &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%s&quot;,
&amp;db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL CONNECT TO :db;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	if
(sqlca.sqlcode!=0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		printf(&quot;\nERROR
en la conexion&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		exit(-1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	else
printf(&quot;\nBase de datos %s abierta\n&quot;, db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	i=0;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;Introduce
el intervalo menor de audiencia\n&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%f&quot;,&amp;int1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;%f\n&quot;,int1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;Introduce
el intervalo mayor de audiencia\n&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%f&quot;,&amp;int2);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;%f\n&quot;,int2);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL DECLARE interval CURSOR</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       	FOR SELECT * </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
       FROM programa </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
       WHERE ((:int1&lt;= audiencia) and (:int2&gt;= audiencia))</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			ORDER
BY dia_emision, horario;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		EXEC
SQL OPEN interval;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		do</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			EXEC
SQL FETCH NEXT FROM interval</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				INTO
:c_p, :n_p, :d_e, :h, :au, :cod_emi;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			if
(sqlca.sqlcode != 0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				if
(i==0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
       		printf(&quot;\nNo hay ningun programa con los intervalos
dados\n&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			break;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			else
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
   	    		printf(&quot;\n\tCodigo De Programa: %d&quot;, c_p);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
  	    	printf(&quot;\n\tNombre del programa: %s&quot;, n_p);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
 		printf(&quot;\n\tDia de emision: %s&quot;, d_e);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
       	printf(&quot;\n\tHorario: %s&quot;, h);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       		printf(&quot;\n\tAudiencia: %f&quot;, au);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       		printf(&quot;\n\tcodigo emisora: %d\n&quot;, cod_emi);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			i++;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			printf(&quot;\nPulsa
c y ENTER para ver el siguiente programa\n&quot;);	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			scanf(&quot;%s&quot;,c);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		}
while (1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL CLOSE interval;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	EXEC
SQL DISCONNECT;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000080"><FONT FACE="Arial, sans-serif"><FONT SIZE=2><B>Programa
despues de usar el preprocesador ecpg</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>/*
Processed by ecpg (2.8.0) */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>/*
These three include files are added by the preprocessor */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;ecpgtype.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;ecpglib.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;ecpgerrno.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
1 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;string.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;stdio.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#include
&lt;stdlib.h&gt;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
1 &quot;/usr/local/pgsql/include/sqlca.h&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#ifndef
POSTGRES_SQLCA_H</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#define
POSTGRES_SQLCA_H</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#ifndef
DLLIMPORT</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#ifdef
__CYGWIN__</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#define
DLLIMPORT __declspec (dllimport)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#else</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#define
DLLIMPORT</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#endif
/* __CYGWIN__ */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#endif
/* DLLIMPORT */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#define
SQLERRMC_LEN	70</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#ifdef
__cplusplus</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>extern		&quot;C&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#endif</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	struct
sqlca</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		char		sqlcaid[8];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		long		sqlabc;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		long		sqlcode;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		struct</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			int			sqlerrml;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			char		sqlerrmc[SQLERRMC_LEN];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		}			sqlerrm;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		char		sqlerrp[8];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		long		sqlerrd[6];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
Element 0: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
1: OID of processed tuple if applicable			*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
2: number of rows processed				*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
after an INSERT, UPDATE or				*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
DELETE statement					*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
3: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
4: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
5: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		char		sqlwarn[8];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
Element 0: set to 'W' if at least one other is 'W'	*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
1: if 'W' at least one character string		*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
value was truncated when it was			*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
stored into a host variable.				*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
* 2: if 'W' a (hopefully) non-fatal notice occured</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
*//* 3: empty */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
4: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
5: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
6: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		/*
7: empty						*/</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		char		sqlext[8];</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	};</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	extern
DLLIMPORT struct sqlca sqlca;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#ifdef
__cplusplus</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#endif</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#endif</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
4 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>main()</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>int
i;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	/*
exec sql begin declare section */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       	 </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       	 </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
        </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
        </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
 </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
14 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  int  c_p   ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
</FONT></FONT></FONT><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
15 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  char  n_p [ 30 ]   ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
</FONT></FONT></FONT><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
16 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  char  d_e [ 2 ]   ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
</FONT></FONT></FONT><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
17 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  char  h [ 4 ]   ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
</FONT></FONT></FONT><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
18 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  float  au   ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
</FONT></FONT></FONT><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
19 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  int  cod_emi   ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
</FONT></FONT></FONT><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
20 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  char  c [ 5 ]   ,  db [ 15 ]   ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
</FONT></FONT></FONT><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
21 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
  float  int1  = 0 ,  int2  = 0 ;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>/*
exec sql end declare section */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
22 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;introduce
el nombre de la base d datos: &quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%s&quot;,
&amp;db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{
ECPGconnect(__LINE__, db , NULL,NULL , NULL, 0); }</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
26 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	if
(sqlca.sqlcode!=0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		printf(&quot;\nERROR
en la conexion&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		exit(-1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	else
printf(&quot;\nBase de datos %s abierta\n&quot;, db);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	i=0;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;Introduce
el intervalo menor de audiencia\n&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%f&quot;,&amp;int1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;%f\n&quot;,int1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;Introduce
el intervalo mayor de audiencia\n&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	scanf(&quot;%f&quot;,&amp;int2);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	printf(&quot;%f\n&quot;,int2);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>/*
declare interval  cursor for select  *  from programa where ( ( ? &lt;=
audiencia  ) and ( ? &gt;= audiencia  ) )   order by dia_emision   ,
horario     */</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
46 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		{
ECPGdo(__LINE__, NULL, &quot;declare interval  cursor for select  * 
from programa where ( ( ? &lt;= audiencia  ) and ( ? &gt;= audiencia 
) )   order by dia_emision   , horario    &quot;, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_float,&amp;(int1),1L,1L,sizeof(float),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_float,&amp;(int2),1L,1L,sizeof(float),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, ECPGt_EOIT, ECPGt_EORT);}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
47 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		do</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>{
ECPGdo(__LINE__, NULL, &quot;fetch next from interval&quot;,
ECPGt_EOIT, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_int,&amp;(c_p),1L,1L,sizeof(int),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_char,(n_p),30L,1L,30*sizeof(char),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_char,(d_e),2L,1L,2*sizeof(char),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_char,(h),4L,1L,4*sizeof(char),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_float,&amp;(au),1L,1L,sizeof(float),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, </FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_int,&amp;(cod_emi),1L,1L,sizeof(int),
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	ECPGt_NO_INDICATOR,
NULL , 0L, 0L, 0L, ECPGt_EORT);}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
51 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			if
(sqlca.sqlcode != 0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				if
(i==0)</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		
       		printf(&quot;\nNo hay ningun programa con los intervalos
dados\n&quot;);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>				}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			break;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			else
</FONT></FONT></FONT>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			{</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
   	    		printf(&quot;\n\tCodigo De Programa: %d&quot;, c_p);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
  	    	printf(&quot;\n\tNombre del programa: %s&quot;, n_p);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
 		printf(&quot;\n\tDia de emision: %s&quot;, d_e);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	
       	printf(&quot;\n\tHorario: %s&quot;, h);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       		printf(&quot;\n\tAudiencia: %f&quot;, au);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>
       		printf(&quot;\n\tcodigo emisora: %d\n&quot;, cod_emi);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			i++;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			printf(&quot;\nPulsa
c y ENTER para ver el siguiente programa\n&quot;);	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			scanf(&quot;%s&quot;,c);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>			}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>		}
while (1);</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{
ECPGdo(__LINE__, NULL, &quot;close interval&quot;, ECPGt_EOIT,
ECPGt_EORT);}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
73 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>	{
ECPGdisconnect(__LINE__, &quot;CURRENT&quot;);}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>#line
76 &quot;cursores.sqc&quot;</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2>}</FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-top: 0.18cm; margin-bottom: 0.18cm"><BR><BR>
</P>
</BODY>
</HTML>