<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>   pg_dump
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.html"><LINK
REL="UP"
TITLE="Aplicaciones"
HREF="applications.html"><LINK
REL="PREVIOUS"
TITLE="   pgadmin
  "
HREF="app-pgadmin.html"><LINK
REL="NEXT"
TITLE="   pg_dumpall
  "
HREF="app-pgdumpall.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="app-pgadmin.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="app-pgdumpall.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="APP-PGDUMP"
><TT
CLASS="APPLICATION"
>pg_dump</TT
></A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN12184"
></A
><H2
>Nombre</H2
>   <TT
CLASS="APPLICATION"
>pg_dump</TT
>
  &nbsp;--&nbsp;   Extrae una base de datos <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> a un fichero de script
  </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN12189"
></A
><H2
>Synopsis</H2
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>pg_dump [ <TT
CLASS="REPLACEABLE"
><I
>base_de_datos</I
></TT
> ]
pg_dump [ -h <TT
CLASS="REPLACEABLE"
><I
>huésped</I
></TT
> ] [ -p <TT
CLASS="REPLACEABLE"
><I
>puerto</I
></TT
> ]
    [ -t <TT
CLASS="REPLACEABLE"
><I
>tabla</I
></TT
> ]
    [ -a ] [ -c ] [ -d ] [ -D ] [ -n ] [ -N ]
    [ -o ] [ -s ] [ -u ] [ -v ] [ -x ]
    [ <TT
CLASS="REPLACEABLE"
><I
>base_de_datos</I
></TT
> ]
  </PRE
></TD
></TR
></TABLE
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PG-DUMP-1"
></A
><H3
>    Entrada
   </H3
><P
>    <TT
CLASS="APPLICATION"
>pg_dump</TT
> accepta los siguientes argumentos
    de la línea de comando:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>base_de_datos</I
></TT
></DT
><DD
><P
>	Epecifíca el nombre de la base de datos que se va a extraer.
	<TT
CLASS="REPLACEABLE"
><I
>base_de_datos</I
></TT
>
	tiene como estándar el valor de la variable de entorno
	<TT
CLASS="ENVAR"
>USER</TT
>
       </P
></DD
><DT
>-a</DT
><DD
><P
>	Vuelca sólo los datos, no el esquema (las definiciones).
       </P
></DD
><DT
>-c</DT
><DD
><P
>	Limpia el esquema antes de crearlo.
       </P
></DD
><DT
>-d</DT
><DD
><P
>	Vuelca la data como propios insertos de cadenas.
       </P
></DD
><DT
>-D</DT
><DD
><P
>	Vuelca la data como insertos con nombres de atributos
       </P
></DD
><DT
>-n</DT
><DD
><P
>	Suprime las dobles comillas de los identificadores, a menos que sean absolutamente necesarias.
	Esto puede causar problemas al cargar la misma si esta data volcada contiene palabras reservadas
	usadas por los identificadores.
	Esta era la conducta estándar en <TT
CLASS="APPLICATION"
>pg_dump</TT
> pre-v6.4.
       </P
></DD
><DT
>-N</DT
><DD
><P
>	Incluye comillas dobles en los identificadores.
	Este es el estándar.
       </P
></DD
><DT
>-o</DT
><DD
><P
>	Vuelca los identificadores de objetos (<SPAN
CLASS="ACRONYM"
>OID</SPAN
>s) para cada tabla.
       </P
></DD
><DT
>-s</DT
><DD
><P
>	Vuelca solo el esquema (las definiciones), no la data.
       </P
></DD
><DT
>-t <TT
CLASS="REPLACEABLE"
><I
>tabla</I
></TT
></DT
><DD
><P
>	Vuelca la data para la <TT
CLASS="REPLACEABLE"
><I
>tabla</I
></TT
> únicamnete.
       </P
></DD
><DT
>-u</DT
><DD
><P
>	Usa autenticación por medio de clave de acceso. Pide un nombre de usuario y clave de acceso.
       </P
></DD
><DT
>-v</DT
><DD
><P
>	Epecifica el modo verbose(parlanchín)
       </P
></DD
><DT
>-x</DT
><DD
><P
>	Evita el volcado de ACLs (comandos grant/revoke) y la información de propiedad de la tabla.
       </P
></DD
></DL
></DIV
>
   </P
><P
>    <TT
CLASS="APPLICATION"
>pg_dump</TT
> también acepta
    los siguientes argumentos de línea de comando para parámetros de conexión:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-h <TT
CLASS="REPLACEABLE"
><I
>huésped</I
></TT
></DT
><DD
><P
>	Especifica el nombre del huésped de la máquina en la cual se está ejecutando el
	<TT
CLASS="APPLICATION"
>postmaster</TT
>.
	El estándar es usar un socket de dominio local Unix
	en vez de una conexión IP..
       </P
></DD
><DT
>-p <TT
CLASS="REPLACEABLE"
><I
>puerto</I
></TT
></DT
><DD
><P
>	Especifica el puerto de Internet TCP/IP o extensión de archivo socket de dominio local Unix
	en el cual <TT
CLASS="APPLICATION"
>postmaster</TT
>
	está esperando que se efectúen conexiones. En número estándar de puerto es 5432,
	o el valor de la variable de ambiente <TT
CLASS="ENVAR"
>PGPORT</TT
>
	(si está establecida).
       </P
></DD
><DT
>-u</DT
><DD
><P
>	Usa autenticación con clave de acceso.
	Pide
	<TT
CLASS="REPLACEABLE"
><I
>nombre_de_usuario</I
></TT
>
	y <TT
CLASS="REPLACEABLE"
><I
>clave_de_acceso</I
></TT
>.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PG-DUMP-2"
></A
><H3
>    Salida
   </H3
><P
>    <TT
CLASS="APPLICATION"
>pg_dump</TT
> creará un fichero o
    escribirá a <TT
CLASS="FILENAME"
>stdout</TT
>.

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>La conexión con la base de datos 'template1' falló.
connectDB() falló: ¿Está el postmaster ejecutándose y acceptando conexiones
            en el 'Socket de UNIX' en el puerto '<TT
CLASS="REPLACEABLE"
><I
>puerto</I
></TT
>'?
       </TT
></DT
><DD
><P
>	<TT
CLASS="APPLICATION"
>pg_dump</TT
> no pudo unirse al proceso
	<TT
CLASS="APPLICATION"
>postmaster</TT
> 
	en el huésped y puerto especificados. Si ve usted este mensaje,
	verifique que <TT
CLASS="APPLICATION"
>postmaster</TT
>
	se este ejecutando en el huésped indicado, y que usted especificó el puerto correcto.
	Si su site usa algún sistema de autenticación, verifique que usted tiene
	las credenciales de autenticación requeridas.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>La conexión con la base de datos '<TT
CLASS="REPLACEABLE"
><I
>base_de_datos</I
></TT
>' falló.
FATAL 1:  SetUserId: el usuario '<TT
CLASS="REPLACEABLE"
><I
>nombre_de_usuario</I
></TT
>' no está en 'pg_shadow'
       </TT
></DT
><DD
><P
>	Usted no posee una entrada válida en la relación <TT
CLASS="LITERAL"
>pg_shadow</TT
>
	y no le será permitido tener acceso a <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
	Contacte a su administrador de <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>dumpSequence(<TT
CLASS="REPLACEABLE"
><I
>tabla</I
></TT
>): SELECT falló
       </TT
></DT
><DD
><P
>	Usted carece del permiso para leer la base de datos.
	Contacte a su administrador de site <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
       </P
></DD
></DL
></DIV
>
   </P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Nota"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>     <TT
CLASS="APPLICATION"
>pg_dump</TT
> ejecuta internamente las directivas
     <B
CLASS="COMMAND"
>SELECT</B
>. Si tiene problemas ejecutando
     <TT
CLASS="APPLICATION"
>pg_dump</TT
>,
     verifique que puede seleccionar la información de la base de datos mediante el uso de, por
     ejemplo, <TT
CLASS="APPLICATION"
>psql</TT
>.
    </P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMP-1"
></A
><H2
>   Descripción
  </H2
><P
>   <TT
CLASS="APPLICATION"
>pg_dump</TT
> es un utilitario para volcar una base de datos
   <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> en un fichero de script
   conteniendo comandos de consulta. Los ficheros de script
   son en formato de texto y pueden ser usados para reconstruír la base de datos,
   incluso en otras máquinas y con otras arquitecturas.
   <TT
CLASS="APPLICATION"
>pg_dump</TT
> 
   producirá las consultas necesarias para regenerar todos
   los tipos definidos por el usuario, funciones, tablas, índices, agregados, y
   operadores. Adicionalmente, toda la data es copiada en formato de texto
   el cual puede ser nuevamente copiado, también puede ser importado a herramientas
   para su edición.
  </P
><P
>   <TT
CLASS="APPLICATION"
>pg_dump</TT
> 
   es útil para verter el contenido de una base de datos que se vaya a mudar de una instalación de
   <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> a otra. Después de ejecutar
   <TT
CLASS="APPLICATION"
>pg_dump</TT
>,
   se debe examinar el script de salida a ver si contiene alguna advertencia, especialmente
   a la luz de las limitaciones citadas en la parte inferior.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMP-2"
></A
><H2
>   Notas
  </H2
><P
>   <TT
CLASS="APPLICATION"
>pg_dump</TT
> tiene pocas limitaciones.
   Las limitaciones surgen principalmente de la
   dificultad para extraer ciertas meta-informaciones de los catálogos del sistema.

    <P
></P
><UL
><LI
><P
>      <TT
CLASS="APPLICATION"
>pg_dump</TT
> 
      no entiende los índices parciales. La razón es la misma
      citada anteriormente; los predicados de los índices parciales se almacenan como planos.
     </P
></LI
><LI
><P
>      <TT
CLASS="APPLICATION"
>pg_dump</TT
> no maneja objetos grandes.
      Los objetos grandes son ignorados y se debe lidiar con ellos de forma manual.
     </P
></LI
></UL
>
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMP-3"
></A
><H2
>   Uso
  </H2
><P
>   Para volcar una base de datos del mismo nombre que el usuario:

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>% pg_dump &#62; db.out
   </PRE
></TD
></TR
></TABLE
>
  </P
><P
>   Para volver a cargar esta base de datos:

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>% psql -e base_de_datos &#60; db.out
   </PRE
></TD
></TR
></TABLE
>
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="app-pgadmin.html"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.html"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="app-pgdumpall.html"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><TT
CLASS="APPLICATION"
>pgadmin</TT
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="applications.html"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><TT
CLASS="APPLICATION"
>pg_dumpall</TT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>