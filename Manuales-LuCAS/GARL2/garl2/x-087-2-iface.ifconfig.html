<HTML
><HEAD
><TITLE
>Todo sobre ifconfig</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Guía de Administración de Redes con Linux"
HREF="index.html"><LINK
REL="UP"
TITLE="Configuración del Protocolo TCP/IP"
HREF="x-087-2-iface.html"><LINK
REL="PREVIOUS"
TITLE="Interfaz Configuración de la Interfaz para IP"
HREF="x-087-2-iface.interfaz.html"><LINK
REL="NEXT"
TITLE="La orden netstat"
HREF="x-087-2-iface.netstat.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="publicacoes.css"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Guía de Administración de Redes con Linux</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x-087-2-iface.interfaz.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 5. Configuración del Protocolo TCP/IP</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x-087-2-iface.netstat.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="X-087-2-IFACE.IFCONFIG">5.8. Todo sobre ifconfig</H1
><P
>El programa <B
CLASS="COMMAND"
>ifconfig</B
> tiene muchos más parámetros que los descritos hasta
ahora. Generalmente se ejecuta en la forma:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    ifconfig <TT
CLASS="REPLACEABLE"
><I
>interfaz</I
></TT
> [<TT
CLASS="REPLACEABLE"
><I
>dirección</I
></TT
> [<TT
CLASS="REPLACEABLE"
><I
>parámetros</I
></TT
>]]</PRE
></TD
></TR
></TABLE
></P
><P
><TT
CLASS="REPLACEABLE"
><I
>interfaz</I
></TT
> es el nombre de la interfaz y
<TT
CLASS="REPLACEABLE"
><I
>dirección</I
></TT
> es la dirección IP que se asigna
a dicha interfaz. La dirección puede estar en forma de cuaterna o
usando un nombre que <B
CLASS="COMMAND"
>ifconfig</B
> buscará en <TT
CLASS="FILENAME"
>/etc/hosts</TT
>.</P
><P
>&#13;Si <B
CLASS="COMMAND"
>ifconfig</B
> es ejecutado añadiendo únicamente el nombre
de la interfaz, presentará la información de la configuración de dicha
interfaz. Si se ejecuta sin parámetros, presenta todas las interfaces
configuradas hasta el momento; usando la opción <TT
CLASS="OPTION"
>&ndash;a</TT
>
fuerza a ifconfig a incluir la información de las interfaces inactivas.
A modo de ejemplo, la consulta de la configuración de la interfaz Ethernet
<TT
CLASS="FILENAME"
>eth0</TT
> sería:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    # <TT
CLASS="USERINPUT"
><B
>ifconfig eth0</B
></TT
>
    eth0      Link encap 10Mbps Ethernet  HWaddr 00:00:C0:90:B3:42
              inet addr 172.16.1.2 Bcast 172.16.1.255 Mask 255.255.255.0
              UP BROADCAST RUNNING  MTU 1500  Metric 0
              RX packets 3136 errors 217 dropped 7 overrun 26
              TX packets 1752 errors 25 dropped 0 overrun 0</PRE
></TD
></TR
></TABLE
></P
><P
>&#13;
Los campos <TT
CLASS="LITERAL"
>MTU</TT
> y <TT
CLASS="LITERAL"
>Metric</TT
> informan sobre
los valores actuales de la MTU (Unidad Máxima de Transferencia) y de la
métrica para una interfaz dada. El valor de la métrica es usado
tradicionalmente por algunos sistemas operativos para calcular el coste de
una ruta. GNU/Linux no usa este valor por el momento, pero lo define por
razones de compatibilidad.</P
><P
>Las líneas <TT
CLASS="LITERAL"
>RX</TT
> y <TT
CLASS="LITERAL"
>TX</TT
> dan idea
de los paquetes recibidos o transmitidos sin errores, del número de
errores ocurridos, de cuántos paquetes han sido descartados (seguramente
por memoria insuficiente), y cuántos han sido perdidos por desbordamiento,
condición que ocurre cuando la recepción de paquetes es demasiado rápida
y el núcleo es incapaz de dar servicio al paquete anterior antes de la
llegada del nuevo paquete. Los nombres de los campos que genera
<B
CLASS="COMMAND"
>ifconfig</B
> coinciden más o menos con los parámetros
con los que se puede ejecutar; estos parámetros son explicados más abajo.</P
><P
>A continuación tenemos una lista de los parámetros reconocidos por
<B
CLASS="COMMAND"
>ifconfig</B
>. Las opciones que simplemente activan alguna
característica pueden usarse para desactivarla precediéndolas de un guión (&ndash;).</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>up</TT
></DT
><DD
><P
>Marca la interfaz como disponible para que sea usada por la capa IP.
Esta opción va implícita cuando lo que se da en la línea de órdenes es una
<TT
CLASS="REPLACEABLE"
><I
>dirección</I
></TT
>. También permite reactivar una interfaz
que se ha desactivado temporalmente mediante la opción <TT
CLASS="LITERAL"
>down</TT
>.</P
><P
>Esta opción corresponde a los indicadores <TT
CLASS="OPTION"
>UP</TT
> y <TT
CLASS="OPTION"
>RUNNING</TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>down</TT
></DT
><DD
><P
>Marca la interfaz como inaccesible a la capa IP. Esto inhabilita cualquier
tráfico IP a través de la interfaz. Es importante darse cuenta que esto también
borra los registros de la tabla de encaminamiento correspondientes a esa interfaz
de forma automática.</P
></DD
><DT
><TT
CLASS="LITERAL"
>netmask</TT
> <TT
CLASS="REPLACEABLE"
><I
>máscara</I
></TT
></DT
><DD
><P
>&#13;

Esto asigna una máscara de subred a una interfaz. Se puede dar como un
valor de 32 bits en hexadecimal precedido del prefijo 0x, o en notación
de cuaterna usando números decimales separados por puntos. Aunque la notación
en forma de cuaterna es más común, la representación hexadecimal es muchas veces
más fácil de usar. Las máscaras de red son esencialmente binarias, y es más fácil
hacer una conversión binario-a-hexadecimal que una binario-a-decimal.</P
></DD
><DT
><TT
CLASS="LITERAL"
>pointopoint</TT
> <TT
CLASS="REPLACEABLE"
><I
>dirección</I
></TT
></DT
><DD
><P
>&#13;Esta opción se usa para enlaces IP punto-a-punto en los que intervienen
únicamente dos máquinas. Esta opción es necesaria para, por ejemplo, configurar
las interfaces SLIP o PLIP. Si se ha definido una dirección punto a punto,<B
CLASS="COMMAND"
>ifconfig</B
>
muestra el indicador <TT
CLASS="OPTION"
>POINTOPOINT</TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>broadcast</TT
>
<TT
CLASS="REPLACEABLE"
><I
>dirección</I
></TT
></DT
><DD
><P
>&#13;

La dirección de difusión se obtiene, generalmente, usando la parte de red de
la dirección y activando todos los bits de la parte correspondiente a
la máquina. Algunas implementaciones de los protocolos IP (por ejemplo,
sistemas derivados de BSD 4.2) utilizan un esquema diferente; esta opción
proporciona un método para adaptarse a esos entornos más raros.
<B
CLASS="COMMAND"
>ifconfig</B
> confirma el establecimiento de una
dirección de difusión incluyendo el indicador <TT
CLASS="OPTION"
>BROADCAST</TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>irq</TT
></DT
><DD
><P
>&#13;
Esta opción permite establecer la línea de IRQ usado por ciertos dispositivos.
Esto es especialmente útil para PLIP, pero también puede ser de utilidad para
algunas tarjetas Ethernet.</P
></DD
><DT
><TT
CLASS="LITERAL"
>metric</TT
> <TT
CLASS="REPLACEABLE"
><I
>número</I
></TT
></DT
><DD
><P
>&#13;

Esta opción puede ser usada para asignar un valor de métrica a la tabla de
encaminamiento creada para la interfaz. Esta métrica es usada por el Protocolo
de Información de Encaminamiento (RIP) para construir las tablas de encaminamiento
para la red.<A
NAME="X-087-2-FNTC11"
HREF="#FTN.X-087-2-FNTC11"
>[1]</A
>

El valor usado por omisión por <B
CLASS="COMMAND"
>ifconfig</B
> es cero.
Si no esta ejecutando un demonio RIP, no necesita usar esta opción para
nada; si por el contrario lo usa, sólo tendrá que modificar este valor
en contadas ocasiones.</P
></DD
><DT
><TT
CLASS="LITERAL"
>mtu</TT
> <TT
CLASS="REPLACEABLE"
><I
>bytes</I
></TT
></DT
><DD
><P
>&#13;Esto fija la unidad máxima de transferencia, o lo que es lo mismo, el máximo
número de octetos que la interfaz es capaz de manejar en una única transacción.
Para Ethernets, la MTU toma el valor 1500 por omisión (que es el tamaño máximo
permitido para un paquete Ethernet); para interfaces tipo SLIP, el valor por
defecto es 296. No hay tamaño límite para el MTU en enlaces SLIP, pero este
valor es una buena garantía.</P
></DD
><DT
><TT
CLASS="LITERAL"
>arp</TT
></DT
><DD
><P
>&#13;Esta opción es específica de redes de difusión como las Ethernets o las de radio-paquetes.
Permite el uso de ARP, el Protocolo de Resolución de Direcciones, para detectar
la dirección física de las máquinas conectadas a la red. Para redes de difusión,
esta opción es habilitada por omisión. Si ARP está desactivado,<B
CLASS="COMMAND"
>ifconfig</B
>
muestra el indicador <TT
CLASS="OPTION"
>NOARP</TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&ndash;arp</TT
></DT
><DD
><P
>Inhabilita el uso de ARP para esta interfaz.</P
></DD
><DT
><TT
CLASS="LITERAL"
>promisc</TT
></DT
><DD
><P
>&#13;

Pone la interfaz en modo promiscuo. En una red de difusión, esto
hace que la interfaz reciba todos los paquetes, independientemente
de si eran para ella o no. Esto permite el análisis del tráfico de
red utilizando utilidades como filtros de paquetes, también llamado
<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>fisgoneo de Ethernet</I
></SPAN
>. Se trata de una buena
técnica para localizar problemas de red que de otra forma resultan
difíciles de detectar. Herramientas como <B
CLASS="COMMAND"
>tcpdump</B
>
se basan en esto.</P
><P
>Por otro lado, esta opción permite a los atacantes hacer cosas feas,
como filtrar el tráfico de su red en busca de contraseñas. Usted puede
protegerse contra este tipo de ataques simplemente prohibiendo que nadie
conecte un ordenador en la red. También puede usar protocolos de
autentificación segura, como Kerberos o ssh (secure shell).
<A
NAME="X-087-2-FNTC12"
HREF="#FTN.X-087-2-FNTC12"
>[2]</A
> Esta opción corresponde al indicador<TT
CLASS="OPTION"
>PROMISC</TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&ndash;promisc</TT
></DT
><DD
><P
>Esta opción apaga el modo promiscuo.</P
></DD
><DT
><TT
CLASS="LITERAL"
>allmulti</TT
></DT
><DD
><P
>&#13;Las direcciones de envío múltiple (multicast) son como las direcciones de difusión de Ethernet, excepto
que en lugar de incluir automáticamente a todo el mundo, los únicos que reciben paquetes
enviados a una dirección de envío múltiple son aquellos programados para escucharla. Esto
es útil para aplicaciones como videoconferencia basada en Ethernet o audio para red, en los
que sólo los interesados pueden escuchar. Las direcciones de envío múltiple están soportadas
por casi todas las controladoras Ethernet (pero no todas). Cuando esta opción está activa,
la interfaz recibe y envía paquetes de envío múltiple para su proceso. Esta opción corresponde
al indicador <TT
CLASS="OPTION"
>ALLMUTI</TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&ndash;allmulti</TT
></DT
><DD
><P
>Esta opción desactiva las direcciones de envío múltiple.</P
></DD
></DL
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notas</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.X-087-2-FNTC11"
HREF="x-087-2-iface.ifconfig.html#X-087-2-FNTC11"
>[1]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>RIP elige la ruta óptima a una determinada máquina basándose en la
&ldquo;longitud&rdquo; del camino. Esto se calcula sumando los valores de las
métricas individuales de cada enlace máquina-a-máquina. por omisión, un salto
tiene longitud 1, pero puede ser cualquier entero positivo menor de 16 (Una longitud
de ruta igual a 16 equivale a infinito. Estas rutas se consideran inusables). El
parámetro <TT
CLASS="OPTION"
>metric</TT
> establece este coste de los saltos, que es
difundido entonces por el demonio de encaminamiento.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.X-087-2-FNTC12"
HREF="x-087-2-iface.ifconfig.html#X-087-2-FNTC12"
>[2]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
> ssh puede obtenerse en
 <SPAN
CLASS="SYSTEMITEM"
>ftp.cs.hut.fi</SPAN
> en
<TT
CLASS="FILENAME"
>/pub/ssh</TT
>.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x-087-2-iface.interfaz.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x-087-2-iface.netstat.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Interfaz Configuración de la Interfaz para IP</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="x-087-2-iface.html"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>La orden netstat</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>