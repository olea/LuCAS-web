.\" Copyright (c) 1991, 92, 93, 94, 95, 96, 1997 Free Software Foundation
.\" See section COPYING for conditions for redistribution
.\"
.\" Translated into Spanish on Apr 30 1999 by Gerardo Aburruzaga
.\" García <gerardo.aburruzaga@uca.es>
.\"
.TH ld 1 "17 de Agosto de 1992" "Cygnus support" "Herramientas de Desarrollo de GNU"
.de BP
.sp
.ti \-.2i
\(**
..

.SH NOMBRE
ld \- el enlazador de GNU

.SH SINOPSIS
.hy 0
.na
.TP
.B ld 
.RB "[\|" \-o "
.I salida\c
\&\|] \c
.I fichobj\c
\&.\|.\|.
.br
.RB "[\|" \-A\c
.I arquitectura\c
\&\|] 
.RB "[\|" "\-b\ "\c
.I formato-entrada\c
\&\|] 
.RB "[\|" \-Bstatic "\|]"  
.RB "[\|" \-Bdynamic "\|]"  
.RB "[\|" \-Bsymbolic "\|]"  
.RB "[\|" "\-c\ "\c
.I fichórdenes\c
\&\|] 
.RB "[\|" \-\-cref "\|]"
.RB "[\|" \-d | \-dc | \-dp\c
\|]
.br
.RB "[\|" "\-defsym\ "\c
.I símbolo\c
\& = \c
.I expresión\c
\&\|]
.RB "[\|" "\-e\ "\c
.I entrada\c
\&\|] 
.RB "[\|" \-embedded\-relocs "\|]"
.RB "[\|" \-E "\|]" 
.RB "[\|" \-export\-dynamic "\|]"
.RB "[\|" "\-f\ "\c
.I nombre\c
\&\|]
.RB "[\|" "\-\-auxiliary\ "\c
.I nombre\c
\&\|]
.RB "[\|" "\-F\ "\c
.I nombre\c
\&\|]
.RB "[\|" "\-\-filter\ "\c
.I nombre\c
\&\|]
.RB "[\|" "\-format\ "\c
.I formato-entrada\c
\&\|] 
.RB "[\|" \-g "\|]" 
.RB "[\|" \-G
.I tamaño\c
\&\|]
.RB "[\|" "\-h\ "\c
.I nombre\c
\&\|]
.RB "[\|" "\-soname\ "\c
.I nombre\c
\&\|]
.RB "[\|" \-\-help "\|]"
.RB "[\|" \-i "\|]"
.RB "[\|" \-l\c
.I ar\c
\&\|] 
.RB "[\|" \-L\c
.I dirbúsqueda\c
\&\|] 
.RB "[\|" \-M "\|]" 
.RB "[\|" \-Map
.I fichmapa\c
\&\|] 
.RB "[\|" \-m
.I emulación\c
\&\|] 
.RB "[\|" \-n | \-N "\|]" 
.RB "[\|" \-noinhibit-exec "\|]" 
.RB "[\|" \-no\-keep\-memory "\|]" 
.RB "[\|" \-no\-warn\-mismatch "\|]" 
.RB "[\|" "\-oformat\ "\c
.I formato-salida\c
\&\|] 
.RB "[\|" "\-R\ "\c
.I nombrefichero\c
\&\|]
.RB "[\|" \-relax "\|]"
.RB "[\|" \-r | \-Ur "\|]" 
.RB "[\|" "\-rpath\ "\c
.I directorio\c
\&\|]
.RB "[\|" "\-rpath\-link\ "\c
.I directorio\c
\&\|]
.RB "[\|" \-S "\|]" 
.RB "[\|" \-s "\|]" 
.RB "[\|" \-shared "\|]" 
.RB "[\|" \-sort\-common "\|]" 
.RB "[\|" "\-split\-by\-reloc\ "\c
.I número\c
\&\|]
.RB "[\|" \-split\-by\-file "\|]" 
.RB "[\|" "\-T\ "\c
.I fichórdenes\c
\&\|]  
.RB "[\|" "\-Ttext\ "\c
.I textorg\c
\&\|] 
.RB "[\|" "\-Tdata\ "\c
.I dataorg\c
\&\|] 
.RB "[\|" "\-Tbss\ "\c
.I bssorg\c
\&\|]
.RB "[\|" \-t "\|]" 
.RB "[\|" "\-u\ "\c
.I sím\c
\&]
.RB "[\|" \-V "\|]"
.RB "[\|" \-v "\|]"
.RB "[\|" \-\-verbose "\|]"
.RB "[\|" \-\-version "\|]"
.RB "[\|" \-warn\-common "\|]" 
.RB "[\|" \-warn\-constructors "\|]" 
.RB "[\|" \-warn\-multiple\-gp "\|]" 
.RB "[\|" \-warn\-once "\|]" 
.RB "[\|" \-warn\-section\-align "\|]" 
.RB "[\|" \-\-whole\-archive "\|]" 
.RB "[\|" \-\-no\-whole\-archive "\|]" 
.RB "[\|" "\-\-wrap\ "\c
.I símbolo\c
\&\|]
.RB "[\|" \-X "\|]" 
.RB "[\|" \-x "\|]" 
.ad b
.hy 1
.SH DESCRIPCIÓN
\c
.B ld\c
\& combina un número de ficheros objeto y archivos, reubica sus datos
y enlaza referencias de símbolos. A menudo el último paso en
el proceso de construcción de un nuevo programa compilado para su
ejecución es una llamada a \c 
.B ld\c
\&.

\c
.B ld\c
\& acepta ficheros de Lenguaje de Órdenes de Enlazador para
proporcionar control explícito y total sobre el proceso de
enlazado. Esta página del Manual no describe el lenguaje de órdenes;
consulte la entrada de menú `\|\c
.B ld\c
\|' en `\|\c
.B Info\c
\|', o el manual
.I
ld: El Enlazador de GNU
\&, para todos los detalles sobre el lenguaje de órdenes y sobre otros 
aspectos del enlazador de GNU.

Esta versión de \c
.B ld\c
\& emplea las bibliotecas BFD de propósito general para operar sobre
ficheros objeto. Esto permite a \c
.B ld\c
\& leer, combinar y escribir ficheros objetos en varios formatos
diferentes: por ejemplo, COFF o
\c
.B a.out\c
\&.  Se pueden enlazar juntos formatos diferentes para producir
cualquier clase disponible de fichero objeto. Uno puede emplear `\|\c
.B objdump \-i\c
\|' para obtener una lista de los formatos soportados en varias
arquitecturas; consulte
.BR objdump ( 1 ).

Aparte de su flexibilidad, el enlazador de GNU es más útil que otros
enlazadores en la tarea de proporcionar información de
diagnóstico. Muchos enlazadores abandonan la ejecución inmediatamente
cuando encuentran un error; mientras sea posible,
\c
.B ld\c
\& continúa ejecutándose, permitiéndole identificar otros errores (o,
en algunos casos, obtener un fichero de salida a pesar del error).


El enlazador de GNU \c
.B ld\c
\& está diseñado para cubrir un amplio rango de situaciones, y para
ser tan compatible como sea posible con otros enlazadores. Como
resultado de esto, uno tiene muchas opciones para controlar su
comportamiento a través de la línea de órdenes, y mediante variables
de entorno.

.SH OPCIONES
La enorme cantidad de opciones de la línea de órdenes puede parecer
intimidatoria, pero en la práctica real pocas de ellas se emplean en
cualquier contexto particular. Por ejemplo, un uso frecuente de \c
.B ld\c
\& es enlazar ficheros objetos normales de Unix en un sistema Unix
normal y  con soporte. En tal sistema, para enlazar un fichero \c
.B hola.o\c
\&:
.sp
.br
$\ ld\ \-o\ salida\ /lib/crt0.o\ hola.o\ \-lc
.br
.sp
Esto le dice a \c
.B ld\c
\& que produzca un fichero llamado \c
.B salida\c
\& como resultado de enlazar el fichero \c
.B /lib/crt0.o\c
\& con \c
.B hola.o\c
\& y la biblioteca \c
.B libc.a\c
\& que vendrá de los directorios de búsqueda normales.

Las opciones de la línea de órdenes de \c
.B ld\c
\& se pueden dar en cualquier orden, y pueden repetirse a
voluntad. Para la mayor parte de ellas, repetir una opción con un
argumento diferente no tendrá ningún efecto posterior, o sustituirá a
otras ocurrencias anteriores (aquéllas más a la izquierda en la línea
de mandato) de la opción.

Las excepciones (que pueden emplearse más de una vez con sentido) son
\c
.B \-A\c
\&, \c
.B \-b\c
\& (o su sinónimo \c
.B \-format\c
\&), \c
.B \-defsym\c
\&,
\c
.B \-L\c
\&, \c
.B \-l\c
\&, \c
.B \-R\c
\&, y \c
.B \-u\c
\&.

La lista de ficheros objetos a enlazar juntos, mostrada como \c
.I fichobj\c
\&,
puede seguir, preceder, o mezclarse, con las opciones de la línea de
órdenes; salvo que un argumento \c
.I fichobj\c
\& no puede ponerse entre una letra de opción y su argumento.

Usualmente el enlazador se llama con al menos un fichero objeto, pero
también se pueden especificar otras formas de ficheros de entrada
binarios con \c
.B \-l\c
\&,
\c
.B \-R\c
\&, y el guión de lenguaje de órdenes. Si
.I no\c
\& se especifica en absoluto ningún fichero binario como entrada, el
enlazador no produce ninguna salida, y genera el mensaje `\|\c
.B No input files\c
\|', o sea, `ningún fichero de entrada'.

Los argumentos de opciones pueden seguir a la letra de la opción sin
ningún espacio en blanco en medio, o pueden darse como argumentos
separados que siguen inmediatamente a la opción que los requiere.

.TP
.BI "-A" "arquitectura"
En la distribución actual de \c
.B ld\c
\&, esta opción sólo es de utilidad para la familia de arquitecturas
Intel 960. En esa configuración de \c
.B ld\c
\&, el argumento
\c
.I arquitectura\c
\& es uno de los nombres de dos letras que identifican a miembros de
la familia 960; la opción especifica el objetivo de salida deseado, y
avisos sobre culaquier instrucción incompatible en los ficheros de entrada.
También modifica la estrategia de búsqueda del enlazador para archivos 
de biblioteca, para soportar el empleo de bibliotecas específicas a
cada arquitectura particular, incluyendo en el bucle de búsqueda
nombres con sufijos que identifican a la arquitectura.

Por ejemplo, si su línea de órdenes de \c
.B ld\c
\& incluyera `\|\c
.B \-ACA\c
\|' así 
como `\|\c
.B \-lprobar\c
\|', el enlazador buscaría (en sus caminos de búsqueda incorporados, y 
en cualesquiera otros que Ud. hubiera especificado con \c
.B \-L\c
\&) una biblioteca con
los nombres
.sp
.br
probar
.br
libprobar.a
.br
probarca
.br
libprobarca.a
.br
.sp

Las primeras dos posibilidades se considerarían en cualquier caso; las 
dos últimas son debidas al empleo de `\|\c
.B \-ACA\c
\|'.

Versiones futuras de \c
.B ld\c
\& podrían soportar una funcionalidad similar para otras familias de arquitecturas.

Uno puede usar con sentido \c
.B \-A\c
\& más de una vez en una línea de órdenes, si una familia de
arquitectura permite la combinación de arquitecturas objetivos; cada
uso añadirá otro par de variantes de nombres a buscar para cuando
.B \-l
especifique una biblioteca.

.TP
.BI "\-b " "formato-entrada"
Especifica el formato binario para los ficheros objeto de entrada que
sigan a esta opción en la línea de órdenes. Uno normalmente no
necesita especificar esto, puesto que
\c
.B ld\c
\& está configurado para esperar como formato de entrada
predeterminado el más usual en cada máquina. \c
.I formato-entrada\c
\& es una cadena de texto, el nombre de un formato particular admitido 
por las bibliotecas BDF.
\c
.B \-format \c
.I formato-entrada\c
\&\c
\& tiene el mismo efecto, así como la orden de guión
.BR TARGET .
Uno puede querer emplear esta opción si está enlazando ficheros con un 
formato de binario no usual. Uno también puede emplear \c
.B \-b\c
\& para cambiar entre formatos explícitamente (cuando
se enlacen ficheros objeto de formatos diferentes), incluyendo
\c
.B \-b \c
.I formato-entrada\c
\&\c
\& antes de cada grupo de ficheros objeto en un formato particular.

El formato predeterminado se toma de la variable de entorno
.B GNUTARGET\c
\&.  Uno también pude definir el formato de entrada desde un guión,
empleando la orden \c
.B TARGET\c
\&.

.TP
.B \-Bstatic 
No enlazar contra bibliotecas compartidas. Esto sólo tiene sentido en
plataformas que soporten bibliotecas compartidas.

.TP
.B \-Bdynamic
Enlaza contra bibliotecas dinámicas.  Esto sólo tiene sentido en
plataformas que soporten bibliotecas compartidas. Esta opción
normalmente es la predeterminada en tales plataformas.

.TP
.B \-Bsymbolic
Cuando se cree una biblioteca compartida, enlazar referencias a
símbolos globales a la definición dentro de la biblioteca compartida,
si hay. Normalmente, para un programa enlazado contra una biblioteca
compartida es posible sustituir la definición dentro de la biblioteca
compartida. Esta opción sólo tiene sentido en plataformas ELF que
admitan bibliotecas compartidas.

.TP
.BI "\-c " "fichórdenes"
Hace que \c
.B ld\c
\& lea órdenes de enlazado desde el fichero
\c
.I fichórdenes\c
\&.  Estas órdenes sustituirán completamente al formato predeterminado 
de enlazado de \c
.B ld\c
\& (en vez de añadir); \c
.I fichórdenes\c
\& debe especificar todo lo necesario para describir el formato objetivo.

Uno puede también incluir un guión de órdenes de enlazado directamente 
en la línea de órdenes encerrándolo entre llaves `\|\c
.B {\c
\|' y `\|\c
.B }\c
\|' .

.TP
.B \-\-cref
Muestra una tabla de referencias cruzadas. Si se está generando un
fichero de mapa de enlazado, la tabla de referencias cruzadas se
imprime en el fichero de mapa. Si no, en la salida estándar.

.TP
.B \-d 
.TP
.B \-dc
.TP
.B \-dp
Estas tres opciones son equivalentes; se admiten las varias formas por 
compatibilidad con otros enlazadores. Use cualquiera de ellas para
hacer que \c
.B ld
asigne espacio para símbolos comunes incluso si se especifica un
fichero de salida reubicable (\c
.B \-r\c
\&).  La orden de guión
\c
.B FORCE_COMMON_ALLOCATION\c
\& tiene el mismo efecto.

.TP
.BI "-defsym " "símbolo" "\fR = \fP" expresión
Crea un símbolo global en el fichero de salida, conteniendo la
dirección absoluta dada por \c
.I expresión\c
\&.  Uno puede emplear esta opción tantas veces como sea necesario
para definir múltiples símbolos en la línea de órdenes. Se entienden
unas pocas operaciones aritméticas en la \c 
.I expresión\c
\& en este
contexto: uno puede dar una constante hexadecimal o el nombre de un
símbolo existente, o emplear
.B +\c
\& y \c
.B \-\c
\& para añadir o sustraer constantes hexadecimales o símbolos. Si uno
necesita expresiones más elaboradas, considere el empleo del lenguaje
de órdenes del enlazador desde un guión.

.TP
.BI "-e " "entrada"\c
\& 
Usar \c
.I entrada\c
\& como el símbolo explícito para el comienzo de la ejecución de su
programa, en vez del punto de entrada predeterminado. 
.\" ... Parece que falta algo en el original ...
.\" ... para una discusión de los pp. de e. predeterminados y otras
.\" formas de especificar un punto de entrada.
.\" as the explicit symbol for beginning execution of your
.\" program, rather than the default entry point.  for a
.\" discussion of defaults and other ways of specifying the
.\" entry point.

.TP
.B \-embedded\-relocs
Esta opción sólo tiene sentido cuando se enlaza código MIPS con PIC
empotrado generado por la opción
.B \-membedded\-pic
del compilador y ensamblador de GNU. Hace que el enlazador cree una
tabla que puede emplearse en tiempo de ejecución para reubicar
cualquier dato que haya sido inicializado estáticamente a valores
puntero. Vea el código en
testsuite/ld-empic para más detalles.

.TP
.B \-E
.TP
.B \-export\-dynamic
Cuando se cree un fichero ELF, añade todos los símbolos a la tabla
dinámica de símbolos. Normalmente, la tabla dinámica de símbolos
contiene solamente los símbolos que sean empleados por un objeto
dinámico. Esta opción se necesita para algunos usos de
.I dlopen.

.TP
.BI "-f " "nombre"
.TP
.BI "--auxiliary " "nombre"
Cuando se crea un objeto compartido ELF, establece el campo interno
DT_AUXILIARY al nombre especificado. Esto le dice al enlazador
dinámico que la tabla de símbolos del objeto compartido debería
emplearse como un filtro auxiliar en la tabla de símbolos del objeto compartido
.IR nombre .

.TP
.BI "-F " "nombre"
.TP
.BI "--filter " "nombre"
Cuado se crea un objeto compartido ELF, establece el campo interno
DT_FILTER al nombre especificado. Esto le dice al enlazador dinámico
que la tabla de símbolos del objeto compartido debería emplearse como
un filtro en la tabla de símbolos del objeto compartido
.IR nombre .

.TP
.BI "\-format " "formato\-entrada"
Sinónimo de \c
.B \-b\c
\& \c
.I input\-format\c
\&.

.TP
.B \-g
Se acepta pero no tiene efecto; se proporciona por compatibilidad con
otras herramientas.

.TP
.BI "\-G " "tamaño"\c
Establece el tamaño máximo de objetos a ser optimizados empleando el
registro GP a
.I tamaño
bajo COFF de MIPS. Para otros formatos de fichero objeto no tiene efecto.

.TP
.BI "-h " "nombre"
.TP
.BI "-soname " "nombre"
Cuando se crea un objeto compartido ELF, establece el campo interno
DT_SONAME al nombre especificado. Cuando un ejecutable se enlaza con
un objeto compartido que tiene un campo DT_SONAME, entonces cuando el
ejecutable se ejecuta el enlazador dinámico intentará cargar el objeto 
compartido especificado en el campo DT_SONAME en vez de emplear el
nombre de fichero dado al enlazador.

.TP
.B \-\-help
Muestra un resumen de las opciones de la línea de órdenes en la salida 
estándar y acaba. Esta opción y
.B \-\-version
empiezan con dos guiones en vez de uno por compatibilidad con otros
programas de GNU. Las otras opciones empiezan con un solo guión por
compatibilidad con otros enlazadores.

.TP
.B \-i
Efectúa un enlazado incremental (lo mismo que la opción \c
.B \-r\c
\&).

.TP
.BI "\-l" "ar"\c
\& 
Añade un archivo \c
.I ar\c
\& a la lista de ficheros a enlazar. Esta opción puede emplearse
cualquier número de veces. \c
.B ld\c
\& buscará en su lista de caminos ocurrencias de \c
.B lib\c
.I ar\c
\B .a\c
\& para cada \c
.I ar
especificado.

.TP
.BI "\-L" "dirbúsqueda"
Esta orden añade el camino \c
.I dirbúsqueda\c
\& a la lista de caminos donde
\c
.B ld\c
\& buscará archivos de biblioteca. Se puede emplear esta opción
cualquier número de veces.

El conjunto predeterminado de caminos buscados (sin especificar nada
con 
\c
.B \-L\c
\&) depende de qué modo de emulación esté
.B ld\c
\& empleando, y en algunos casos también en cómo haya sido
configurado. Los caminos también pueden especificarse en un guión de
enlazado con la orden \c
.BR SEARCH_DIR .

.TP
.B \-M 
Muestra (en el fichero de la salida estándar) un mapa de enlazado:
información de diagnóstico sobre dónde se han asociado los símbolos
por \c
.B ld\c
\&, e información sobre asignación de almacenamiento común global.

.TP
.BI "\-Map " "fichmapa"\c
Imprime en el fichero
.I fichmapa
un mapa de enlazado (vea la opción anterior).

.TP
.BI "\-m " "emulación"\c
Emula el enlazador
.IR emulación .
Puede listar las emulaciones disponibles con las opciones
.I \-\-verbose
o
.IR \-V .
Esta opción sustituye a lo predeterminado compilado en el enlazador,
que es el sistema para el que se configuró
.BR ld .

.TP
.B \-N 
especifica legible y modificable para las secciones de \c
.B texto\c
\& y \c
.B datos\c
\&. Si el formato de salida admite números mágicos al estilo de Unix, 
la salida se marca como \c
.B OMAGIC\c
\&.

Cuando uno emplea la opción `\|\c
.B \-N\c
\&\|', el enlazador no alinea en páginas el segmento de datos.

.TP
.B \-n 
establece que el segmento de texto sea de lectura exclusiva, y se
escribe \c
.B NMAGIC\c
\& si es posible.

.TP
.B \-noinhibit\-exec
Normalmente, el enlazador no producirá un fichero de salida si
encuentra errores durante el proceso del enlazado. Con esta opción,
uno puede especificar que desea el fichero de salida incluso después
de producirse errores no fatales.

.TP
.B \-no\-keep\-memory
Normalmente el enlazador optimiza para mayor velocidad en detrimento
del uso de la memoria mediante el almacenamiento temporal de las
tablas de símbolos de los ficheros de entrada en memoria. Esta opción
le dice al enlazador que en lugar de eso optimice para uso de memoria, 
releyendo las tablas de símbolos todas las veces que sean
precisas. Esto puede ser necesario si el enlazador se queda sin
memoria cuando enlace un ejecutable muy grande.

.TP
.B \-no\-warn\-mismatch
Normalmente el enlazador dará un error si uno intenta enlazar juntos
ficheros de entrada que por alguna razón no concuerden entre ellos,
quizá porque hayan sido compilados para procesadores diferentes o para 
diferente sexo (orden de bits). Esta opción le dice al enlazador que
debería permitir tales errores sin decir nada. Esta opción sólo
debería emplearse con sumo cuidado, en casos donde uno haya tomado
alguna precaución especial que asegure que los errores del enlazador
sean inapropiados.

.TP
.BI "\-o " "salida"
.I salida\c
\& es el nombre para el programa producido por \c
.B ld\c
\&; si esta opción no se da, se emplea el nombre  `\|\c
.B a.out\c
\|'.  La orden de guión \c
.B OUTPUT\c
\& también puede especificar el nombre del fichero de salida.

.TP
.BI "\-oformato " "formato\-salida"
Especifica el formato binario para el fichero objeto de salida. Uno
usualmente no necesita especificarlo, puesto que
\c
.B ld\c
\& está configurado para producir como formato de salida
predeterminado el más usual en cada máquina. \c
.I formato\-salida\c
\& es una cadena de texto, el nombre de un formato particular
soportado por las bibliotecas BFD.
La orden de guión
.B OUTPUT_FORMAT
también puede especificar el formato de salida, pero esta opción tiene 
preferencia sobre esta orden.

.TP
.BI "\-R " "nombrefichero"
Lee nombres de símbolos  y sus direcciones desde \c
.I nombrefichero\c
\&, pero no
lo reubica ni lo incluye en la salida. Esto permite que su fichero de
salida se refiera simbólicamente a localizaciones absolutas de memoria 
definidas en otros programas.

.TP
.B \-relax
Una opción con efectos dependientes de la máquina. Actualmente esta
opción sólo está soportada en el H8/300.

En algunas plataformas, emplee esta opción para efectuar
optimizaciones globales que sean posibles cuando el enlazador resuelva 
direccionamiento en su programa, como modos de direccionamiento
relajados y síntesis de nuevas instrucciones en el fichero objeto de salida.

En plataformas donde esto no esté soportado, `\|\c
.B \-relax\c
\&\|' se acepta, pero no tiene efecto.

.TP
.B \-r 
Genera salida reubicable; esto es, genera un fichero de salida que
puede a su vez servir como entrada a \c
.B ld\c
\&.  Esto se denomina a menudo enlazado \c
.IR parcial .
Como un efecto colateral, en entornos que soporten números mágicos de
Unix, esta opción también establece el número mágico del fichero de
salida a
\c
.B OMAGIC\c
\&.
Si esta opción no se da, se produce un fichero absoluto. Cuando se
enlazan programas en C++, esta opción \c
.I no\c
\& resuelve referencias a
constructores; \c
.B \-Ur\c
\& es una alternativa. 

Esta opción hace lo mismo que \c
.B \-i\c
\&.

.TP
.B \-rpath\ \fIdirectorio
Añade un directorio a los caminos de búsqueda de las bibliotecas en
tiempo de ejecución. Esto se emplea cuando se enlaza un ejecutable ELF 
con objetos compartidos. Todos los argumentos
.B \-rpath
se concatenan y se pasan al enlazador de tiempo de ejecución, que los
usa para localizar objetos compartidos en tiempo de ejecución. La
opción 
.B \-rpath
también se emplea cuando se localizan objetos compartidos que son
necesitados por objetos compartidos incluidos explícitamente en el
enlace; vea la descripción de la opción
.BR \-rpath\-link .
Si
.B \-rpath
no se emplea cuando se enlace un ejecutable ELF, se usarán los
contenidos de la variable de entorno
.B LD_RUN_PATH
si está definida.

La opción
.B \-rpath
tamibén se puede usar en SunOS. De forma predeterminada, en SunOS, el
enlazador formará un camino de búsqueda en tiempo de ejecución a
partir de todas las opciones
.B \-L
que se le den. Si se emplea una opción
.BR \-rpath ,
el camino de búsqueda en tiempo de ejecución se formará exclusivamente 
empleando las opciones
.BR \-rpath ,
sin tener en cuenta las opciones
.BR \-L .
Esto puede ser de utilidad cuando se utilice gcc, que añade muchas opciones
.B \-L
que pueden estar en sistemas montados por NFS.

.TP
.B \-rpath\-link\ \fIdirectorio
Cuando se usa ELF en SunOS, una biblioteca compartida puede requerir
otra. Esto sucede cuando un enlazado con
.B ld\ \-shared
incluye una biblioteca compartida como uno de los ficheros de entrada.

Cuando el enlazador encuentra una dependencia como ésta cuando está
haciendo un enlazado no compartido ni reubicable, automáticamente
tratará de localizar la biblioteca compartida requerida e incluirla en 
el enlace, si no se incluye explícitamente. En tal caso, la opción
.B \-rpath\-link
especifica el primer conjunto de directorios a buscar. La opción
.B \-rpath\-link
puede especificar una secuencia de nombres de directorio bien
especificando una lista de nombres separados por dos puntos, o
apareciendo varias veces.

Si la biblioteca compartida requerida no se halla, el enlazador
mostrará un aviso y seguirá con el enlazado.

.TP
.B \-S 
Omite información de símbolos (pero no de todos) para el depurador en
el fichero de salida.

.TP
.B \-s 
Omite toda la información de símbolos en el fichero de salida (``strip'').

.TP
.B \-shared
Crea una biblioteca compartida. Esto actualmente sólo se soporta en
plataformas ELF y SunOS (en SunOS no se requiere, puesto que el
enlazador automáticamente creará una biblioteca compartida cuando haya 
símbolos no definidos y no se use la opción
.BR \-e ).

.TP
.B \-sort\-common
Normalmente, cuando
.B ld
pone los símbolos globales comunes en las secciones de salida
apropiadas, las ordena por tamaño. Primero pone todos los símbolos de
un byte, luego todos los de dos bytes, después todos los de cuatro
bytes, y por último todos los demás. Esto es para prevenir huecos
entre los símbolos debidos a impedimentos de alineamiento. Esta opción 
deshabilita esa ordenación.

.TP
.B \-split\-by\-reloc\ \fInúm
Intenta crear secciones extra en el fichero de salida de forma que
ninguna sección simple en el fichero contenga más de
.I núm
reubicaciones.
Esto es útil cuando se genere un reubicable enorme para descargarlo a
ciertos núcleos de tiempo real con el formato de fichero objeto COFF,
puesto que COFF no puede representar más de 65535 reubicaciones en una 
sola sección.
Observe que esto no funcionará con formatos de fichero objeto que no
admitan secciones arbitrarias. El enlazador no dividirá secciones de
entrada individuales para la redistribución, de forma que si una sola
sección de entrada contiene más de
.I núm
reubicaciones una sección de salida contendrá esas mismas reubicaciones.

.TP
.B \-split\-by\-file
Similar a
.B \-split\-by\-reloc
pero crea una nueva sección de salida para cada fichero de entrada.

.TP
.BI "\-Tbss " "org"\c
.TP
.BI "\-Tdata " "org"\c
.TP
.BI "\-Ttext " "org"\c
Usa \c
.I org\c
\& como la dirección de comienzo para \(em\&respectivamente\(em\& el
segmento de
\c
.B bss\c
\&, \c
.B datos\c
\&, o el de \c
.B texto\c
\&  del fichero de salida.
\c
.I org\c
\& debe ser un entero hexadecimal.

.TP
.BI "\-T " "fichórdenes"
Equivalente a \c
.B \-c \c
.I fichórdenes\c
\&\c
\&; admitido por compatibilidad con otras herramientas.

.TP
.B \-t 
Muestra los nombres de los ficheros de entrada tan pronto como \c
.B ld\c
\& los procesa.

.TP
.BI "\-u " "sím"
Fuerza a que \c
.I sím\c
\& entre en el fichero de salida como un símbolo no definido.
Esto puede, por ejemplo, activar el enlazado de módulos adicionales
desde las bibliotecas estándar. \c
.B \-u\c
\& puede repetirse con diferentes argumentos opciones
para introducir símbolos no definidos adicionales.

.TP
.B \-Ur 
Para programas no C++, esta opción equivale a
\c
.B \-r\c
\&: genera salida reubicable; esto es, un fichero de salida que puede
a su vez servir de entrada a \c
.B ld\c
\&.  Cuando se enlazan programas en C++, \c
.B \-Ur
.I sí\c
\& resolverá referencias a constructores, no como \c
.B \-r\c
\&.

.TP
.B \-\-verbose
Muestra el número de versión de \c
.B ld
y lista las emulaciones soportadas.
Muestra qué ficheros de entrada pueden y no pueden abrirse.

.TP
.B \-v, \-V
Muestra el número de versión de \c
.B ld\c
\&.
La opción 
.B \-V
también lista las emulaciones soportadas.

.TP
.B \-\-version
Muestra el número de versión de \c
.B ld
y acaba.

.TP
.B \-warn\-common
Avisa cuando un símbolo común se combina con otro símbolo común o con
una definición de símbolo. Los enlazadores de Unix permiten esta
práctica algo discutible, pero los de otros sistemas operativos no. Esta opción le
permite encontrar problemas potenciales provenientes de combinar
símbolos globales.

.TP
.B \-warn\-constructors
Avisa si se emplea algún constructor global. Esto sólo es de utilidad
para unos pocos formatos de ficheros objeto. Para formatos como COFF o 
ELF, el enlazador no puede detectar el empleo de constructores globales.

.TP
.B \-warn\-multiple\-gp
Avisa si el fichero de salida requiere múltiples valores de punteros
globales. Esta opción sólo tiene sentido en ciertos procesadores, como 
en los Alpha.

.TP
.B \-warn\-once
Sólo avisa una vez para cada símbolo indefinido, en lugar de una vez
por cada módulo que lo referencia.

.TP
.B \-warn\-section\-align
Avisa si la dirección de una sección de salida cambia debido al
alineamiento. Normalmente, el alineamiento se establecerá por medio de 
una sección de entrada. La dirección cambiará solamente si no se
especifica explícitamente; esto es, si la orden SECTIONS no especifica 
una dirección de comienzo para la sección.

.TP
.B \-\-whole\-archive
Para cada archivo mencionado en la línea de órdenes tras la opción
.BR \-\-whole\-archive ,
incluye cada fichero objeto en el archivo en el enlazado, en vez de
buscar en el archivo los ficheros objeto requeridos. Esto se emplea
normalmente para convertir un fichero archivo en una biblioteca
compartida, forzando la inclusión de cada objeto en la biblioteca
compartida resultante.

.TP
.B \-\-no\-whole\-archive
Desactiva el efecto de la opción
.B \-\-whole\-archive
para archivos que aparecen después en la línea de órdenes.

.TP
.BI "--wrap " "símbolo"
Usa una función envoltorio para
.IR símbolo .
Cualquier referencia indefinida a
.I símbolo
se resolverá a \fB__wrap_\fIsímbolo\fR.
Cualquier referencia indefinida a \fB__real_\fIsímbolo\fR se resolverá 
a
.IR símbolo .

.TP
.B \-X 
Borra todos los símbolos locales temporales. Para la mayoría de
objetivos, éstos son todos los símbolos locales cuyos nombres empiecen 
por `\|\c
.B L\c
\|'.

.TP
.B \-x
Borra todos los símbolos locales.

.PP

.SH ENTORNO
\c
Uno puede cambiar el comportamiento de
.B ld\c
\& con la variable de entorno \c
.B GNUTARGET\c
\&.

\c
.B GNUTARGET\c
\& determina el formato del fichero objeto de entrada si uno no emplea \c
.B \-b\c
\& (o su sinónimo \c
.B \-format\c
\&).  Su valor debería ser uno de los nombres BFD de un formato de
entrada. Si no existe
\c
.B GNUTARGET\c
\& en el entorno, \c
.B ld\c
\& emplea el formato natural del anfitrión. Si \c
.B GNUTARGET\c
\& se establece al valor \c
.B default\c
\&, entonces BFD intenta descubrir el formato examinando los ficheros
binarios de entrada; este método a menudo tiene éxito, pero hay
ambigüedades potenciales, puesto que no hay ningún método que nos
asegure que el número mágico empleado para marcar formatos de ficheros 
objeto sea único. Sin embargo, el procedimiento de configuración para
BFD en cada sistema pone el formato convencional para ese sistema en
primer lugar en la lista de búsqueda, de forma que las ambigüedades se 
resuelvan a favor del convenio.

.PP

.SH "VÉASE TAMBIÉN"

.BR objdump ( 1 )
.br
.br
.RB "`\|" ld "\|' y `\|" binutils "\|'"
en
.B Info\c
.br
.I 
ld: el enlazador de GNU\c
, Steve Chamberlain y Roland Pesch;
.I
Las Utilidades Binarias de GNU\c
, Roland H. Pesch.

.SH DERECHOS DE COPIA
Copyright (c) 1991, 1992 Free Software Foundation, Inc.
.PP
Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.
.PP
Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.
.PP
Permission is granted to copy and distribute translations of this
manual into another language, under the above conditions for modified
versions, except that this permission notice may be included in
translations approved by the Free Software Foundation instead of in
the original English.
.PP
N. del T.: Sólo tiene validez legal el aviso de copyright original.
