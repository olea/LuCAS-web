.\" nfs.5 "Rick Sladkey" <jrs@world.std.com>
.\" Wed Feb  8 12:52:42 1995, faith@cs.unc.edu: updates for Ross Biro's
.\" patches. "
.\" Translated Sat Jul 13 15:57:56 1996 by Diego Novillo (diego@cs.ualberta.ca)
.\" Translation revised on Mon May 11 16:21:39 CEST 1998 by Gerardo
.\" Aburruzaga García <gerardo.aburruzaga@uca.es>
.\"
.TH NFS 5 "20 Noviembre 1993" "Linux 0.99" "Manual del Programador de Linux"
.SH NOMBRE
nfs \- formato del fstab para nfs y opciones
.SH SINOPSIS
.B /etc/fstab
.SH DESCRIPCIÓN
El fichero
.I fstab
contiene información acerca de qué sistemas de ficheros montar, dónde
montarlos y con qué opciones.
Para montajes NFS, contiene el nombre del servidor y el directorio
exportado en ese servidor para montar, el directorio local que es el
punto de montaje, y las opciones específicas de NFS que controlan cómo debe
ser montado ese sistema de ficheros.
.P
Lo siguiente es un ejemplo de una línea de un fichero \fI/etc/fstab\fP
acerca de cómo montar un sistema de ficheros NFS.
.sp
.nf
.ta 2.5i +0.75i +0.75i +1.0i
server:/usr/local/pub	/pub	nfs	rsize=8192,wsize=8192,timeo=14,intr
.fi
.DT
.SS Opciones
.TP 1.5i
.I rsize=n
La cantidad de bytes que NFS utiliza para leer ficheros de un servidor NFS.
El valor por omisión depende del núcleo, actualmente es 1024 bytes.
(Sin embargo, el rendimiento aumenta enormemente pidiendo
.IR rsize=8192 .)
.TP 1.5i
.I wsize=n
La cantidad de bytes que NFS usa para escribir ficheros en un servidor NFS.
El valor por omisión depende del núcleo, actualmente es 1024 bytes.
(Sin embargo, el rendimiento aumenta grandemente pidiendo
.IR wsize=8192 .)
.TP 1.5i
.I timeo=n
El límite de tiempo en décimas de segundo usado antes de la primera
retransmisión después de una expiración RPC.  El valor por omisión es
7 décimas de segundo. Después de la primera expiración, el tiempo de
expiración se duplica después de cada expiración consecutiva hasta que
se alcanza un tiempo de expiración máximo de 60 segundos o la cantidad
de retransmisiones es muy grande. En ese momento, si el sistema de
ficheros está montado en forma rígida, cada cascada de expiraciones
comienza con valores iniciales dos veces más grandes que la cascada
anterior, duplicándose en cada retransmisión. La expiración máxima
siempre es 60 segundos. Se puede conseguir un mejor rendimiento global
si se aumenta el límite de tiempo si se está montando el sistema de
ficheros en una red congestionada, en un servidor lento, o a través de
varios encaminadores o pasarelas.
.TP 1.5i
.I retrans=n
La cantidad de expiraciones menores y retransmisiones que deben ocurrir
antes de que se dé una expiración mayor. El valor por omisión es 3
expiraciones. Cuando una expiración mayor ocurre, la operación de fichero
se cancela o se imprime en la consola el mensaje "server not
responding" ("el servidor no responde").
.TP 1.5i
.I acregmin=n
El tiempo mínimo en segundos que el sistema va a esperar antes de
actualizar desde el servidor los atributos de un fichero regular. El valor
por omisión es 3 segundos.
.TP 1.5i
.I acregmax=n
El tiempo máximo en segundos que el sistema puede esperar antes de
actualizar desde el servidor los atributos de un fichero regular. El valor
por omisión es 60 segundos.
.TP 1.5i
.I acdirmin=n
El tiempo mínimo en segundos que el sistema va a esperar antes de
actualizar desde el servidor los atributos de un directorio. El valor
por omisión es 30 segundos.
.TP 1.5i
.I acdirmax=n
El tiempo máximo en segundos que el sistema puede esperar antes de
actualizar desde el servidor los atributos de un directorio. El valor
por omisión es 60 segundos.
.TP 1.5i
.I actimeo=n
Esta opción le asigna el mismo valor a las opciones
.I acregmin,
.I acregmax,
.I acdirmin,
y
.IR acdirmax .
No hay un valor por omisión.
.TP 1.5i
.I retry=n
Cuántas veces reintentar una operación de montaje NFS ejecutándose en
segundo plano antes de rendirse. El valor por omisión es 10000 veces.
.TP 1.5i
.I namlen=n
Esta opción se usa cuando un servidor NFS no admite la versión dos del
protocolo de montaje RPC. Está opción se puede usar para especificar la
longitud máxima de nombres de fichero que el sistema de ficheros remoto
permite. Esto se utiliza para soportar las funciones POSIX pathconf. El
valor por omisión es 255 caracteres.
.TP 1.5i
.I port=n
El número de puerto que se debe usar para conectarse al servidor NFS.
Si el puerto es 0 (el valor por omisión) entonces se le pregunta qué puerto
utilizar al portmapper de la máquina remota.
Si el duende NFS de la máquina remota no está registrado con su portmapper,
se utiliza el puerto estándar NFS 2049.
.TP 1.5i
.I mountport=n
El valor numérico del puerto de 
.BR mountd .
.TP 1.5i
.I mounthost=name
El nombre de la máquina que está ejecutando
.BR mountd .
.TP 1.5i
.I mountprog=n
Utiliza un número de programa RPC alternativo para contactar con el duende de
montaje en la máquina remota. Esta opción es útil para máquinas que pueden
ejecutar varios servidores NFS. El valor por omisión es 100005, que es
el número de programa RPC estándar para el duende de montaje.
.TP 1.5i
.I mountvers=n
Utiliza un número de versión RPC alternativo para contactar con el duende
de montaje en la máquina remota. Esta opción es útil para máquinas que
pueden ejecutar varios servidores NFS. El valor por omisión es versión 1.
.TP 1.5i
.I nfsprog=n
Utiliza un número de programa RPC alternativo para contactar con el duende NFS
en la máquina remota. Esta opción es útil para máquinas que pueden
ejecutar varios servidores NFS. El valor por omisión es 100003, que es
el número de programa RPC estándar para el duende NFS.
.TP 1.5i
.I nfsvers=n
Utiliza un número de versión RPC alternativo para contactar con el duende
NFS en la máquina remota. Esta opción es útil para máquinas que
pueden ejecutar varios servidores NFS. El valor por omisión es versión 2.
.TP 1.5i
.I bg
Si el primer intento de montaje NFS expira, continúa intentándolo en
segundo plano.  Si se omite esta opción, el proceso de montaje falla en vez de
ejecutarse en segundo plano.
.TP 1.5i
.I fg
Si el primer intento de montaje NFS expira, falla inmediatamente. Éste el
comportamiento por omisión.
.TP 1.5i
.I soft
Si una operación de ficheros NFS tiene una expiración mayor, entonces
devuelve un error de E/S al programa llamador. El valor por omisión es
seguir intentando la operación NFS indefinidamente.
.TP 1.5i
.I hard
Si una operación de ficheros NFS tiene una expiración mayor, entonces
imprime "server not responding" ("el servidor no responde") en la
consola y sigue intentándola indefinidamente. Éste es el comportamiento
por omisión.
.TP 1.5i
.I intr
Si una operación de ficheros NFS tiene una expiración mayor y está
montado de modo rígido, entonces permite a señales interrumpir la
operación y devolver EINTR al programa llamador. El comportamiento por
omisión no permite que las operaciones de ficheros se interrumpan.
.TP 1.5i
.I posix
Monta el sistema de ficheros NFS usando la semántica POSIX. Esta opción
permite que un sistema NFS admita adecuadamente la función POSIX pathconf
preguntándole al servidor de montaje cuál es la máxima longitud para los
nombres de fichero. Para poder hacer esto, la máquina remota debe soportar
la versión dos del protocolo de montaje RPC. Muchos servidores NFS sólo
soportan la versión uno.
.TP 1.5i
.I nocto
Suprime la recuperación de nuevos atributos en el momento de creación de
un fichero.
.TP 1.5i
.I noac
Elimina completamente el uso de caché para atributos. Esto perjudica
el rendimiento del servidor pero permite que dos clientes NFS obtengan
resultados razonablemente buenos cuando ambos clientes estén
escribiendo activamente en un sistema de ficheros común en el
servidor.
.TP 1.5i
.I tcp
Monta el sistema de ficheros NFS usando el protocolo TCP en vez del
protocolo por omisión UDP. Muchos servidores NFS sólo admiten UDP.
.TP 1.5i
.I udp
Monta el sistema de ficheros NFS usando el protocolo UDP. Éste es el
comportamiento por omisión.
.P
Todas las opciones que no llevan un valor tienen su correspondiente
formato negativo `noopción'. Por ejemplo, nointr significa que el
sistema no debe permitir que las operaciones sean interrumpidas.
.SH FICHEROS
.I /etc/fstab
.SH "VÉASE TAMBIÉN"
.BR fstab "(5), " mount "(8), " umount "(8), " exports (5)
.SH AUTOR
"Rick Sladkey" <jrs@world.std.com>
.SH ERRORES
Las opciones bg, fg, retry, posix, y nocto son reconocidas por mount
pero actualmente no tienen ningún efecto.
.P
Las opciones tcp y namlen están implementadas pero por el momento el
núcleo de Linux no las soporta.
.P
El programa umount debería notificar al servidor cuándo un sistema de
ficheros NFS es desmontado.
