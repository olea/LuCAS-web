Controlador de sonido OPL3-SA1 (opl3sa.o)

---
Nota: Este "como" solo describe como configurar el chip OPL3-SA1; esta
información no se aplica al SA2, SA3, or SA4.  
---

El chip de sonido Yamaha OPL3-SA1 está normalmente integrado en placas base, y
es un pequeño chip que ofrece un modo WSS, un modo de emulación SB pro, MPU401
y capacidades de sintetizador FM.

Puede activar el controlador con CONFIG_SOUND_OPL3SA1=m, o
CONFIG_SOUND_OPL3SA1=y o a través de 'make config/xconfig/menuconfig'.

Necesita saber toda la información importante sobre la tarjeta(irq, dma, 
y puerto e/s) para el modo WSS del chip, ya que este es el modo que el
controlador de sonido del núcleo utiliza. Por supuesto necesita también saber
donde se encuentran los puertos MPU401 y OPL3 así como sus IRQs, si los quiere 
usar.

Aquí esta la órden para cargarlo como módulo:

	modprobe opl3sa io=0x530 irq=11 dma=0 dma2=1 mpu_io=0x330 mpu_irq=5

Detalle de las opciones del módulo:

	io:	Este es el puero base del WSS.
	irq:	Esta es la IRQ del WSS.
	dma:	Esta es la línea DMA del WSS. En mi pantalla de configuración
		de la BIOS estaba listada como "WSS Play DMA"
	dma2:	Esta es la línea secunadaria de WSS. Mi BIOS la llama
		"WSS capture DMA"
	
	mpu_io:	Este es el puerto base de MPU401.
	mpu_irq: Esta el la IRQ de MPU401.

Si quiere usar el sintetizador FM OPL3, esté seguro de que activa
CONFIG_YM3812 (en 'make config'). Eso contruirá el módulo opl3.o.

Depues haga un simple 'insmod opl3 io=0x388', y tendrá sintetizador FM.

También puede usar el sintetizador software SoftOSS en vez del OPL3 interno.
Así se hace:

Diga 'y' o 'm' a "SoftOSS software wave table engine" en make config.

Si dijo 'y', el sintetizador software estará disponible una vez que arranque su
nuevo núcleo.

Si lo compiló como módulo, solo haga insmod al fichero softoss2.o resultante.

Un 'cat /dev/sndstat' con toda las opciones anteriores sería algo similar a
esto:

  OSS/Free:3.8s2++-971130
  Tipo de carga: Controlador cargado como módulo
  Núcleo: Linux iniquity 2.1.105 #145 Lun Jun 8 11:40:47 MST 1998 i586
  Opciones de Configuración: 0

  Controladores Instalados: 

  Configuración de la tarjeta: 

  Dispositivos de Sonido:
  0: MSS audio codec (CS4231) (DUPLEX)

  Dispositivos de Sintetizador:
  0: Yamaha OPL-3
  1: SoftOSS

  Dispositivos Midi:
  0: OPL3-SA (MPU401)

  Temporizadores:
  0: System clock
  1: MSS audio codec (CS4231)

  Mezcladores:
  0: MSS audio codec (CS4231)

¿Preguntas? ¿Comentarios?
<stiker@northlink.com>

"Traducido para el proyecto NuLies por
 Gorka Olaizola Sánchez <olsago@jet.es>"
