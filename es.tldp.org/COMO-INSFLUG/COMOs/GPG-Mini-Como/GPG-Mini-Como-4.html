<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>``GNU Privacy Guard'' (GnuPG) Mini Como: Codificar y descodificar</TITLE>
 <LINK HREF="GPG-Mini-Como-5.html" REL=next>
 <LINK HREF="GPG-Mini-Como-3.html" REL=previous>
 <LINK HREF="GPG-Mini-Como.html#toc4" REL=contents>
</HEAD>
<BODY>
<A HREF="GPG-Mini-Como-5.html">Página siguiente</A>
<A HREF="GPG-Mini-Como-3.html">Página anterior</A>
<A HREF="GPG-Mini-Como.html#toc4">Índice general</A>
<HR>
<H2><A NAME="s4">4. Codificar y descodificar</A></H2>

<P>
<P>Despu&eacute;s de haber instalado y configurado todo tal y como quer&iacute;amos, podemos 
comenzar a cifrar y descifrar datos.
<P>Es posible que cuando estemos cifrando o descifrando un documento, tengamos 
m&aacute;s de una clave privada en nuestro anillo de claves privadas.  Si esto es as&iacute;, 
es necesario seleccionar una de ellas como activa.  Para ello se puede usar la 
opci&oacute;n 
<P>
<BLOCKQUOTE><CODE>
<PRE>
-u UID
</PRE>
</CODE></BLOCKQUOTE>
<P>o bien la opci&oacute;n
<P>
<BLOCKQUOTE><CODE>
<PRE>
--local-user UID
</PRE>
</CODE></BLOCKQUOTE>
<P>Tambi&eacute;n podemos agregar la siguiente l&iacute;nea en el fichero de configuraci&oacute;n 
<CODE>$HOME/.gnupg/options</CODE>:
<P>
<BLOCKQUOTE><CODE>
<PRE>
default-key UID
</PRE>
</CODE></BLOCKQUOTE>
<P>Si se desea indicar el UID de un destinatario para cifrar un fichero con su 
clave, puede hacerse con la opci&oacute;n
<P>
<BLOCKQUOTE><CODE>
<PRE>
-r
</PRE>
</CODE></BLOCKQUOTE>
<P>o la opci&oacute;n
<P>
<BLOCKQUOTE><CODE>
<PRE>
--recipient
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H2><A NAME="ss4.1">4.1 Codificar</A>
</H2>

<P>
<P>La orden para cifrar es la siguiente:
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ gpg -e [fichero]
</PRE>
</CODE></BLOCKQUOTE>
<P>&oacute;
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ gpg --encrypt [fichero]
</PRE>
</CODE></BLOCKQUOTE>
<P>Estas &oacute;rdenes cifrar&iacute;an un fichero con la clave que hayamos definido por 
defecto en el fichero de configuraci&oacute;n <CODE>options</CODE>.  Para cifrar un fichero 
con la clave de otro usuario:
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ gpg -er Destinatario [fichero]
</PRE>
</CODE></BLOCKQUOTE>
<P>Pero como ya hemos comentado anteriormente esto producir&iacute;a un criptograma con 
el nombre de <CODE>fichero.gpg</CODE>;  se puede a&ntilde;adir la opci&oacute;n
<P>
<BLOCKQUOTE><CODE>
<PRE>
--armor
</PRE>
</CODE></BLOCKQUOTE>
<P>para que el criptograma sea del tipo 7-bit ASCII:
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ gpg -a -er Destinatario [fichero]
</PRE>
</CODE></BLOCKQUOTE>
<P>que producir&aacute; un criptograma con la extensi&oacute;n <CODE>fichero.asc</CODE>.  Ya que los
mensajes, ficheros, y otro tipo de datos que enviamos codificados van cifrdos
con la clave del destinatario, existe el riesgo de que alguien lo haga
suplantando nuestra identidad.  Para evitar esto basta con firmar digitalmente
todo lo que se cifre (ver 
<A HREF="GPG-Mini-Como-5.html#firmas">Firmas</A>).
<P>
<H2><A NAME="ss4.2">4.2 Descodificar</A>
</H2>

<P>
<P>La orden para descifrar es:
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ gpg [-d] [fichero]
</PRE>
</CODE></BLOCKQUOTE>
<P>&oacute;
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ gpg [--decrypt] [fichero]
</PRE>
</CODE></BLOCKQUOTE>
<P>En este caso no es necesario emplear <CODE>[--decrypt]</CODE>, siendo opcional, ya
que <CODE>gpg</CODE> usa por defecto 
<P>
<BLOCKQUOTE><CODE>
<PRE>
--decrypt.
</PRE>
</CODE></BLOCKQUOTE>
<P>En todos los casos que hemos nombrado aqu&iacute; el resultado est&aacute; direccionado a 
<CODE>stdout</CODE>, pero puede ser redireccionado con la opci&oacute;n
<P>
<BLOCKQUOTE><CODE>
<PRE>
-o [fichero]
</PRE>
</CODE></BLOCKQUOTE>
<P>a un fichero con cualquier otro nombre.
<P>
<HR>
<A HREF="GPG-Mini-Como-5.html">Página siguiente</A>
<A HREF="GPG-Mini-Como-3.html">Página anterior</A>
<A HREF="GPG-Mini-Como.html#toc4">Índice general</A>
</BODY>
</HTML>
