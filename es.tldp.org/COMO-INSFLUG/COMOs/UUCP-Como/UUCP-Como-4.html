<HTML>
<HEAD>
<TITLE>Linux UUCP COMO: Instalaci&oacute;n del Software</TITLE>
</HEAD>
<BODY>
<A HREF="UUCP-Como-3.html">Anterior</A>
<A HREF="UUCP-Como-5.html">Siguiente</A>
<A HREF="UUCP-Como.html#toc4">Indice</A>
<HR>
<H2><A NAME="s4">4. Instalaci&oacute;n del Software</A></H2>


<P>(La mayor parte de esta secci&oacute;n es una copia exacta del fichero
<CODE>README</CODE> en los fuentes del <CODE>UUCP</CODE> Taylor <CODE>v1.05</CODE> - est&aacute; proporcionado
aqu&iacute; pero puedo ayudar a ``<I>RTFM</I>'' diciendo en su lugar justo lo que debe
hacer)</P>
<P>La explicaci&oacute;n detallada de c&oacute;mo compilar est&aacute; en <CODE>uucp.texi</CODE> en los
fuentes. </P>
<P>Puede obtener los ``bien conocidos'' ficheros <CODE>conf.h</CODE> y <CODE>policy.h</CODE>
para Linux del la distribuci&oacute;n <CODE>newspak</CODE> mencionada anteriormente en la
secci&oacute;n ``otras fuentes de informaci&oacute;n''. En ese caso, probablemente ir&aacute;
directo a teclear ``<CODE>make</CODE>''.</P>

<H2><A NAME="ss4.1">4.1 Extracci&oacute;n de los fuentes comprimidos </A></H2>


<P>Para extraer el archivo <I>tar</I> <I>gzipeado</I>, haga lo siguiente:</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
                gunzip -c nombrefichero.tar.gz | tar xvf -
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>El <CODE>tar</CODE> ``moderno'' puede hacer:</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
                tar -zxvf nombrefichero.tgz
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss4.2">4.2 Edici&oacute;n del <CODE>Makefile.in</CODE> para especificar los directorios de instalaci&oacute;n.</A></H2>


<P>Aqu&iacute;, pongo <CODE>``prefix''</CODE> a ``<CODE>/usr</CODE>'' en lugar del que viene por
defecto ``<CODE>/usr/local</CODE>'' </P>


<H2><A NAME="ss4.3">4.3 Ejecuci&oacute;n de ``<CODE>configure</CODE>''</A></H2>


<P>Teclear <CODE>``sh configure''</CODE>.</P>
<P>El script de configuraci&oacute;n compilar&aacute; unos cuantos programas de test para
ver qu&eacute; hay disponible en el sistema y calcular algunas cosas. </P>
<P>El script de configuraci&oacute;n crear&aacute; el <CODE>conf.h</CODE> a partir del
<CODE>conf.h.in</CODE> y el <CODE>Makefile</CODE> del <CODE>Makefile.in</CODE>. Tambi&eacute;n crear&aacute;
el fichero <CODE>config.status</CODE>, el cual es un <I>shell script</I> que actualmente
crea los ficheros. </P>
<P>
<UL>
<LI> Mejor que editar el fichero <CODE>Makefile.in</CODE> en los fuentes como se
ha indicado anteriormente, se puede conseguir lo mismo con:

<BLOCKQUOTE><CODE>
<PRE>
                configure --prefix=/usr/lib
</PRE>
</CODE></BLOCKQUOTE>

</LI>
</UL>
</P>


<H2><A NAME="ss4.4">4.4 Elaboraci&oacute;n de la futura configuraci&oacute;n del software</A></H2>



<H3>Examinar el <CODE>conf.h</CODE> y el <CODE>Makefile</CODE> para asegurarse de queest&aacute;n bien. </H3>


<P>Yo dejo lo que est&aacute; por defecto.</P>

<H3>Editar el <CODE>policy.h</CODE> para su sistema local.</H3>


<P>
<UL>
<LI>poner el tipo de lockfiles que quiere (<CODE>HAVE_HDB_LOCKFILES</CODE>)</LI>
<LI>poner el tipo de ficheros de configuraci&oacute;n que quiere construir
(<CODE>HAVE_TAYLOR_CONFIG</CODE>, <CODE>HAVE_V2_CONFIG</CODE>, 
<CODE>HAVE_HDB_CONFIG</CODE>) 
</LI>
<LI>poner el tipo de estructura de directorio de spool que quiere 
(<CODE>SPOOLDIR_HDB</CODE>)
</LI>
<LI>poner el tipo de m&eacute;todo de registro que quiere
(<CODE>HAVE_HDB_LOGGING</CODE>) 
</LI>
<LI>poner el camino por defecto para buscar los comandos (Yo he 
a&ntilde;adido <CODE>/usr/local/bin</CODE> para el mio)</LI>
</UL>
</P>


<H2><A NAME="ss4.5">4.5 Compilar e instalar el software</A></H2>


<P>
<UL>
<LI>teclear <CODE>``make''</CODE>.
</LI>
<LI>Utilizar <CODE>``uuchk | more''</CODE> para comprobar los ficheros de
configuraci&oacute;n. Se puede usar <CODE>``uuconv''</CODE> para convertir entre
distintos formatos de ficheros de configuraci&oacute;n.
</LI>
<LI>Escribir <CODE>``make install''</CODE> para instalar. </LI>
</UL>
</P>


<H2><A NAME="ss4.6">4.6 Preparar los ficheros de configuraci&oacute;n</A></H2>


<P>Recomendar&iacute;a empezar por coger los buenos ficheros de configuraci&oacute;n para
<CODE>HDB</CODE> que se adjuntan e instalarlos.</P>
<P>
<UL>
<LI> Aseg&uacute;rese que el fichero <CODE>Permissions</CODE> indica exactamente
d&oacute;nde se pueden encontrar <CODE>rmail</CODE> y <CODE>rnews</CODE> si los ha instalado en
cualquier otro sitio que el indicado en <CODE>policy.h</CODE>
</LI>
<LI> Aseg&uacute;rese que el fichero <CODE>Devices</CODE> coincide con la ubicaci&oacute;n
actual de su m&oacute;dem (<CODE>cua1</CODE>=COM2 en los ejemplos)
</LI>
<LI>Editar el fichero <CODE>Systems</CODE> para preparar los sistemas con
los que conectar&aacute; con sus velocidades, n&uacute;mero de tel&eacute;fono, nombre de
usuario y password.

<B>PROTEGER CONTRA LECTURA DE TODO EL MUNDO ESTE FICHERO</B>
</LI>
<LI> Preparar el fichero <CODE>Permissions</CODE> y a&ntilde;adir un conjunto de
l&iacute;neas por cada sistema con el que quiera conectar. Por razones de
seguridad, se recomienda que cada uno tenga una cuenta separada (si se
permite conectar desde fuera) y un directorio principal para que se puedan
encontrar pistas.
</LI>
</UL>
</P>


<H2><A NAME="ss4.7">4.7 Haga un intento</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
        /usr/lib/uucp/uucico -r 1 -x 9 -s remote_system_name
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>el <CODE>-x 9</CODE> le dar&aacute; el m&aacute;ximo de informaci&oacute;n de depuraci&oacute;n escrita en el
fichero <BR>  <CODE>/usr/spool/uucp/.Admin/audit.local</CODE> para ayuda en la
preparaci&oacute;n inicial.</P>
<P>Normalmente ejecuto con <CODE>-x 4</CODE> ya que este nivel deja bastante
informaci&oacute;n que me ayuda con los problemas de login. Obviamente, esto
contiene informaci&oacute;n clara sobre su fichero <CODE>System</CODE> (cuenta/password)
as&iacute; que prot&eacute;jalo contra lectura de todo el mundo. </P>
<P>
<UL>
<LI> de <CODE>
<A HREF="mailto:Pierre.Beyssac@emeraude.syseca.fr">Pierre.Beyssac@emeraude.syseca.fr</A></CODE>

Taylor tiene m&aacute;s niveles de registro. Utilice todos los <CODE>-x</CODE> para
conseguir el mayor nivel posible.

Adem&aacute;s, haga <CODE>``tail -f /usr/spool/uucp/.Admin/audit.local''</CODE>
mientras depura para ver que ocurre en ejecuci&oacute;n. 
</LI>
</UL>
</P>


<H2><A NAME="ss4.8">4.8 No funciona - ¿Por qu&eacute;?</A></H2>


<P>En general, puede referirse a la documentaci&oacute;n mencionada anteriormente si
las cosas no funcionan. Tambi&eacute;n puede dirigirse a los vecinos mas
experimentados en <CODE>UUCP</CODE> para que le ayuden. Normalmente, suele ser un
error tipogr&aacute;fico.</P>


<HR>
<A HREF="UUCP-Como-3.html">Anterior</A>
<A HREF="UUCP-Como-5.html">Siguiente</A>
<A HREF="UUCP-Como.html#toc4">Indice</A>
</BODY>
</HTML>
