<html><head><title>PgAccess - Common Problems</title></head>
<body bgcolor="#C0C0C0">
<h1>Problemas comunes con PgAccess</h1>
<a name="connfail"><h2>Connection failure (Fallo de conexión)</h2>
Uno de los errores más comunes al principio es:<p>
<samp>Error connecting database<br>
Connection to database failed<br>
connectDB() failed: Is the<br>
postmaster running and<br>
accepting TCP/IP (with -i)<br>
connections at 'localhost' on<br>
port '5432'?</samp><p>
Esto ocurre porque el "postmaster" (el backend de postgreSQL) no se comenzó
 con la opción <samp>-i</samp>.  Generalmente sólo con añadir <samp>-i</samp> en la
la linea de comandos que inicia el  postmaster y reiniciando suele arreglar ésto.<p>
Si tienes instalado el script preescrito para empezar <b>postgreSQL</b>
automáticamente, esta opción está (actualmente) como comentario:<p>
<samp># PGOPTS="-i"</samp><p>
borra la almohadilla y el espacio y comenta la opción en blanco de arriba:<p>
<samp>PGOPTS=""</samp><p>
<a name="nonuser"><h2>User not defined (Usuario no definido)</h2>
Inicialmente, <b>postgreSQL</b> sólo tiene un usuario, <samp>postgres</samp>, y cualquier otro
usuario que lance PgAccess obtendrá el mensaje:<p>
<samp>Error connecting database<br>
Connection to database failed<br>
FATAL 1: SetUserId: user<br>
'jim' is not in 'pg_shadow'</samp><p>
Mire en <b>User Administration</b> en <b>PgAccess tutorial</b> para una descripción
de cómo crear usuarios.<p>
<a name="libpg"><h2>libpgtcl not found (No se encuentra libpgtcl)</h2>
PgAccess necesita una librería de funciones llamada <samp>libpgtcl</samp>.  Ésta
debería estar disponible con la distribución postgreSQL, y generalmente estará
en el lugar correcto cuando se instale postgreSQL.  Primero comprueba que existe un fichero
llamado <samp>libpgtcl.so</samp> (quizás con alguna extensión del numero de versión - o
<samp>libpgtcl.dll</samp> en sistemas Windows) en tu sistema.
  Sino tendrás que bajarte la librería y quizas compilarla.<p>
<samp>ftp://ftp.flex.ro/pub/pgaccess</samp><p>
es uno de los sitios de donde puedes bajarte libpgtcl precompilada para
PgAccess.<p>
<a name="spchar">
<h2>Locale specific characters (Caracteres locales específicos)</h2>
Este problema ocurre con algunos caracteres  especiales usados en diferentes
paises porque PgAccess no usa fuentes  `-ISO8859-1'.<p>
Se propuso una solución por  H.P.Heidinger ( hph@hphbbs.ruhr.de) y
es muy simple.<p>
Si miras en el archivo pgaccess.tcl, encontrarás las fuentes declaradas
de esta manera:<p>
<TT>$ grep -e '-font' -i pgaccess.tcl<BR>
-font -Adobe-Helvetica-Medium-R-Normal--*-120-*-*-*-*-*-* \<br>
...</TT></P>
Debería acambiarse esta declaración por:<p>
<tt>-font -Adobe-Helvetica-Medium-R-Normal-*-*-120-*-*-*-*-iso8859-1<br>
...</tt><p>
Ésto es, insertando un asterisco entre el primer par de guiones, y cambiando
los dos últimos asteriscos por <samp>iso8859</samp> y <samp>1</samp>
respectivamente.<p>
Puedes altera el código fuente ejecutando el siguiente script :
<P><TT>#!/bin/sh<BR>
cp pgaccess.tcl pgaccess.tcl-org<BR>
cat pgaccess.tcl |\<BR>
sed -e's/\-\*\-\*\ /\-iso8859\-1\ /g' |\<BR>
sed -e's/\-\*\-\*\}/\-iso8859\-1}/g' |\<BR>
sed -e's/\-\*\-\*\]/\-iso8859\-1]/g' |\<BR>
sed -e's/\-\*\-\*$/\-iso8859\-1/g' |\<BR>
sed -e's/\-Clean\-/\-Fixed\-/g' |\<BR>
sed -e's/clean/fixed/g' &gt;pgaccess.iso<BR>
mv pgaccess.iso pgaccess.tcl<BR>
chmod +x pgaccess.tcl</TT><P>
La última versión de PgAccess (1.0) permitirá al usuario decidir que fuentes
usar mediante una ventana de diálogo &quot;preferences (preferencias)&quot;</p>
<a name="pg63">
<h2>Problemas con PostgreSQL 6.3.x</h2>
PgAccess 0.93 y posteriores podrían tener problemas trabajando con PostgreSQL 6.3.x.
Se han realizado cambios en  libpgtcl para evitarlos, pero si estás
usando PostgreSQL 6.3.x, este parche te permitirá evitar los problemas.<p>
En el procedimiento <tt>wpg_exec</tt> cambia la siguiente linea:<p>
<tt>set pgsql(errmsg) [pg_result $pgsql(res) -error]</tt><p>
por ésta:<p>
<tt>set pgsql(errmsg) "NO ERROR INFORMATION SUPPLIED"</tt><p>
y el programa funcionará. La única desventaja es que en algunas condiciones de error
no obtendrás el mensaje de error apropiado de libpgtcl.<p>
<a href="index.html#problems">Volver al índice</a>
</body></html>
