<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>PgAccess en Irix</TITLE>
   <META NAME="GENERATOR" CONTENT="Mozilla/3.04Gold (X11; I; Linux 2.0.33 i586) [Netscape]">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EF" VLINK="#51188E" ALINK="#FF0000">

<H1>INSTALAR PgAccess BAJO IRIX 5.3.
<HR WIDTH="100%"></H1>

<P><B><FONT COLOR="#000080">Este CÓMO hacer funcionar PgAccess bajo Irix
está escrito por Stuart Rison</FONT></B></P>

<P>Éstos son los pasos que tuve que seguir para conseguir que pgaccess se ejecutara en un
INDIGO2 con  postgreSQL 6.3.2 bajo IRIX 5.3. No garantizo que
los mismos pasos funcionen para otros pero al menos esto te llevará en la
dirección adecuada. Además, soy biólogo por tanto sólo conseguí hacer funcionar
pgaccess por el método ensayo/error. Ésto significa que algunos de los pasos podrían ser innecesarios
(por ejemplo compilar $postgreSQL_source/src/interfaces/libpgtcl
como librería estática y compartida) y ciertamente no han sido optimizados
(No sé nada de compiler switches-----> cómo se traduce ésto etc.).</P>

<P><B>1) Requerimientos:</B></P>

<UL>
<P>Necesitarás:</P>

<UL>
<LI>fuentes de postgreSQL  (http://www.postgresql.org)</LI>

<LI>fuentes de tcl8.0 (http://www.tclconsortium.org/)</LI>

<LI>fuentes de tk8.0 (http://www.tclconsortium.org/)</LI>

<LI>fuentes de pgaccess (http://www.flex.ro/pgaccess)</LI>
</UL>
</UL>

<P><B>2) Instalación:</B></P>

<P>a) tcl/tk:</P>

<UL>
<P>Primero debes instalar tcl y despues tk (en ese orden). Sólo usé
./configure, sin switches (guiones?) y gmake. Su instalación no debería dar problemas.
Despues deberías mover las cabeceras y librerías al lugar correcto, por tanto:</P>

<P>Cabeceras: tcl y tk tienen las cabeceras (tcl.h and tk.h). El archivo
tcl.h está en $tcl_source_dir/generic y el  tk.h está en  $tk_source_dir/generic;
ambos deberían copiarse a  /usr/local/include.</P>

<P>Librerías: compilación (con cc) de tcl y tk con  librerías libtcl8.0.a
y libtk8.0.a en $source_dir/unix. Ambas deberían copiarse a  /usr/local/lib.</P>
</UL>

<P>b) postgreSQL:</P>

<UL>
<P>Asegúrate de tener las fuentes de postgreSQL completamente parcheadas. Si tu  ./configure
dice que no puede cargar la configuración o parámetros para IRIX (can't load 'IRIX' settings; abierto a sugerencias para su traducción) entonces
es muy probable que necesites parchear ./configure.</P>

<P>Configura usando ./configure con los siguientes switches (N. T. guiones?;abierto a sugerencias): ./configure
--with-includes=/usr/local/include</P>

<P>--with-libraries=/usr/local/lib --with-tcl [ésta y la linea anterior en una sola]</P>

<P>Después make, make install como de costumbre</P>
</UL>

<P>c) Compilar libpgtcl:</P>

<UL>
<P>Las fuentes de libpgtcl están en $postgreSQL_directory/src/interfaces/libpgsql.</P>

<P>Yo hago ésto dos veces. Una vez con sólo gmake. Ésto produce una librería estática
libpgtcl.a la cual dejo donde está (No sé que hacer con ella pero podría
venir bien en algún  momento). Despues modifico Makefile manualmente con un editor de
texto. En esencia cambio dos lineas:</P>

<P>primero:</P>

<P># Shared library stuff</P>

<P>install-shlib-dep := shlib :=</P>

<P>después:</P>

<P># Shared library stuff</P>

<P>install-shlib-dep := install-shlib shlib := libpgtcl.so.1.</P>

<P>Después hago gmake -f Makefile_modificado. Ésto crea dos librerías compartidas (.so):
libpgtcl.so y libpgtcl.so.1. No puedo decir las diferencias entre ellas así que
las copio a /usr/lib/.</P>
</UL>

<P>d) ejecutar pgaccess:</P>

<UL>
<P>Descomprime pgaccess (generalmente con gunzip y tar). Dado que 'wish'
(un binario producto de la compilación de tk8.0) está en alguna parte en tu path, deberías ser capaz de
invocar pgaccess con:</P>

<P>wish -f $pgaccess_dir/pgaccess.tcl [postgreSQL_database_name]</P>
</UL>

<P>e) et voila!</P>

<P><B>3) Notas finales:</B></P>

<UL>
<P>Como dije al principio del documento , ésto a mí me funcionó.
Sin embargo estoy seguro de que algunos de los pasos son innecesarios/no-óptimos/estúpidos
etc. Si algún científico de cualquier Unix (IRIX) está leyendo ésto y nota algo que le
gustaría comentar/corregir etc. por favor enviadme un e-mail me (stuart@ludwig.ucl.ac.uk).
También, si teneis alguna pregunta y pensais que podría ayudaros , por favor poneos
en contacto conmigo en la misma dirección.</P>

<P>Finalmente, no acepto ninguna responsabilidad si estos pasos no te
funcionan o si todo va tremendamente mal y dañas tu equipo probándolos.
Impere el sentido común!</P>
</UL>

<P>Buena suerte</P>

<P>Stuart Rison LICR University College London London W1P 8BT<BR>
<A HREF="mailto:stuart@ludwig.ucl.ac.uk">stuart@ludwig.ucl.ac.uk</A></P>
<a href="index.html#start">Volver al índice</a>
</BODY>
</HTML>
