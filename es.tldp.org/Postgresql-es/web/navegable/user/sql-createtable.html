<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>   CREATE TABLE
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="Manual del usuario de PostgreSQL"
HREF="user.html"><LINK
REL="UP"
TITLE="Instrucciones SQL"
HREF="sql-commands.html"><LINK
REL="PREVIOUS"
TITLE="   CREATE SEQUENCE
  "
HREF="sql-createsequence.html"><LINK
REL="NEXT"
TITLE="   CREATE TABLE AS
  "
HREF="sql-createtableas.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manual del usuario de PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="sql-createsequence.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sql-createtableas.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-CREATETABLE"
>CREATE TABLE</A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN6118"
></A
><H2
>Nombre</H2
>   CREATE TABLE
  &nbsp;--&nbsp;   Crea una nueva tabla
  </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN6121"
></A
><H2
>Synopsis</H2
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>CREATE [ TEMPORARY | TEMP ] TABLE <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
> (
    <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>type</I
></TT
>
    [ NULL | NOT NULL ] [ UNIQUE ] [ DEFAULT <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> ]
    [<TT
CLASS="REPLACEABLE"
><I
>column_constraint_clause</I
></TT
> | PRIMARY KEY } [ ... ] ]
    [, ... ]
    [, PRIMARY KEY ( <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> [, ...] ) ]
    [, CHECK ( <TT
CLASS="REPLACEABLE"
><I
>condition</I
></TT
> ) ]
    [, <TT
CLASS="REPLACEABLE"
><I
>table_constraint_clause</I
></TT
> ]
    ) [ INHERITS ( <TT
CLASS="REPLACEABLE"
><I
>inherited_table</I
></TT
> [, ...] ) ]
  </PRE
></TD
></TR
></TABLE
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-CREATETABLE-1"
></A
><H3
>    Entradas
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>TEMPORARY</DT
><DD
><P
>	Se crea la tabla sólo para esta sesión, y es eliminada 
	automáticamente con el fin de la sesión.
	Las tablas permanentes existentes con el mismo nombre no
	son visibles mientras la table temporal existe.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
></DT
><DD
><P
>	El nombre de una nueva clase o tabla a crear.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
></DT
><DD
><P
>	El nombre de un campo.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>type</I
></TT
></DT
><DD
><P
>	El tipo del campo. Puede incluir especificadores de array.
	Consulte la <I
CLASS="CITETITLE"
>PostgreSQL User's Guide</I
> para
	más información sobre tipos y arrays.
       </P
></DD
><DT
>DEFAULT <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
></DT
><DD
><P
>	Un valor por defecto para el campo.
	Consulte la cláusula DEFAULT para más información.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>column_constraint_clause</I
></TT
></DT
><DD
><P
>	La cláusula opcional de restricciones (constraint) especifica
	una lista de restricciones de integridad o comprueba que las nuevas
	inserciones o actualizaciones deben satisfacer para que la inserción
	o la actualización tenga éxito. Cada restricción debe evaluarse a una
	expresión booleana. Aunque <SPAN
CLASS="ACRONYM"
>SQL92</SPAN
>
	requiere la <TT
CLASS="REPLACEABLE"
><I
>column_constraint_clause</I
></TT
>
	para referirse a ese campo sólamente, <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>
	permite que múltiples campos sean referenciados dentro de un único campo constraint.
	Consulte la cláusula constraint para más información.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>table_constraint_clause</I
></TT
></DT
><DD
><P
>	La cláusula opcional CONSTRAINT especifica una lista de restricciones
	de integridad que las nuevas inserciones o las actualizaciones deberán
	satisfacer para que una sentencia insert o update tenga éxito. Cada 
	restricción debe ser evaluada a una expresión booleana. Se pueden referenciar
	múltiples campos con una única restricción.
	Sólo se puede definir una única cláusula PRIMARY KEY por tabla;
	PRIMARY KEY <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
>
	(una restricción de tabla) and PRIMARY KEY (una restricción de campo) son
	mutuamente excluyentes.
	Consulte la cláusula de restricción de tabla para más información.
       </P
></DD
><DT
>INHERITS <TT
CLASS="REPLACEABLE"
><I
>inherited_table</I
></TT
></DT
><DD
><P
>	La cláusula opcional INHERITS especifica una colección de nombres de tabla
	de las cuales esta tabla hereda todos los campos.
	Si algún campo heredado aparece más de una vez, 
	<SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>
	informa de un error.
	<SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> permite automáticamente a la tabla creada
	heredar funciones de las tablas superiores a ella en la jerarquía de herencia.
	<DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Nota"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Aside</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>	  La herencia de funciones se realiza siguiendo
	  las convenciones del Common Lisp Object System (CLOS).
	 </P
></TD
></TR
></TABLE
></DIV
>
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-CREATETABLE-2"
></A
><H3
>    Salidas
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>CREATE
       </TT
></DT
><DD
><P
>	Mensaje devuelto si la table se ha creado con éxito.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>ERROR
       </TT
></DT
><DD
><P
>	Mensaje devuelto si la creación de la tabla falla.
	Este mensaje viene normalmente acompañado por algún texto explicativo, como:
	<TT
CLASS="COMPUTEROUTPUT"
>ERROR:  Relation '<TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
>' already exists
	</TT
>
	que ocurre en tiempo de ejecución, si la tabla especificada ya existe
	en la base de datos.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>ERROR:  DEFAULT: type mismatched
       </TT
></DT
><DD
><P
>	Si el tipo de datos o el valor por defecto no corresponde al
	tipo de datos de la definición del campo.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-CREATETABLE-1"
></A
><H2
>   Description
  </H2
><P
>   <B
CLASS="COMMAND"
>CREATE TABLE</B
> introducirá una nueva clase o tabla
   en la base de datos actual. La tabla será poseída por el usuario que
   introduce la sentencia.
  </P
><P
>   Cada <TT
CLASS="REPLACEABLE"
><I
>type</I
></TT
>
   puede ser un tipo simple, un tipo complejo (set) o un tipo array.
   Cada atributo puede ser especificado para ser no nulo, y 
   puede tener un valor por defecto, especificado por la
   <A
HREF="sql-createtable.html#R1-SQL-DEFAULTCLAUSE-1"
><I
>Cláusula DEFAULT</I
></A
>.
  </P
><P
>   <DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Nota"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>	Al igual que en la versión 6.0 de Postgres, consistant array dimensions within an
     attribute are not enforced. Esto cambiará probablemente en las versiones futuras.
    </P
></TD
></TR
></TABLE
></DIV
>
  </P
><P
>   La cláusula opcional INHERITS
   especifica una colección de nombres de clases de los cuales esta clase
   hereda automáticamente todos los campos. Si cualquier nombre de campo heredado
   aparece más de una vez, Postgres informa de un error. Postgres permite automáticamente
   a la clase creada heredar funciones de clases superiores en la jerarquía de herencia.	
   La herencia de funciones se hace siguiendo las convenciones
   del Common Lisp Object System (CLOS).
  </P
><P
>   Cada nueva tabla o clase <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
>
   es creada automáticamente como tipo.  Por tanto, una o más instancias
   de la clase son automáticamente un tipo y pueden ser usadas en otras 
   <A
HREF="sql-altertable.html#SQL-ALTERTABLE-TITLE"
><I
>MODIFICAR TABLA</I
></A
>
   sentencias <B
CLASS="COMMAND"
>CREATE TABLE</B
>.
  </P
><P
>   The new table is created as a heap with no initial data.
   Una tabla no puede tener más de 1600 campos (realmente,
   esto viene limitado por el hecho que el máximo tamaño de una
   tupla debe ser menor que 8192 bytes), pero este límite puede ser
   configurado a un tamaño menor en algunos sitios. Una tabla no puede
   tener el mismo nombre que una tabla de catálogo del sistema.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-DEFAULTCLAUSE-1"
></A
><H2
>   Cláusula DEFAULT 
  </H2
><P
>   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>DEFAULT <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>
   </PRE
></TD
></TR
></TABLE
>
  </P
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-DEFAULTCLAUSE-1"
></A
><H3
>    Entradas
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
></DT
><DD
><P
>	Los posibles valores para la expresión DEFAULT (valor por defecto) son:
	<P
></P
><UL
><LI
><P
>	   un literal
	  </P
></LI
><LI
><P
>	   una función de usuario
	  </P
></LI
><LI
><P
>	   una función niladic
	  </P
></LI
></UL
>
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-DEFAULTCLAUSE-2"
></A
><H3
>    Salidas
   </H3
><P
>    Ninguna.
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-DEFAULTCLAUSE-3"
></A
><H3
>    Descripción
   </H3
><P
>    La cláusula DEFAULT asigna una valor por defecto a un campo
    (a través de una definición de campo en la sentencia CREATE TABLE). 
    El tipo de dato de un valor por defecto debe corresponder al tipo 
    de dato de la definición del campo.
   </P
><P
>    Una operación de inserción (INSERT) que incluya un campo sin un valor
    especificado por defecto asignará el valor NULL al campo si no se le
    proporciona un valor explícito.
    Si el valor por defecto es un <TT
CLASS="REPLACEABLE"
><I
>literal</I
></TT
> significa que
    que es un valor constante.
    Si el valor por defecto es una <TT
CLASS="REPLACEABLE"
><I
>niladic-function</I
></TT
>
    o una <TT
CLASS="REPLACEABLE"
><I
>user-function</I
></TT
> significa
    que dicho valor es el de la función especificada en el momento de la inserción.
   </P
><P
>    Hay dos tipos de funciones niladic:
    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>niladic USER</DT
><DD
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>CURRENT_USER / USER</DT
><DD
><P
>Consulte las funciones CURRENT_USER</P
></DD
><DT
>SESSION_USER</DT
><DD
><P
>todavía no soportadas</P
></DD
><DT
>SYSTEM_USER</DT
><DD
><P
>todavía no soportadas</P
></DD
></DL
></DIV
></DD
><DT
>niladic datetime</DT
><DD
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>CURRENT_DATE</DT
><DD
><P
>Consulte las funciones CURRENT_DATE </P
></DD
><DT
>CURRENT_TIME</DT
><DD
><P
>Consulte las funciones CURRENT_TIME</P
></DD
><DT
>CURRENT_TIMESTAMP</DT
><DD
><P
>Consulte la función CURRENT_TIMESTAMP</P
></DD
></DL
></DIV
></DD
></DL
></DIV
>
   </P
><P
>    En la versión actual (v6.5), <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>
    evalúa todas las expresiones por defecto en el momento en que la tabla
    es definida. Por tanto, las funciones que son "non-cacheable" como
    <TT
CLASS="FUNCTION"
>CURRENT_TIMESTAMP</TT
> pueden no producir el efecto
    deseado. Para el caso particular de tipos date/time , se puede trabajar
    sobre este comportamiento usando
    <SPAN
CLASS="QUOTE"
>"DEFAULT TEXT 'now'"</SPAN
>
    en lugar de 
    <SPAN
CLASS="QUOTE"
>"DEFAULT 'now'"</SPAN
>
    o
    <SPAN
CLASS="QUOTE"
>"DEFAULT CURRENT_TIMESTAMP"</SPAN
>.
    Esto fuerza <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> a considerar la constante como
    un tipo string y así convertirla al valor <SPAN
CLASS="TYPE"
>timestamp</SPAN
> en tiempo de 
    ejecución.
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-DEFAULTCLAUSE-4"
></A
><H3
>    Uso
   </H3
><P
>    Para asignar un valor constante como valor por defecto para
    los campos <TT
CLASS="LITERAL"
>did</TT
> and <TT
CLASS="LITERAL"
>number</TT
>,
    y una cadena al campo <TT
CLASS="LITERAL"
>did</TT
>:

    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE video_sales (
    did      VARCHAR(40) DEFAULT 'luso films',
    number   INTEGER DEFAULT 0,
    total    CASH DEFAULT '$0.0'
);
    </PRE
></TD
></TR
></TABLE
>
   </P
><P
>    Para asignar una secuencia existente
    como valor por defecto para el campo <TT
CLASS="LITERAL"
>did</TT
>,
    y un literal para el campo <TT
CLASS="LITERAL"
>name</TT
>:

    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(3)  DEFAULT NEXTVAL('serial'),
    name     VARCHAR(40) DEFAULT 'luso films'
);
    </PRE
></TD
></TR
></TABLE
>
   </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-COLUMNCONSTRAINT-1"
></A
><H2
>   Column CONSTRAINT Clause
  </H2
><P
>   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ] { [
    NULL | NOT NULL ] | UNIQUE | PRIMARY KEY | CHECK <TT
CLASS="REPLACEABLE"
><I
>constraint</I
></TT
> } [, ...]
   </PRE
></TD
></TR
></TABLE
>
  </P
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-COLUMNCONSTRAINT-1"
></A
><H3
>    Entradas
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>	Un nombre arbitrario dado a la restricción de integridad
	Si no se especifica <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>,
	se genera de los nombres de l tabla y campos,
	lo que asegura unicidad para
	<TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>.
       </P
></DD
><DT
>NULL</DT
><DD
><P
>	El campo puede contener valores NULL. Ésta es la opción por defecto.
       </P
></DD
><DT
>NOT NULL</DT
><DD
><P
>	El campo no puede contener valores NULL.
	Esto equivale a la restricción de campo
	CHECK (<TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> NOT NULL).
       </P
></DD
><DT
>UNIQUE</DT
><DD
><P
>	El campo debe contener un valor único. En <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>
	esto es forzado por medio de la creación implícita de un índice único sobre
	la tabla.
       </P
></DD
><DT
>PRIMARY KEY</DT
><DD
><P
>	Este campo es una clave primaria, lo que implica que la unicidad es forzada
	por el sistema y que otras tablas pueden confiar en este campo como identificador
	único para los registros.
	Consulte PRIMARY KEY para más información.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>constraint</I
></TT
></DT
><DD
><P
>	La definición de la restricción.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-COLUMNCONSTRAINT-2"
></A
><H3
>	Descripción
   </H3
><P
>    La cláusula opcional de restricción (CONSTRAINT) especifica restricciones o
    verifica qué deben cumplir las nuevas inserciones o las actualizaciones para que una 
    operación de inserción o de actualización tenga éxito. Cada restricción
    debe evaluarse a una expresión booleana. Con una única restricción se pueden
    referenciar múltiples atributos.  El uso de PRIMARY KEY como restricción de tabla
    es mutuamente incompatible con el uso de PRIMARY KEY como restricción de campo.
   </P
><P
>    Una restricción es una regla con nombre: un objeto SQL que ayuda
    a definir conjuntos de valores válidos poniendo límites a los resultados 
    de las operaciones INSERT, UPDATE or DELETE sobre una tabla. 
   </P
><P
>    Existen dos maneras de definir restricciones de integridad:
    restricciones de tabla, que veremos más adelante, y restricciones de campo, 
    que pasamos a ver.
   </P
><P
>    Una restricción de campo es una restricción de integridad definida
    como parte de la definición de campo, y lógicamente se convierte
    en una restricción de tabla nada más ser creada. Las restricciones de
    campo disponibles son:

    <P
></P
><TABLE
BORDER="0"
><TBODY
><TR
><TD
>PRIMARY KEY</TD
></TR
><TR
><TD
>REFERENCES</TD
></TR
><TR
><TD
>UNIQUE</TD
></TR
><TR
><TD
>CHECK</TD
></TR
><TR
><TD
>NOT NULL</TD
></TR
></TBODY
></TABLE
><P
></P
></P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Nota"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>     <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> todavía no soporta
     (en su versión 6.5) restricciones de integridad especificadas
     por REFERENCES. Se acepta la sintaxis pero se ignora la cláusula (disponible,
     en cambio, a partir de la versión 7.0)
    </P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-NOTNULL-1"
></A
><H3
>    Restricción NOT NULL
   </H3
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ] NOT NULL 
   </PRE
></TD
></TR
></TABLE
><P
>    La restricción NOT NULL especifica una regla que obliga que un campo
    contenga únicamente valores no nulos.
    Ésta es únicamente una restricción de campo, y no se permite como 
    restricción de tabla..
   </P
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-NOTNULL-1"
></A
><H4
>     Salidas
    </H4
><P
>     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>status</I
></TT
></DT
><DD
><P
>	 <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>ERROR:  ExecAppend: Fail to add null value in not null attribute "<TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
>".
	    </TT
></DT
><DD
><P
>	     Este error ocurre en tiempo de ejecución cuando se intenta insertar
	     un valor nulo en un campo que contiene la restricción NOT NULL.
	    </P
></DD
></DL
></DIV
>
	</P
></DD
></DL
></DIV
> 
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-NOTNULL-2"
></A
><H4
>     Descripción
    </H4
><P
>    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-NOTNULL-3"
></A
><H4
>     Uso
    </H4
><P
>     Definir dos restricciones de campo NOT NULL en la tabla
     <TT
CLASS="CLASSNAME"
>distributors</TT
>,
     una de las cuales se nombra:

     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(3) CONSTRAINT no_null NOT NULL,
    name     VARCHAR(40) NOT NULL
);
     </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-UNIQUECLAUSE-1"
></A
><H3
>    Restricción UNIQUE
   </H3
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ] UNIQUE
   </PRE
></TD
></TR
></TABLE
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6428"
></A
><H4
>Entradas</H4
><P
>&#13;     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>	Una etiqueta arbitraria dada a una restricción. 
	</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6437"
></A
><H4
>Salidas</H4
><P
>     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>status</I
></TT
></DT
><DD
><P
>	 <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>ERROR: Cannot insert a duplicate key into a unique index.
	    </TT
></DT
><DD
><P
>	     Este error ocurre en tiempo de ejecución si se intenta
	     insertar un valor duplicado en un campo.	
	    </P
></DD
></DL
></DIV
>
	</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6452"
></A
><H4
>     Descripción
    </H4
><P
>     La restricción UNIQUE especifica una regla que obliga a un grupo
     de uno o más campos de una tabla a contener valores únicos.
    </P
><P
>     Las definiciones de campo de las columnas especificadas no tienen	
     porqué incluir una restricción NOT NULL constraint para ser incluídos
     en una restricción UNIQUE.  Tener más de un valor nulo en un campo sin
     la restricción NOT NULL, no viola la restricción UNIQUE.
     (This deviates from the <SPAN
CLASS="ACRONYM"
>SQL92</SPAN
> definition, but
     is a more sensible convention. See the section on compatibility
     for more details.).
    </P
><P
>     Cada restricción de campo UNIQUE debe nombrar un campo que
     es distitno del conjunto de campos nombrados por cualquier otra
     restricción UNIQUE o PRIMARY KEY definifas por la tabla.
    </P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Nota"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>      <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> crea automáticamente un índice
      único por cada restricción UNIQUE, para asegurar la integridad
      de los datos. Vea CREATE INDEX para más información.
     </P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-UNIQUECLAUSE-3"
></A
><H4
>     Uso
    </H4
><P
>     Define una restricción de campo UNIQUE para la tabla distributors.
     Las restricciones de campo UNIQUE solo son definidas sobre un campo
     de la tabla:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(3),
    name     VARCHAR(40) UNIQUE
);
  </PRE
></TD
></TR
></TABLE
>

     lo que equivale a la siguiente restricción de tabla:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(3),
    name     VARCHAR(40),
    UNIQUE(name)
);
     </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-CHECK-1"
></A
><H3
>    La restricción CHECK
   </H3
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ] CHECK
    ( <TT
CLASS="REPLACEABLE"
><I
>condition</I
></TT
> [, ...] ) 
   </PRE
></TD
></TR
></TABLE
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-CHECK-1"
></A
><H4
>Entradas</H4
><P
>&#13;     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>	Un nombre arbitrario dado a la restricción. 
	</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>condition</I
></TT
></DT
><DD
><P
>	 Cualquier expresión condicional válida que se evalue a un resultado boolenano.
	</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-CHECK-2"
></A
><H4
>     Outputs
    </H4
><P
>&#13;     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>status</I
></TT
></DT
><DD
><P
>&#13;	 <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>ERROR:  ExecAppend: rejected due to CHECK constraint "<TT
CLASS="REPLACEABLE"
><I
>table_column</I
></TT
>".
	    </TT
></DT
><DD
><P
>		Este error ocurre en tiempo de ejecución si alguien intenta insertar un
		valor ilegal en un campo sujeto a una restricción CHECK.
	    </P
></DD
></DL
></DIV
>
	</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6505"
></A
><H4
>Descripción</H4
><P
>	La restricción CHECK especifica una restricción sobre los valores
	permitidos en un campo. La restricción CHECK también se permite como 
	restricción de tabla.
    </P
><P
>     Las resticciones de campo CHECK de SQL92 sólo pueden ser definidas sobre 
     un campo de la tabla, y solamente pueden referirse a un campo. <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>
     no tiene esta restricción.
    </P
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-PRIMARYKEY-1"
></A
><H3
>    Restricción PRIMARY KEY
   </H3
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ] PRIMARY KEY 
   </PRE
></TD
></TR
></TABLE
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6516"
></A
><H4
>Entradas</H4
><P
>     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>	Un nombre arbitrario para la restricción. 
	</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6525"
></A
><H4
>Salidas</H4
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>	ERROR: No se puede insertar un valor duplicado en un índice único.
       </TT
></DT
><DD
><P
>	Esto ocurre en tiempo de ejecución si alguien intenta insertar un valor duplicado
	en una columna sujeta a una restricción PRIMARY KEY.
       </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6533"
></A
><H4
>Descripción</H4
><P
>     La restricción de campo PRIMARY KEY especifica que un campo de una tabla
     solamente puede contener valores únicos (no duplicados) y no nulos . La
     definición de la columna especificada no tiene que incluir una restricción
     explícita NOT NULL para ser incluída en una restricción PRIMARY KEY.
    </P
><P
>     Sólo se puede especificar una única clave primaria (PRIMARY KEY) por tabla.
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-PRIMARYKEY-3"
></A
><H4
>     Notas
    </H4
><P
>     <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> crea automáticamente un índice
	único para asegurar la integridad de los datos. (Vea la sentencia CREATE INDEX)
    </P
><P
>     La restricción de clave primaria (PRIMARY KEY) debe nombrar un conjunto de
     campos que no sean contenidos por ninguna otra restricción UNIQUE
     definidos por la misma tabla, ya que produciría una duplicación
     de índices equivalentes y una sobrecarga adicional en tiempo de ejecución.
     Sin embargo, <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> no lo deshabilita específicamente.
    </P
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-TABLECONSTRAINT-1"
></A
><H2
>   Cláusula CONSTRAINT para tablas
  </H2
><P
>   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] { PRIMARY KEY |  UNIQUE } ( <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> [, ...] )
[ CONSTRAINT name ] CHECK ( <TT
CLASS="REPLACEABLE"
><I
>constraint</I
></TT
> )
   </PRE
></TD
></TR
></TABLE
>
  </P
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-TABLECONSTRAINT-1"
></A
><H3
>    Entradas
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>	Un nombre arbitrario dado a una restricción de integridad.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> [, ...]</DT
><DD
><P
>	El nombre de los campos para los que definimos un índice único y, para la PRIMARY KEY, 
	una restricción NOT NULL. 
       </P
></DD
><DT
>CHECK ( <TT
CLASS="REPLACEABLE"
><I
>constraint</I
></TT
> )</DT
><DD
><P
>	Una expresión booleana a ser evaluado como la restricción.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-TABLECONSTRAINT-2"
></A
><H3
>    Salidas
   </H3
><P
>    Las posibles salidas para la cláusula de restricción de tablas son las mismas
    que para las partes correspondientes de la cláusula restricción de campo.	
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-TABLECONSTRAINT-3"
></A
><H3
>    Descripción
   </H3
><P
>    Una restricción de tabla es una restricción de integridad definidad
    sobre uno o más campos de una tabla base. Las cuatro variaciones de  
    restricciones de tabla son:
    <P
></P
><TABLE
BORDER="0"
><TBODY
><TR
><TD
>UNIQUE</TD
></TR
><TR
><TD
>CHECK</TD
></TR
><TR
><TD
>PRIMARY KEY</TD
></TR
><TR
><TD
>FOREIGN KEY</TD
></TR
></TBODY
></TABLE
><P
></P
>
   </P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Nota"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>     <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> todavía no soporta (en su versión 6.5)
	las restricciones de integridad FOREIGN KEY. El compilador entiende la sintaxis
	de FOREIGN KEY, pero solo imprime un aviso e ignora la cláusula. Las claves ajenas
	pueden ser parcialmente emuladas por medio de triggers (Consulte la sentencia CREATE TRIGGER).
    </P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-UNIQUECLAUSE-4"
></A
><H3
>    Restricción UNIQUE
   </H3
><P
>    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ] UNIQUE ( <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> [, ...] )
    </PRE
></TD
></TR
></TABLE
>
   </P
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6600"
></A
><H4
>Entradas</H4
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>	Un nombre arbitrario dado a una restricción.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
></DT
><DD
><P
>	Un nombre de un campo en una tabla.
       </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6613"
></A
><H4
>Salidas</H4
><P
>     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>status</I
></TT
></DT
><DD
><P
>	 <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>ERROR: Cannot insert a duplicate key into a unique index.</DT
><DD
><P
>	     Este error ocurre en tiempo de ejecución si se intenta insertar
	     un valor duplicado en un campo.	
	    </P
></DD
></DL
></DIV
>
	</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6627"
></A
><H4
>     Descripción
    </H4
><P
>     La restricción UNIQUE especifica una regla en la que un grupo de uno	
     The UNIQUE constraint specifies a rule that a group of one or
     o más campos diversos de una tabla puede contener solo valores únicos.
     El comportamiento de la restricción de tabla UNIQUE es el mismo que para
     la restricción de campo, con la posibilidad adicional de aplicarlo a más de un
     campo.
    </P
><P
>     Consulte la sección sobre la restricción de campo UNIQUE para más detalles.
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-UNIQUECLAUSE-4"
></A
><H4
>     Uso
    </H4
><P
>     Define una restricción de tabla UNIQUE en la tabla distributors:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(03),
    name     VARCHAR(40),
    UNIQUE(name)
);
     </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-PRIMARYKEY-4"
></A
><H3
>    Restricción PRIMARY KEY
   </H3
><P
>    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ] PRIMARY KEY ( <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> [, ...] ) 
    </PRE
></TD
></TR
></TABLE
>
   </P
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6643"
></A
><H4
>Entradas</H4
><P
>&#13;     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>	 Un nombre arbitrario para la restricción.
	</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> [, ...]</DT
><DD
><P
>	Los nombres de uno o más campos en la tabla. 
	</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6657"
></A
><H4
>Salidas</H4
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>status</I
></TT
></DT
><DD
><P
>	<P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>ERROR: Cannot insert a duplicate key into a unique index.</DT
><DD
><P
>	    Esto ocurre en tiempo de ejecución si alguien intenta insertar un valor duplicado
	    en un campo sujeto a una restricción de clave primaria (PRIMARY KEY).
	   </P
></DD
></DL
></DIV
>
       </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN6670"
></A
><H4
>Descripción</H4
><P
>     La restricción PRIMARY KEY especifica una regla en la que un grupo
     de uno o más campos de una tabla puede contener sólo valores únicos
     (no duplicados) y no nulos. Las definiciones de campo de los campos
     especificados no necesita incluir una restricción NOT NULL para ser incluída
     en una restricción PRIMARY KEY.
    </P
><P
>     La restricción de tabla PRIMARY KEY es similar a la respectiva restricción
     de campo, con la posibilidad de extenderla
     with the additional capability of encompassing multiple columns.
    </P
><P
>     Consulte la sección sobre la restricción de campo PRIMARY KEY para más
     infomación.	
    </P
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-CREATETABLE-2"
></A
><H2
>   Uso
  </H2
><P
>   Crea las tablas films y distributors:

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE films (
     code      CHARACTER(5) CONSTRAINT firstkey PRIMARY KEY,
     title     CHARACTER VARYING(40) NOT NULL,
     did       DECIMAL(3) NOT NULL,
     date_prod DATE,
     kind      CHAR(10),
     len       INTERVAL HOUR TO MINUTE
);
   </PRE
></TD
></TR
></TABLE
>

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
     did      DECIMAL(03) PRIMARY KEY DEFAULT NEXTVAL('serial'),
     name     VARCHAR(40) NOT NULL CHECK (name &#60;&#62; '')
);
   </PRE
></TD
></TR
></TABLE
>
  </P
><P
>   Crea una tabla con un array de 2 dimensiones:

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   CREATE TABLE array (
          vector INT[][]
          );
   </PRE
></TD
></TR
></TABLE
>
  </P
><P
>   Define una restricción de tabla UNIQUE para la tabla films.
   Las restricciones de tabla UNIQUE pueden ser definidas sobre uno
   o más campos de la tabla:
   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>	CREATE TABLE films (
    code      CHAR(5),
    title     VARCHAR(40),
    did       DECIMAL(03),
    date_prod DATE,
    kind      CHAR(10),
    len       INTERVAL HOUR TO MINUTE,
    CONSTRAINT production UNIQUE(date_prod)
);
   </PRE
></TD
></TR
></TABLE
>
  </P
><P
>   Define una restricción de campo CHECK:

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(3) CHECK (did &#62; 100),
    name     VARCHAR(40)
);
   </PRE
></TD
></TR
></TABLE
>
  </P
><P
>   Define una restricción de tabla CHECK:

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(3),
    name     VARCHAR(40)
    CONSTRAINT con1 CHECK (did &#62; 100 AND name &#62; '')
);
   </PRE
></TD
></TR
></TABLE
>
  </P
><P
>   Define una restricción de tabla PRIMARY KEY para la tabla  films.
   Las restricciones de tabla PRIMARY KEY pueden ser definidas sobre
   uno o más campos de la tabla:   
   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE films (
    code      CHAR(05),
    title     VARCHAR(40),
    did       DECIMAL(03),
    date_prod DATE,
    kind      CHAR(10),
    len       INTERVAL HOUR TO MINUTE,
    CONSTRAINT code_title PRIMARY KEY(code,title)
);
   </PRE
></TD
></TR
></TABLE
>
  </P
><P
>   Define una restricción de campo PRIMARY KEY para la tabla distributors.
   Las restricciones de campo PRIMARY KEY solamente se pueden definir para
   un campo de la tabla (los siguientes dos ejemplos serían equivalentes) :
   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>	CREATE TABLE distributors (
    did      DECIMAL(03),
    name     CHAR VARYING(40),
    PRIMARY KEY(did)
); 
   </PRE
></TD
></TR
></TABLE
>

   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE distributors (
    did      DECIMAL(03) PRIMARY KEY,
    name     VARCHAR(40)
);
   </PRE
></TD
></TR
></TABLE
>
  </P
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-CREATETABLE-3"
></A
><H3
>    Notas
   </H3
><P
>    CREATE TABLE/INHERITS es una extensión al lenguaje
    de <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
   </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-CREATETABLE-3"
></A
><H2
>   Compatibilidad
  </H2
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-CREATETABLE-4"
></A
><H3
>    SQL92
   </H3
><P
>    Además de la tabla temporal visible localmente, SQL92 define una sentencia
    CREATE GLOBAL TEMPORARY TABLE , y opcionalmente una cláusula ON COMMIT:
   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>CREATE GLOBAL TEMPORARY TABLE <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
> ( <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>type</I
></TT
> [
    DEFAULT <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> ] [ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>column_constraint</I
></TT
> ] [, ...] )
    [ CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>table_constraint</I
></TT
> ] [ ON COMMIT { DELETE | PRESERVE } ROWS ] 
   </PRE
></TD
></TR
></TABLE
>
   </P
><P
>    Para tablas temporales, la sentencia CREATE GLOBAL TEMPORARY TABLE nombra una
    nueva tabla visible a otros clientes y define los campos de la tabla y las restricciones.
   </P
><P
>    La cláusula opcional ON COMMIT de CREATE TEMPORARY TABLE especifica
    si la tabla temporal debe vaciarse de registros cada vez que se ejecuta
    un COMMIT o no. Si se omite la cláusula ON COMMIT, se asume la opción por 
    defecto, ON COMMIT DELETE ROWS.
   </P
><P
>    Para crear una tabla temporal:

    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CREATE TEMPORARY TABLE actors (
    id         DECIMAL(03),
    name       VARCHAR(40),
    CONSTRAINT actor_id CHECK (id &#60; 150)
) ON COMMIT DELETE ROWS;
    </PRE
></TD
></TR
></TABLE
>
   </P
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-UNIQUECLAUSE-1"
></A
><H4
>     Cláusula UNIQUE
    </H4
><P
>     SQL92 especifica algunas posibilidades adicionales para UNIQUE:
    </P
><P
>     Definición de restricción de tabla:

     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] UNIQUE ( column [, ...] )
    [ { INITIALLY DEFERRED | INITIALLY IMMEDIATE } ]
    [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
><P
>     Definición de restricción de campo:

     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] UNIQUE
      [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
      [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-NULL-1"
></A
><H4
>     cláusula NULL
    </H4
><P
>	La restricción  NULL (realmente no es una restricción)
	es una extensión <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> a SQL92
	incluída por simetría con la cláusula NOT NULL. Como es el valor por
	defecto para cualquier campo, su presencia es redundante.
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] NULL 
     </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-NOTNULL-4"
></A
><H4
>     cláusula NOT NULL
    </H4
><P
>     
     SQL92 especifica alguna posibildad adicional para NOT NULL:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] NOT NULL 
    [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
    [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-CONSTRAINT-3"
></A
><H4
>     cláusula CONSTRAINT
    </H4
><P
>     SQL92 especifica alguna posibilidad adicional para restricciones,
     y también define restricciones de assertions y de dominio.
     <DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Nota"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>       <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> todavía no soporta ni 
       dominios ni assertions.
      </P
></TD
></TR
></TABLE
></DIV
>
    </P
><P
>     Una assertion es un tipo especial de restricción de integridad y comparte
     el mismo espacio de nombres con otras restricciones.
     Sin embargo, una assertion no es necesariamente dependiente de una particular
     tabla base como son las restricciones, así que SQL-92 proporciona la sentencia
     CREATE ASSERTION como un método alternativo para definir una restricción:
    </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>CREATE ASSERTION name CHECK ( condition )
    </PRE
></TD
></TR
></TABLE
><P
>     Las restricciones de dominio se definen con las sentencias CREATE DOMAIN o ALTER DOMAIN:
    </P
><P
>     Restricción de dominio:

     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] CHECK constraint 
    [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
    [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
><P
>     Definición de restricciones de tabla:

     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] { PRIMARY KEY ( <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
>, ... ) | FOREIGN KEY constraint | UNIQUE constraint | CHECK constraint }
    [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
    [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
><P
>     Definición de restricciones de campo:

     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] { NOT NULL | PRIMARY KEY | FOREIGN KEY constraint | UNIQUE | CHECK constraint }  
    [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
    [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
><P
>     Una definición de restricción de integridad (CONSTRAINT) puede contener un atributo
     o cláusula DEFERRABLE y /o una cláusula del modo inicial de restricción, en cualquier orden.
     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>NOT DEFERRABLE</DT
><DD
><P
>	 significa que la restricción debe ser comprobada después
	 de la ejecución de cada sentencia SQL.
	</P
></DD
><DT
>DEFERRABLE</DT
><DD
><P
>	 significa que la verificación del cumplimiento de la restricción puede
	 ser aplazado hasta más tarde, pero no más tarde que el final de la actual
	 transacción.
	</P
></DD
></DL
></DIV
>
    </P
><P
>     El modo de restricción para cada restricción tiene siempre un
     valor incial por defecto que se establece para la restricción
     al principio de la transacción.
     <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>INITIALLY IMMEDIATE</DT
><DD
><P
>	 significa que, desde el principio de la transacción,
	 la restricción debe ser comprobada después de la ejecución
	 de cada sentencia SQL.
	</P
></DD
><DT
>INITIALLY DEFERRED</DT
><DD
><P
>	 significa que, como se está al principio de la transacción,
	 la comprobación de la restricción puede ser aplazada hasta más tarde,
	 pero no más tarde que en el final de la actual transacción. O sea, que la
	 restricción puede ser incumplida por alguna sentencia SQL en un punto 
	 intermedio de la transacción, pero no al final de la misma.</P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-CHECK-4"
></A
><H4
>     Cláusula CHECK 
    </H4
><P
>     SQL92 especifica alguna capacidad adicional para CHECK tanto en la restricciones de tabla
	como en la de campo.
    </P
><P
>     definición de restricción de tabla:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] CHECK ( VALUE condition ) 
      [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
      [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
><P
>     definición de restricción de campo:
    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] CHECK ( VALUE condition ) 
      [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
      [ [ NOT ] DEFERRABLE ]
    </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="R3-SQL-PRIMARYKEY-1"
></A
><H4
>     cláusula PRIMARY KEY 
    </H4
><P
>     SQL92 especifica algunas posibilidades adicionales para la PRIMARY KEY:
    </P
><P
>     Definición de restricciones de tabla:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] PRIMARY KEY ( column [, ...] ) 
    [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
    [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
><P
>     Definición de restricciones de campo: 
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>[ CONSTRAINT name ] PRIMARY KEY 
    [ {INITIALLY DEFERRED | INITIALLY IMMEDIATE} ]
    [ [ NOT ] DEFERRABLE ]
     </PRE
></TD
></TR
></TABLE
>
    </P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-createsequence.html"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="user.html"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-createtableas.html"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>CREATE SEQUENCE</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.html"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>CREATE TABLE AS</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>