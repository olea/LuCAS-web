<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Tratamiento de problemas</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="Guia del Administrador de PostgreSQL"
HREF="admin.html"><LINK
REL="PREVIOUS"
TITLE="Copia de seguridad y restauración"
HREF="x1401.html"><LINK
REL="NEXT"
TITLE="Problemas con la conexión del Cliente"
HREF="x1467.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Guia del Administrador de PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1401.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1467.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="TROUBLE"
>Tratamiento de problemas</A
></H1
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN1456"
>Fallos de inicio de Postmaster</A
></H1
><P
>    Hay varias posibles razones para que postmaster no pueda
    inicializarse. Compruebe el fichero de registro de postmaster, o
    inícielo manualmente (sin redirigir la salida estándar o la de
    errores) para ver los mensajes que aparecen. Alguno de los posibles
    mensajes de error son autoexplicativos, pero los hay que pueden no
    serlos tanto:
   </P
><P
>    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>FATAL: StreamServerPort: bind() failed: Address already in use
        Is another postmaster already running on that port?
    </PRE
></TD
></TR
></TABLE
>
    Esto normalmente significa lo que sugiere: accidentalmente ha
    iniciado una segunda instancia de postmaster en el mismo puerto en el
    que ya se está ejecutando uno. Sin embargo, si el mensaje de error
    del núcleo no es "Address already in use" o alguna variante, puede
    estar ocurriendo otro problema. Por ejemplo, el tratar de iniciar una
    sesión de postmaster en un puerto de error reservado puede producir
    algo como: 
    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>$ postmaster -i -p 666
FATAL: StreamServerPort: bind() failed: Permission denied
        Is another postmaster already running on that port?
    </PRE
></TD
></TR
></TABLE
>
   </P
><P
>    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>IpcMemoryCreate: shmget failed (Invalid argument) key=5440001, size=83918612, permission=600
FATAL 1:  ShmemCreate: cannot create region
    </PRE
></TD
></TR
></TABLE
>
    Un mensaje como éste posiblemente indica que el limite impuesto al
    tamaño de las zonas de memoria compartidas es menor que área de
    «buffer» que Postgres está intentando crear. (O puede significar que no
    dispone de soporte para la memoria compartida de tipo SysV configurado
    en su núcleo.) Como arreglo temporal puede tratar de iniciar
    postmaster con un número de «buffers» menor de lo normal (parámetro -B).
    Sin embargo, debería reconfigurar su núcleo para incrementar el 
    tamaño permitido para la memoria compartida. 
    Este mensaje puede aparecer cuando trate de iniciar varias sesiones de
    postmaster en la misma máquina, si el total de espacio necesario
    excede el límite impuesto por el núcleo.
   </P
><P
>    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>IpcSemaphoreCreate: semget failed (No space left on device) key=5440026, num=16, permission=600
    </PRE
></TD
></TR
></TABLE
>
    Un mensaje como éste <I
CLASS="EMPHASIS"
>no</I
> significa que se haya
    quedado sin espacio en el disco; significa que la cantidad máxima de
    semáforos permitidos por el núcleo para el SysV es menor que la
    cantidad que Postgres intenta crear. Como antes, puede evitar este
    problema iniciando el postmaster con un numero de procesos «backend»
    menor (parámetro -N), pero sería mejor que incrementara el límite 
    impuesto por el núcleo.
   </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1401.html"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="admin.html"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1467.html"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Copia de seguridad y restauración</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Problemas con la conexión del Cliente</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>