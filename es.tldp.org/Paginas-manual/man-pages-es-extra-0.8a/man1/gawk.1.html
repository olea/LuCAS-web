<?xml version="1.0" encoding="utf8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  ><head><meta http-equiv="Content-Type" content="text/html; charset=utf8" /><meta content="HTML Tidy for Linux/x86 (vers 1st July 2002), see www.w3.org" /><link rel="stylesheet" type="text/css" href="../../tigris.css" /><title>Manpage of GAWK</title></head><body><p>
  
</p><h1>GAWK</h1><p>

Section: Órdenes de Utilidad (1)<br />
Updated: 19 Dic 1996<br /><a href="#index">Index</a> <a href="http://localhost/cgi-bin/man/man2html">Return to Main
Contents</a>
</p><hr /><a id="lbAB"> </a><h2>NOMBRE</h2><p>

gawk - lenguaje de análisis y procesamiento de patrones <a id="lbAC"> </a> 
</p><h2>SINOPSIS</h2><b>gawk</b><p> [ opciones del estilo POSIX o GNU ] <b>-f</b>
<i>fichero-de-programa</i> [ <b>--</b> ] fichero ... <br /><b>gawk</b> [ opciones del estilo POSIX o GNU ] [ <b>--</b> ]
<i>texto-del-programa</i> fichero ... <a id="lbAD"> </a> 
</p><h2>DESCRIPCIÓN</h2><i>Gawk</i><p> es la implementación del Proyecto GNU del lenguaje de
programación AWK. Está conforme con la definición del lenguaje en
el <font size="-1">POSIX</font> 1003.2 Command Language And
Utilities Standard. Esta versión está basada, a su vez, en la
descripción de <i>The AWK Programming Language</i>, escrito por
Aho, Kernighan, y Weinberger, con las características adicionales
que aparecen en la versión del System V de <font size="-1">UNIX</font> <i>awk</i>. <i>Gawk</i> igualmente provee de
las recientes extensiones del <i>awk</i> de Bell Labs, y algunas
extensiones específicas de GNU. 
</p><p>La línea de orden consiste en opciones para el propio
<i>gawk</i> , el texto del programa AWK (si no se provee mediante
las opciones <b>-f</b> o <b>--file</b> ), y los valores que deben
estar disponibles en las variables predefinidas de AWK <b>ARGC</b>
y <b>ARGV .</b> <a id="lbAE"> </a></p><h2>FORMATO DE LAS OPCIONES</h2><p>Las opciones de <i>Gawk</i> pueden seguir tanto el estilo
tradicional de opciones de una letra de <font size="-1">POSIX</font> , como el estilo GNU de opciones largas. Las
opciones <font size="-1">POSIX</font> comienzan con un solo ''-'',
mientras que las opciones largas lo hacen con ''--''. Se ofrecen
opciones largas tanto para las características específicas de GNU
como para las características definidas por <font size="-1">POSIX</font>.</p><p>Siguiendo el estándar <font size="-1">POSIX</font>, las opciones
específicas de <i>gawk</i> se proveen vía argumentos con la opción
<b>-W .</b> Pueden añadirse múltiples opciones <b>-W .</b> Cada una
de las opciones <b>-W</b> tienen su correspondiente opción larga,
tal y como de detalla más adelante. Los argumentos de las opciones
largas deben estar unidas a la opción mediante un signo <b>=</b> ,
sin espacios en blanco, o pueden proveerse en el siguiente
argumento de la línea de orden. Las opciones largas pueden ser
abreviadas, siempre y cuando la abreviatura sea única. <a id="lbAF"> </a></p><h2>OPCIONES</h2><p><i>Gawk</i> acepta las siguientes opciones.</p><dl compact="compact"><dd><b>-F</b> <i>fs</i></dd>

<dd><b>--field-separator</b> <i>fs</i> Use <i>fs</i> para definir
el separador de campos de la entrada (el valor de la variable
predefinida <b>FS</b> ).</dd>

<dd><b>-v</b> <i>var</i><b>=</b><i>val</i></dd>

<dd><b>--assign</b> <i>var</i><b>=</b><i>val</i> Asigna el valor
<i>val</i>, a la variable <i>var</i>, antes de que la ejecución del
programa comience. Estos valores de variable están disponibles en
el bloque <b>BEGIN</b> de un programa AWK.</dd>

<dd><b>-f</b> <i>fichero-de-programa</i></dd>

<dd><b>--file</b> <i>fichero-de-programa</i> Leer el fuente del
programa AWK del fichero <i>fichero-de-programa</i>, en vez de
obtenerlo del primer argumento de la línea de orden. Pueden usarse
múltiples opciones <b>-f</b> (o <b>--file</b>).</dd>

<dd><b>-mf</b> <i>NNN</i></dd>

<dd><b>-mr</b> <i>NNN</i> Definir varios límites de memoria al
valor <i>NNN</i>. El indicador <b>f</b> define el máximo número de
campos, y el indicador <b>r</b> define el tamaño máximo de un
registro. Estos dos indicadores y la opción <b>-m</b> son de la
versión de <i>awk</i> para <font size="-1">UNIX</font> de la
versión de investigación de Bell Labs. Son ignoradas por
<i>gawk</i>, ya que <i>gawk</i> no tiene límites predefinidos.</dd>

<dd><b>-W traditional</b></dd>

<dd><b>-W compat</b></dd>

<dd><b>--traditional</b></dd>

<dd><b>--compat</b> Ejecutar en el modo de <i>compatibilidad .</i>
En este modo de funcionamiento, <i>gawk</i> funciona de manera
idéntica al <i>awk</i> de <font size="-1">UNIX</font> ; ninguna de
las extensiones específicas de GNU son reconocidas. Es preferible
el uso de la forma <b>--traditional</b> en vez de las otras formas
de esta opción. Vea <b>EXTENSIONES DE GNU</b>, más adelante, para
más información.</dd>

<dd><b>-W copyleft</b></dd>

<dd><b>-W copyright</b></dd>

<dd><b>--copyleft</b></dd>

<dd><b>--copyright</b> Imprime una versión corta del mensaje de
información sobre derechos de copia de GNU en la salida estándar, y
termina de forma correcta.</dd>

<dd><b>-W help</b></dd>

<dd><b>-W usage</b></dd>

<dd><b>--help</b></dd>

<dd><b>--usage</b> Imprime un resumen relativamente corto de las
opciones disponibles por la salida estándar. (Siguiendo los <i>GNU
Coding Standards</i>, estas opciones causan una salida
satisfactoria inmediata.)</dd>

<dd><b>-W lint</b></dd>

<dd><b>--lint</b> Genera mensajes de advertencia sobre
construcciones que son dudosas o no portables para otras
implementaciones de AWK.</dd>

<dd><b>-W lint-old</b></dd>

<dd><b>--lint-old</b> Genera mensajes de advertencia sobre
construcciones que no son portables a la versión original de Unix.
<i>awk</i>.</dd>

<dd><b>-W posix</b></dd>

<dd><b>--posix</b> Esta opción activa el modo de
<i>compatibilidad</i> , con las siguientes restricciones
adicionales: 
<dl compact="compact"><dd>
<dl compact="compact"><dt>*</dt>

<dd><b>\x</b> las secuencias de escape no son reconocidas.</dd>

<dt>*</dt>

<dd>Solo los espacios y los tabuladores actúan como separadores de
campo cuando <b>FS</b> contiene un único espacio, y no los saltos
de línea.</dd>

<dt>*</dt>

<dd>El sinónimo <b>func</b> para la palabra clave <b>function</b>
no es reconocido.</dd>

<dt>*</dt>

<dd>Los operadores <b>**</b> y <b>**=</b> no pueden ser usados en
vez de <b>^</b> y <b>^=</b>.</dd>

<dt>*</dt>

<dd>La función <b>fflush()</b> no está disponible.</dd>
</dl></dd>
</dl></dd>

<dd><b>-W re-interval</b></dd>

<dd><b>--re-interval</b> Activa el uso de las <i>expresiones de
intervalos</i> en el ajuste de expresiones regulares (vea
<b>Expresiones Regulares</b>, más adelante). Las expresiones de
intervalos no eran soportadas tradicionalmente por el lenguaje AWK.
El estándar POSIX las añadió, para hacer que <i>awk</i> y
<i>egrep</i> fueran consistentes entre ellos. De cualquier modo, es
probable que su uso entorpezca el uso de programas AWK antiguos,
por este motivo <i>gawk</i> solo las provee si son pedidas mediante
esta opción, o si se ha especificado <b>--posix .</b></dd>

<dd><b>-W source</b> <i>texto-del-programa</i></dd>

<dd><b>--source</b> <i>texto-del-programa</i> Usar
<i>program-text</i> como el código fuente del programa AWK. Esta
opción permite la fácil mezcla de funciones de librería (usadas
mediante las opciones <b>-f</b> y <b>--file</b> ) con código fuente
entrado por la línea de orden. Se ha propuesto primordialmente como
un medio para agrandar programas AWK usados en scripts de
shell.</dd>

<dd><b>-W version</b></dd>

<dd><b>--version</b> Imprime información sobre la versión de esta
copia de <i>gawk</i> en particular por la salida estándar. Es útil
principalmente para saber si la copia actual de <i>gawk</i> en su
sistema está al día respecto con cualquier cosa que la Free
Software Foundation esté distribuyendo. También es útil para dar
avisos sobre fallos. (Siguiendo los <i>GNU Coding Standards</i>,
estas opciones causan una salida satisfactoria inmediata.)</dd>

<dt><b>--</b></dt>

<dd>Señala el final de las opciones. Es útil para permitir que los
futuros argumentos al propio programa AWK puedan comenzar también
por un ``-''. Esto es principalmente para mantener la consistencia
con las convenciones de análisis de argumentos usados por la
mayoría de los restantes programas <font size="-1">POSIX</font>.</dd>
</dl><p>En el modo compatibilidad, cualquier otra opción será marcada
como ilegal, aunque sean ignoradas. En operación normal, mientras
el texto del programa haya sido incluido, las opciones no
reconocidas son pasadas al programa AWK en la tabla <b>ARGV</b>
para ser procesadas. Es particularmente útil para ejecutar
programas AWK mediante el mecanismo de intérprete de ejecutables
''#!''. <a id="lbAG"> </a></p><h2>EJECUCIÓN DE UN PROGRAMA AWK</h2><p>Un programa AWK consiste en una secuencia de sentencias tipo
patrón-acción y definiciones de función opcionales.</p><dl compact="compact"><dd>
<p><i>patrón</i><b><tt> </tt>{</b> <i>sentencias de acción</i>
<b>}</b><br /><br /><b>function</b> <i>nombre</i><b>(</b><i>lista de
parámetros</i><b>) {</b> <i>sentencias</i> <b>}</b></p>
</dd>
</dl><p><i>Gawk</i> primero lee el fuente del programa a partir de los
<i>fichero(s)-de-programa</i> si se han especificado, a partir de
los argumentos de <b>--source</b>, o a partir del primer argumento
que no sea una opción de la línea de orden. Las opciones <b>-f</b>
y <b>--source</b> pueden ser usadas más de una vez en una línea de
orden. <i>Gawk</i> leerá el texto del programa como si todos los
<i>fichero(s)-de-programa</i> y textos fuentes de la línea de orden
hubieran sido concatenados. Esto es útil para construir librerías
de funciones AWK, sin tener la necesidad de incluirlos en cada uno
de los nuevos programas AWK que las use. Además ofrece la capacidad
de mezclar funciones de librería con programas de la línea de
orden.</p><p>La variable de entorno <b>AWKPATH</b> especifica un camino de
búsqueda para ser usado cuando se busque los ficheros indicados con
la opción <b>-f .</b> Si esta variable no existiera, el camino por
defecto sería <b>".:/usr/local/share/awk"</b>. (El directorio
actual puede variar, dependiendo de desde donde se compiló e
instaló <i>gawk .)</i> Si un fichero dado a la opción <b>-f</b>
contiene un carácter ''/'', no se realiza ningún tipo de
búsqueda.</p><p><i>Gawk</i> ejecuta los programas AWK en el siguiente orden.
Primero, todas las asignaciones de variables especificadas mediante
la opción <b>-v</b> se realizan. A continuación, <i>gawk</i>
compila el programa en un formato interno. Después, <i>gawk</i>
ejecuta el código del/los bloque(s) <b>BEGIN</b> (si existe
alguno), y a continuación procede a leer cada uno de los ficheros
nombrados en la tabla <b>ARGV .</b> Si no existe ningún nombre de
fichero en la línea de orden, <i>gawk</i> lee de la entrada
estándar.</p><p>Si el nombre de un fichero en la línea de orden tiene la forma
<i>var</i><b>=</b><i>val</i> será tratado como una asignación de
variable. Se asignará a la variable <i>var</i> el valor <i>val</i>.
(Esto ocurre después de que cualquier bloque(s) <b>BEGIN</b> haya
sido ejecutado.) Las asignaciones en la línea de orden es útil
sobre todo para asignar valores de forma dinámica a las variables
que AWK usa para controlar cómo es troceada la entrada en campos y
registros. Es también útil para controlar el estado si son
necesarios múltiples pasos sobre el mismo fichero de datos.</p><p>Si el valor de alguno de los elementos particulares de
<b>ARGV</b> está vacío (<b>""</b>), <i>gawk</i> se lo salta.</p><p>Para cada registro de la entrada, <i>gawk</i> prueba si es
posible ajustarlo con alguno de los <i>patrones</i> en el programa
AWK. Para cada patrón con el cual el registro concuerde, se ejecuta
la <i>acción</i> asociada. Los patrones son probados en el orden en
que aparecen en el programa.</p><p>Finalmente, después de que toda la entrada se ha terminado,
<i>gawk</i> ejecuta el código en el/los bloque(s) <b>END</b> (si
existiera alguno). <a id="lbAH"> </a></p><h2>VARIABLES, REGISTROS Y CAMPOS</h2><p>

Las variables AWK son dinámicas; su existencia comienza cuando son
usadas por primera vez. Sus valores son números de coma flotante o
cadenas de caracteres, o ambos, dependiendo de cómo son usadas. AWK
también dispone de tablas unidimensionales; las tablas
multidimensionales pueden ser simuladas. Varias variables
predefinidas se definen cuando un programa comienza a ejecutarse;
serán descritas cuando convenga y serán resumidas más adelante. <a id="lbAI"> </a> 
</p><h3>Registros</h3><p>

Normalmente, los registros se separan por caracteres de salto de
línea. Puede controlar cómo son separados los registros asignando
valores a la variable predefinida <b>RS</b>. Si <b>RS</b> tiene un
único carácter, ese carácter separará los registros. De otro modo,
<b>RS</b> se considerará como una expresión regular. El texto de la
entrada que concuerde con esa expresión regular será el que
separará los registros. De todas maneras, en el modo
compatibilidad, solo el primer carácter de esa cadena será usado
para separar registros. Si <b>RS</b> contiene la cadena vacía,
entonces los registros serán separados por espacios en blanco.
Cuando <b>RS</b> contiene la cadena vacía, el carácter de salto de
línea siempre actúa como separador de campos, añadiéndose a
cualquier valor que <b>FS</b> pudiera tener. <a id="lbAJ"> </a> 
</p><h3>Campos</h3><p>Conforme cada registro de entrada es leído, <i>gawk</i> divide
el registro en <i>campos</i>, usando el valor de la variable
<b>FS</b> como separados de campos. Si <b>FS</b> tiene un único
carácter, los campos serán separados por ese carácter. Si <b>FS</b>
contiene la cadena vacía, entonces cada carácter individual se
convierte en separador de campo. De otro modo, se espera que
<b>FS</b> sea una expresión regular completa. En el caso especial
de que <b>FS</b> tuviera un único espacio en blanco, los campos
serían separados por tiras de espacios y/o tabuladores y/o saltos
de línea. (Vea la discusión sobre <b>--posix</b>, más adelante).
Nótese que el valor de <b>IGNORECASE</b> (vea más adelante)
afectará también a cómo son divididos los registros en el caso de
que <b>FS</b> fuera una expresión regular, y a cómo son separados
cuando <b>RS</b> fuera una expresión regular.</p><p>Si la variable <b>FIELDWIDTHS</b> está definida como una lista
de número separados por espacios, se espera que cada campo tenga
ancho fijo, y <i>gawk</i> dividiría el registro usando los anchos
especificados. El valor de <b>FS</b> es ignorado es este caso.
Asignar un nuevo valor a <b>FS</b> haría saltarse el uso de
<b>FIELDWIDTHS</b>, y volver a la forma de actuar por defecto.</p><p>Cada campo en el registro de entrada puede ser referenciado por
su posición, <b>$1</b>, <b>$2</b>, etc. <b>$0</b> es el registro
completo. El valor de un campo puede ser también asignado. Los
campos no necesitan ser referenciados por constantes:</p><dl compact="compact"><dd>
<p><b>n = 5<br />
 print $n</b></p>
</dd>
</dl><p>imprime el quinto campo del registro de entrada. La variable
<b>NF</b> se define con el número total de campos en el registro de
entrada.</p><p>Las referencias a campos que no existen (por ejemplo los campos
por detrás de <b>$NF</b>) producen la cadena vacía. De todas
maneras, la asignación de un campo no existente (por ejemplo,
<b>$(NF+2) = 5</b>) incrementaría el valor de <b>NF</b>, creando
los campos que intervienen como cadenas vacías, y causando que el
valor de <b>$0</b> fuera recalculado, siendo separados los campos
mediante el valor de <b>OFS</b>. Las referencias a campos con
numeración negativa causan un error fatal. Decrementar <b>NF</b>
causa que el valor de los campos que pasen del nuevo número se
pierda, y el valor de <b>$0</b> sea recalculado, siendo separados
los campos mediante el valor de <b>OFS</b>. <a id="lbAK"> </a></p><h3>Variables Predefinidas</h3><p>Las variables predefinidas de <i>gawk</i> son:</p><dl compact="compact"><dt><b>ARGC</b></dt>

<dd>EL número de argumentos en la línea de orden (no incluye las
opciones para <i>gawk</i>, o el fuente del programa).</dd>

<dt><b>ARGIND</b></dt>

<dd>El índice en <b>ARGV</b> del fichero que actualmente se está
procesando.</dd>

<dt><b>ARGV</b></dt>

<dd>Tabla con los argumentos de la línea de orden. La tabla está
indexada desde el 0 hasta <b>ARGC</b> - 1. Cambiando dinámicamente
el contenido de <b>ARGV</b> permite controlar los ficheros usados
para datos.</dd>

<dt><b>CONVFMT</b></dt>

<dd>El formato de conversión para números,por defecto
<b>"%.6g"</b>.</dd>

<dt><b>ENVIRON</b></dt>

<dd>Una tabla conteniendo los valores del entorno actual. La tabla
se encuentra indexada por el nombre de las variables de entorno,
siendo cada elemento el valor para esa variable (por ejemplo,
<b>ENVIRON["HOME"]</b> podría ser <b>/home/arnold</b>). Cambiar
esta tabla no afecta al entorno de los programas que <i>gawk</i>
ejecuta vía redirección o la función <b>system() .</b> (Esto podría
cambiar en una futura versión de <i>gawk</i>.)</dd>

<dt><b>ERRNO</b></dt>

<dd>Si ocurre algún error de sistema tanto por hacer una
redirección con <b>getline</b>, durante una lectura con
<b>getline</b>, o durante un <b>close()</b>, entonces <b>ERRNO</b>
contendrá una cadena de caracteres describiendo el error.</dd>

<dt><b>FIELDWIDTHS</b></dt>

<dd>Una lista de anchos de campo separados por espacios. Cuando
esté definida, <i>gawk</i> analiza la entrada como campos de tamaño
fijo, en vez de usando el valor de la variable <b>FS</b> como
separador de campo. La capacidad de trabajar con anchos de campo
fijos es todavía experimental; las semánticas podrían cambiar
conforme <i>gawk</i> se vaya desarrollando en el tiempo.</dd>

<dt><b>FILENAME</b></dt>

<dd>El nombre del fichero de entrada actual. Si no se ha
especificado ningún fichero en la línea de orden, el valor de
<b>FILENAME</b> será ``-''. De todos modos, <b>FILENAME</b> no está
definida dentro de un bloque <b>BEGIN .</b></dd>

<dt><b>FNR</b></dt>

<dd>El número de registro de entrada en el fichero de entrada
actual.</dd>

<dt><b>FS</b></dt>

<dd>El separador de campo de entrada, un espacio por defecto. Vea
<b>Fields</b>, más arriba.</dd>

<dt><b>IGNORECASE</b></dt>

<dd>Controla la sensibilidad a mayúsculas de todas las expresiones
regulares y operaciones con cadenas. Si <b>IGNORECASE</b> tiene un
valor diferente de cero, entonces las comparaciones entre cadenas y
las comprobaciones de patrones en las reglas, la división de campos
con <b>FS</b>, la separación de registros con <b>RS</b>, la
comprobación de expresiones regulares con <b>~</b> y <b>!~</b>, y
las funciones predefinidas <b>gensub()</b>, <b>gsub()</b>,
<b>index()</b>, <b>match()</b>, <b>split()</b>, y <b>sub()</b>
ignorarán la diferencia entre minúsculas y mayúsculas cuando
realicen operaciones con expresiones regulares. De este modo, si
<b>IGNORECASE</b> no es igual a cero, <b>/aB/</b> concuerda con
todas las cadenas <b>"ab"</b>, <b>"aB"</b>, <b>"Ab"</b>, y
<b>"AB"</b>. Como con todas las otras variables de AWK, el valor
inicial de <b>IGNORECASE</b> es cero, por lo que todas las
operaciones con expresiones regulares y cadenas son normalmente
sensibles a las mayúsculas. Bajo Unix, el conjunto de caracteres
ISO 8859-1 Latin-1 es usado cuando se ignoran las mayúsculas.
<b>NOTA:</b> En versiones de <i>gawk</i> anteriores a la 3.0,
<b>IGNORECASE</b> solo afectaba a las operaciones con expresiones
regulares. Ahora también afecta a las comparaciones de
cadenas.</dd>

<dt><b>NF</b></dt>

<dd>El número de campos en el registro de entrada actual.</dd>

<dt><b>NR</b></dt>

<dd>El número total de registros de entrada que han aparecido desde
el principio.</dd>

<dt><b>OFMT</b></dt>

<dd>El formato de salida para los números, por defecto es
<b>"%.6g"</b>.</dd>

<dt><b>OFS</b></dt>

<dd>El separador de campos de salida, un espacio por defecto.</dd>

<dt><b>ORS</b></dt>

<dd>El separador de registros de salida, por defecto un salto de
línea.</dd>

<dt><b>RS</b></dt>

<dd>El separador de registros de entrada, por defecto un salto de
línea.</dd>

<dt><b>RT</b></dt>

<dd>El terminador de los registros. <i>Gawk</i> define <b>RT</b>
con el texto de entrada que concordó con el carácter o expresión
regular especificada por <b>RS</b>.</dd>

<dt><b>RSTART</b></dt>

<dd>El índice del primer carácter concordado por <b>match()</b>; 0
si no concordó ninguno.</dd>

<dt><b>RLENGTH</b></dt>

<dd>La longitud de la cadena concordada por <b>match()</b>; -1 si
no concordó ninguna.</dd>

<dt><b>SUBSEP</b></dt>

<dd>El carácter usado para separar múltiples subíndices en
elementos de tipo tabla, por defecto <b>"\034"</b>.</dd>
</dl><a id="lbAL"> </a><h3>Tablas</h3><p>Las tablas se indexan mediante una expresión entre corchetes
(<b>[</b> y <b>]</b>). Si la expresión es una lista de expresiones
(<i>expr</i>, <i>expr</i> ...) entonces el índice de la tabla es
una cadena de caracteres resultado de la concatenación de los
valores (cadenas) de cada una de las expresiones, separados por el
valor de la variable <b>SUBSEP</b> Esta capacidad se utiliza para
simular tablas de múltiples dimensiones. Por ejemplo:</p><dl compact="compact"><dd><b>i = "A"; j = "B"; k = "C"<br />
 x[i, j, k] = "hola, mundo\n"</b></dd>
</dl><p>asigna la cadena <b>"hola, mundo\n"</b> al elemento de la tabla
<b>x</b> que está indexado por la cadena <b>"A\034B\034C"</b>.
Todas las tablas en AWK son asociativas, es decir, indexadas por
valores de tipo cadena.</p><p>El operador especial <b>in</b> puede ser usado en las órdenes
<b>if</b> o <b>while</b> para comprobar si una tabla contiene un
índice consistente en un valor particular.</p><dl compact="compact"><dd>
<pre>
if (val in tabla)
        print tabla[val]
</pre>
</dd>
</dl><p>Si la tabla tiene múltiples subíndices, use <b>(i, j) in
tabla</b>.</p><p>La construcción <b>in</b> también puede usarse en bucles de tipo
<b>for</b> para iterar sobre todos los elementos de una tabla.</p><p>Un elemento puede ser eliminado de una tabla usando la orden
<b>delete</b> La orden <b>delete</b> puede ser usada también para
borrar completamente los contenidos de una tabla, simplemente
especificando el nombre de la tabla sin ningún índice. <a id="lbAM"> </a></p><h3>Tipado de Variables y Conversiones</h3><p>Las variables y los campos pueden ser números (de coma
flotante), o cadenas de caracteres, o ambos. Dependerá del contexto
cómo será interpretado el valor de una variable. Si se usa en una
expresión numérica, será tratado como número, si se usa como una
cadena será tratada como una cadena.</p><p>Para forzar que una variable sea tratada como un número, sumele
un 0; para forzar que sea tratada como una cadena, concaténela con
la cadena vacía.</p><p>Cuando una cadena debe ser convertida a número, la conversión se
realiza usando <i><a href="http://localhost/cgi-bin/man/man2html?3+atof">atof</a></i>(3).
Un número es convertido en cadena usando el valor de <b>CONVFMT</b>
como cadena de formato para <i><a href="http://localhost/cgi-bin/man/man2html?3+sprintf">sprintf</a></i>(3),
con el valor numérico de la variable como el argumento. De todas
maneras, aunque todos los números en AWK son reales de coma
flotante, los valores enteros son <i>siempre</i> convertidos como
enteros. De tal manera que, dados</p><dl compact="compact"><dd>
<pre>
CONVFMT = "%2.2f"
a = 12
b = a ""
</pre>
</dd>
</dl><p>la variable <b>b</b> contendrá el valor de tipo cadena
<b>"12"</b> y no <b>"12.00"</b>.</p><p><i>Gawk</i> realiza comparaciones tal y como sigue: Si dos
variables son numéricas, son comparadas numéricamente. Si un valor
es numérico y el otro tiene un valor de tipo cadena que es un
``cadena numérica'', entonces las comparaciones se hacen
numéricamente. En otro caso, el valor numérico es traducido a
cadena y se comparan en forma de cadena. Dos cadenas se comparan,
por supuesto, en forma de cadena. De acuerdo con el estándar <font size="-1">POSIX</font>, si dos cadenas fueran cadenas numéricas
debería realizarse una comparación numérica. De todas maneras, esto
es claramente incorrecto, y <i>gawk</i> no lo hace así.</p><p>Nótese que las constantes de tipo cadena, como <b>"57"</b>,
<i>no</i> son cadenas numéricas, sino constantes de cadena. La idea
de ``cadena numérica'' solo se aplica a los campos, entradas con
<b>getline</b> , los elementos de <b>FILENAME</b>y <b>ARGV</b> ,
elementos de <b>ENVIRON</b> y los elementos de una tabla creada
mediante <b>split()</b> que son cadenas numéricas. La idea básica
es que las <i>entradas de usuario</i>, y solo las entradas de
usuario, que parezcan numéricas, serán tratadas de esta manera.</p><p>Las variables sin inicializar tendrán el valor numérico 0 y la
cadena "" (cadena nula o vacía). <a id="lbAN"> </a></p><h2>PATRONES Y ACCIONES</h2><p>

AWK es un lenguaje orientado a la línea. Primero se indica el
patrón, y luego la acción. Las sentencias de las acciones se
engloban mediante <b>{</b> y <b>}</b>. Puede no indicarse el patrón
o la acción, pero por supuesto, no ambos. Si no se especifica el
patrón, la acción será ejecutada por cada uno de los registros
individuales de la entrada. Si no se especifica la acción es
equivalente a escribir la acción 
</p><dl compact="compact"><dd>
<p><b>{ print }</b></p>
</dd>
</dl><p>la cual imprime el registro completo.</p><p>Los comentarios comienzan con el carácter ``#'', y continúan
hasta el final de la línea. Pueden usarse líneas en blanco para
separar sentencias. Normalmente, una sentencia termina con un salto
de línea, aunque este no es el caso de las líneas que finalizan con
un ``,'', <b>{</b>, <b>?</b>, <b>:</b>, <b>&amp;&amp;</b>, o
<b>||</b>. Las líneas que terminan con <b>do</b> o <b>else</b>
también se considera que continúan en la siguiente línea. En otros
casos, una línea podrá ser continuada en la siguiente poniendo al
final un ``\'', en cuyo caso se ignorará el salto de línea.</p><p>Se pueden poner múltiples sentencias en la misma línea
separándolos mediante un ``;''. Esto se aplica tanto para las
sentencias que componen la parte de la acción de un par
patrón-acción (el caso más usual), como para las propias sentencias
patrón-acción. <a id="lbAO"> </a></p><h3>Patrones</h3><p>

Los patrones de AWK pueden ser uno de los siguientes: 
</p><dl compact="compact"><dd>
<pre>
<b>BEGIN</b>
<b>END</b>
<b>/</b><i>expresión regular</i><b>/</b>
<i>expresión relacional</i>
<i>patrón</i> <b>&amp;&amp;</b> <i>patrón</i>
<i>patrón</i> <b>||</b> <i>patrón</i>
<i>patrón</i> <b>?</b> <i>patrón</i> <b>:</b> <i>patrón</i>
<b>(</b><i>patrón</i><b>)</b>
<b>!</b> <i>patrón</i>
<i>patrón1</i><b>,</b> <i>patrón2</i>
</pre>
</dd>
</dl><p><b>BEGIN</b> y <b>END</b> son dos patrones de tipo especial que
no son utilizados para comprobarlos contra la entrada. Las acciones
de todos los patrones <b>BEGIN</b> se juntan como si todas las
sentencias hubieran sido escritas en un único bloque <b>BEGIN .</b>
Son ejecutadas antes de que se lea algo de la entrada. De forma
análoga, todos los bloques <b>END</b> se juntan, y son ejecutados
cuando se ha agotado toda la entrada (o cuando se ejecuta una
sentencia <b>exit</b> ). Los patrones <b>BEGIN</b> y <b>END</b> no
pueden ser combinados con otros patrones en expresiones de patrón.
Los patrones <b>BEGIN</b> y <b>END</b> no pueden tener vacía la
parte de la acción.</p><p>Para los patrones con <b>/</b><i>expresiones
regulares</i><b>/</b> , la sentencia asociada se ejecuta para cada
registro de entrada que concuerde con la expresión regular. Las
expresiones regulares son las mismas que las usadas en <i><a href="http://localhost/cgi-bin/man/man2html?1+egrep">egrep</a></i>(1),
y se encuentran resumidas más adelante.</p><p>Una <i>expresión relacional</i> puede usar cualquiera de los
operadores definidos en la parte de acciones de esta sección. Estas
generalmente comprueban si ciertos campos concuerdan con una cierta
expresión regular.</p><p>Los operadores <b>&amp;&amp;</b>, <b>||</b>, y <b>!</b> son
respectivamente la Y lógica, la O lógica, y la NO lógica, como en
C. Hacen evaluaciones de circuito corto, también como en C, y se
usan para combinar varias expresiones de patrón primitivas. Como en
la mayoría de los lenguajes, pueden usarse paréntesis para cambiar
el orden de la evaluación.</p><p>El operador <b>?:</b> es igual que el mismo operador en C. Si el
primer patrón es cierto el patrón usado para las comprobaciones es
el segundo, en caso contrario es el tercero. De entre el segundo y
el tercer patrón, solo es evaluado uno de ellos.</p><p>La forma <i>patrón1</i><b>,</b> <i>patrón2</i> para una
expresión recibe el nombre de <i>rango de patrones</i>. Concuerda
con todos los registros de la entrada que existan entre el registro
que concuerde con <i>patrón1</i>, y el registro que concuerde con
<i>patrón2</i>, inclusive. No combina con ningún otro tipo de
expresión de patrón. <a id="lbAP"> </a></p><h3>Expresiones Regulares</h3><p>

Las expresiones regulares corresponden con el tipo extendido usado
en <i>egrep</i>. Están compuestas por caracteres como sigue: 
</p><dl compact="compact"><dt><i>c</i></dt>

<dd>concuerda con el carácter <i>c</i>(no<i>metacarácter).</i></dd>

<dt><i>\c</i></dt>

<dd>concuerda con el carácter literal <i>c</i>.</dd>

<dt><b>.</b></dt>

<dd>concuerda con cualquier carácter <i>incluyendo</i> el salto de
línea.</dd>

<dt><b>^</b></dt>

<dd>concuerda con el principio de una cadena.</dd>

<dt><b>$</b></dt>

<dd>concuerda con el fin de una cadena.</dd>

<dt><b>[</b><i>abc...</i><b>]</b></dt>

<dd>lista de caracteres, concuerda con cualquiera de los caracteres
<i>abc...</i>.</dd>

<dt><b>[^</b><i>abc...</i><b>]</b></dt>

<dd>lista negada de caracteres, concuerda con cualquier carácter
excepto <i>abc...</i>.</dd>

<dt><i>r1</i><b>|</b><i>r2</i></dt>

<dd>alternativa: concuerda con <i>r1</i> o <i>r2</i>.</dd>

<dt><i>r1r2</i></dt>

<dd>concatenación: concuerda con <i>r1</i>, y después con
<i>r2</i>.</dd>

<dt><i>r</i><b>+</b></dt>

<dd>concuerda con una o más apariciones de <i>r</i>.</dd>

<dt><i>r</i><b>*</b></dt>

<dd>concuerda con cero o más apariciones de <i>r</i>.</dd>

<dt><i>r</i><b>?</b></dt>

<dd>concuerda con cero o una aparición de <i>r</i>.</dd>

<dt><b>(</b><i>r</i><b>)</b></dt>

<dd>agrupación: concuerda con <i>r</i>.</dd>

<dd><i>r</i><b>{</b><i>n</i><b>}</b></dd>

<dd><i>r</i><b>{</b><i>n</i><b>,}</b></dd>

<dd><i>r</i><b>{</b><i>n</i><b>,</b><i>m</i><b>}</b> Uno o dos
números entre llaves denotan una <i>expresión de intervalo</i>. Si
hay un número entre llaves, la expreg. precedente <i>r</i> se
repite <i>n</i> veces. Si hay dos números separados por una coma,
<i>r</i> se repite de <i>n</i> a <i>m</i> veces. Si hay un número
seguido de una coma, entonces <i>r</i> se repite como mínimo
<i>n</i> veces. 
<p>Las expresiones de intervalo solo están disponibles si se
especifica <b>--posix</b> o <b>--re-interval</b> en la línea de
orden.</p>
</dd>

<dt><b>\y</b></dt>

<dd>concuerda con la cadena vacía tanto en el principio como en el
final de una palabra.</dd>

<dt><b>\B</b></dt>

<dd>concuerda con la cadena vacía dentro de una palabra.</dd>

<dt><b>\&lt;</b></dt>

<dd>concuerda con la cadena vacía al principio de una palabra.</dd>

<dt><b>\&gt;</b></dt>

<dd>concuerda con la cadena vacía al final de una palabra.</dd>

<dt><b>\w</b></dt>

<dd>concuerda con cualquier carácter constitutivo de palabra
(letra, dígito, o subrayado.)</dd>

<dt><b>\W</b></dt>

<dd>concuerda con cualquier carácter que no es constitutivo de
palabra.</dd>

<dt><b>\`</b></dt>

<dd>concuerda con la cadena vacía al principio de un búfer
(cadena).</dd>

<dt><b>\'</b></dt>

<dd>concuerda con la cadena vacía al final de un búfer.</dd>
</dl><p>Las secuencias de escape que son válidas en las constantes de
cadena (vea abajo) son también legales en las expresiones
regulares.</p><p>Las <i>clases de caracteres</i> son una nueva característica
introducida en el estándar POSIX. Una clase de caracteres es una
notación especial para describir listas de caracteres que tienen un
atributo específico, pero donde los caracteres en sí mismos pueden
variar entre países diferentes y/o entre juegos de caracteres
diferentes. Por ejemplo, la noción de lo que es un carácter
alfanumérico difiere entre los EEUU y Francia.</p><p>Una clase de caracteres solo es válida en una expreg
<i>dentro</i> de las llaves de una lista de caracteres. Las clases
de caracteres consisten en <b>[:</b>, una palabra clave que denota
la clase, y <b>:]</b>. Estas son las clases de caracteres definidas
por el estándar POSIX.</p><dl compact="compact"><dt><b>[:alnum:]</b></dt>

<dd>Caracteres alfanuméricos.</dd>

<dt><b>[:alpha:]</b></dt>

<dd>Caracteres alfabéticos.</dd>

<dt><b>[:blank:]</b></dt>

<dd>Espacio en blanco o tabulador.</dd>

<dt><b>[:cntrl:]</b></dt>

<dd>Caracteres de control.</dd>

<dt><b>[:digit:]</b></dt>

<dd>Caracteres numéricos.</dd>

<dt><b>[:graph:]</b></dt>

<dd>Caracteres que son imprimibles y visibles al mismo tiempo. (Un
espacio en blanco es imprimible, pero no visible, mientras que una
<b>a</b> es las dos cosas.)</dd>

<dt><b>[:lower:]</b></dt>

<dd>Caracteres alfabéticos en minúscula.</dd>

<dt><b>[:print:]</b></dt>

<dd>Caracteres imprimibles (aquellos que no tienen caracteres de
control.)</dd>

<dt><b>[:punct:]</b></dt>

<dd>Caracteres de puntuación (aquellos que no son letras, dígitos,
caracteres de control, o caracteres de espaciado.)</dd>

<dt><b>[:space:]</b></dt>

<dd>Caracteres de espaciado (como el espacio en blanco, el
tabulador, y el salto de página, por nombrar algunos.)</dd>

<dt><b>[:upper:]</b></dt>

<dd>Caracteres alfabéticos en mayúscula.</dd>

<dt><b>[:xdigit:]</b></dt>

<dd>Caracteres que son dígitos hexadecimales.</dd>
</dl><p>Por ejemplo, antes del estándar POSIX, para concordar caracteres
alfanuméricos, tendría que haber escrito <b>/[A-Za-z0-9]/</b>. Si
su juego de caracteres contiene otros caracteres alfabéticos, esta
especificación no los hubiera recogido. Usando las clases de
caracteres de POSIX, puede escribir <b>/[[:alnum:]]/</b>, y esto
concordaría con <i>todos</i> los caracteres alfabéticos y numéricos
de su juego de caracteres.</p><p>Adicionalmente en las listas de caracteres pueden aparecer dos
secuencias especiales. Esto se aplica a los juegos de caracteres no
ASCII, los cuales pueden contener símbolos (llamados <i>elementos
equivalentes</i>) los cuales son representados por más de un
carácter, al igual que varios caracteres que son equivalentes para
propósitos de <i>comparación</i> u <i>ordenación.</i> (Por ejemplo,
en Español, una ``e'' normal y una con tilde "á" son
equivalentes.)</p><dl compact="compact"><dt>Símbolos Equivalentes</dt>

<dd>Un símbolo equivalente es un elemento formado por más de un
carácter englobado entre <b>[.</b> y <b>.]</b>. Por ejemplo, si
<b>ch</b> es un elemento equivalente, entonces <b>[[.ch.]]</b> es
una expresión regular que se ajusta con este elemento equivalente,
mientras que <b>[ch]</b> es una expresión regular que se ajusta con
una <b>c</b> o con una <b>h</b>.</dd>

<dt>Clases de Equivalencia</dt>

<dd>Una clase de quivalencia es un nombre (específico para una
localización determinada) para una lista de caracteres que son
equivalentes. El nombre se engloba entre <b>[=</b> y <b>=]</b>. Por
ejemplo, el nombre <b>e</b> puede ser utilizado para representar a
todos estos: ``e,'' ``è,'' y ``é.'' En este caso, <b>[[=e]]</b> es
una expresión regular que se ajusta con<br />
 .BR e ,<br />
 .BR è , o<br />
 .BR é .</dd>
</dl><p>Estas características son especialmente útiles para las
localizaciones de habla no inglesa. Las funciones de librería que
usa <i>gawk</i> para el ajuste de expresiones regulares solo
reconoce las clases de caracteres POSIX; no reconocen ni los
símbolos equivalentes ni las clases de equivalencia.</p><p>Los operadores <b>\y</b>, <b>\B</b>, <b>\&lt;</b>, <b>\&gt;</b>,
<b>\w</b>, <b>\W</b>, <b>\`</b>, y <b>\'</b> son específicos para
<i>gawk</i>; son extensiones basadas en las capacidades de las
librerías de expresiones regulares de GNU.</p><p>Varias opciones de la línea de ordenes controlan cómo
<i>gawk</i> interpreta los caracteres en las expresiones
regulares.</p><dl compact="compact"><dt>Sin opciones</dt>

<dd>En el caso por defecto, <i>gawk</i> provee de todas las
posibilidades de las expresiones regulares de POSIX y los
operadores de expresiones regulares de GNU descritos anteriormente.
Aun con todo, no son soportadas las expresiones de intervalo.</dd>

<dt><b>--posix</b></dt>

<dd>Solo se aceptan las expresiones regulares de POSIX, los
operadores de GNU no son considerados especiales. (Por ejemplo,
<b>\w</b> concuerda con el literal <b>w</b>). Las expresiones
regulares están permitidas.</dd>

<dt><b>--traditional</b></dt>

<dd>Se aceptan las expresiones regulares de la implementación
tradicional de <i>awk</i> de Unix. Los operadores de GNU no se
consideran especiales, no se permiten las expresiones de intervalo,
ni tampoco las clases de caracteres de POSIX (<b>[[:alnum:]]</b> y
el resto.) Los caracteres descritos mediante secuencias de escape
en octal o hexadecimal son tratados literalmente, incluso si
representan metacaracteres de expresiones regulares.</dd>

<dt><b>--re-interval</b></dt>

<dd>Permiten las expresiones de intervalo en las expresiones
regulares, aunque se haya indicado <b>--traditional</b></dd>
</dl><a id="lbAQ"> </a><h3>Acciones</h3><p>

Las sentencias de las acciones se engloban entre llaves, <b>{</b> y
<b>}</b>. Las sentencias de las acciones consisten en las
habituales sentencias de asignación, condicionales y bucles que
pueden encontrarse en la mayoría de los lenguajes. Los operadores,
sentencias de control, y sentencias de entrada/salida disponibles
son parecidas a las equivalentes de C. <a id="lbAR"> </a> 
</p><h3>Operadores</h3><p>Los operadores en AWK, en orden decreciente de precedencia,
son</p><dl compact="compact"><dt><b>(</b>...<b>)</b></dt>

<dd>Agrupación.</dd>

<dt><b>$</b></dt>

<dd>Referencia a campo.</dd>

<dt><b>++ --</b></dt>

<dd>Incremento y decremento, tanto en forma prefija como
sufija.</dd>

<dt><b>^</b></dt>

<dd>Exponenciación (también puede usarse <b>**</b> , y <b>**=</b>
para el operador de asignación.)</dd>

<dt><b>+ - !</b></dt>

<dd>Más y menos unarios, y negación lógica.</dd>

<dt><b>* / %</b></dt>

<dd>Multiplicación, división, y resto de división.</dd>

<dt><b>+ -</b></dt>

<dd>Suma y resta.</dd>

<dt><i>space</i></dt>

<dd>Concatenación de cadenas.</dd>

<dd><b>&lt; &gt;</b></dd>

<dd><b>&lt;= &gt;=</b></dd>

<dd><b>!= ==</b> Operadores de relación tradicionales.</dd>

<dt><b>~ !~</b></dt>

<dd>Cotejo de expresión regular, cotejo negado. <b>NOTA:</b> No use
una expresión regular constante (<b>/pepe/</b>) en la parte
izquierda de una <b>~</b> o una <b>!~</b>. Sólo usela en la parte
derecha. La expresión <b>/pepe/ ~</b> <i>exp</i> tiene el mismo
significado que <b>(($0 ~ /foo/) ~</b> <i>exp</i><b>)</b>. Esto
normalmente <i>no</i> es lo que se pretendía.</dd>

<dt><b>in</b></dt>

<dd>Pertenencia a una tabla.</dd>

<dt><b>&amp;&amp;</b></dt>

<dd>Y lógica.</dd>

<dt><b>||</b></dt>

<dd>O lógica.</dd>

<dt><b>?:</b></dt>

<dd>Expresión condicional de C. Tiene la forma <i>expr1</i>
<b>?</b> <i>expr2</i> <b>:</b> <i>expr3</i>. Si <i>expr1</i> es
cierta, el valor de la expresión es <i>expr2</i>, en caso contrario
es <i>expr3</i>. Solo uno de los dos ( <i>expr2</i> y <i>expr3</i>
) son evaluados.</dd>

<dd><b>= += -=</b></dd>

<dd><b>*= /= %= ^=</b> Asignación. Tanto las asignaciones absolutas
<b>(</b><i>var</i> <b>=</b> <i>valor</i><b>)</b> como las
asignaciones de operador (las otras formas) son aceptadas.</dd>
</dl><a id="lbAS"> </a><h3>Sentencias de control</h3><p>Las sentencias de control son las siguientes:</p><dl compact="compact"><dd>
<pre>
<b>if (</b><i>condición</i><b>)</b> <i>sentencia</i> [ <b>else</b> <i>sentencia</i> ]
<b>while (</b><i>condición</i><b>)</b> <i>sentencia</i> 
<b>do</b> <i>sentencia</i> <b>while (</b><i>condición</i><b>)</b>
<b>for (</b><i>expr1</i><b>;</b> <i>expr2</i><b>;</b> <i>expr3</i><b>)</b> <i>sentencia</i>
<b>for (</b><i>var</i> <b>in</b> <i>tabla</i><b>)</b> <i>sentencia</i>
<b>break</b>
<b>continue</b>
<b>delete</b> <i>tabla</i><b>[</b><i>índice</i><b>]</b>
<b>delete</b> <i>tabla</i>
<b>exit</b> [ <i>expresión</i> ]
<b>{</b> <i>sentencias</i> <b>}
</b>
</pre>
</dd>
</dl><a id="lbAT"> </a><h3>Sentencias de E/S</h3><p>Las sentencias de entrada/salida son las siguientes:</p><dl compact="compact"><dt><b>close(</b><i>fichero</i><b>)</b></dt>

<dd>Cerrar fichero (o tubería, vea más abajo.)</dd>

<dt><b>getline</b></dt>

<dd>Asignar a <b>$0</b> el siguiente registro de entrada; modifica
<b>NF</b>, <b>NR</b>, <b>FNR</b>.</dd>

<dt><b>getline &lt;</b><i>fichero</i></dt>

<dd>Asignar a <b>$0</b> el siguiente registro de <i>fichero</i>;
modifica <b>NF</b>.</dd>

<dt><b>getline</b> <i>var</i></dt>

<dd>Asignar a <i>var</i> el siguiente registro de entrada; modifica
<b>NR</b>, <b>FNR</b>.</dd>

<dt><b>getline</b> <i>var</i> <b>&lt;</b><i>fichero</i></dt>

<dd>Asignar a <i>var</i> el siguiente registro de
<i>fichero</i>.</dd>

<dt><b>next</b></dt>

<dd>Parar el procesado del registro de entrada actual. Se lee el
siguiente registro de entrada y el procesado vuelve a comenzar con
el primer patrón del programa AWK. Si se llega al final de los
datos de entrada, el/los bloque(s) <b>END</b> , si existen, son
ejecutados.</dd>

<dt><b>nextfile</b></dt>

<dd>Parar el procesado del fichero de entrada actual. La siguiente
lectura de un registro de entrada se obtiene del siguiente fichero
de entrada. Se modifican <b>FILENAME</b> y <b>ARGIND</b> ,
<b>FNR</b> se actualiza a 1, y el procesado comienza de nuevo por
el primer patrón del programa AWK. Si se llega al final de los
datos de entrada, el/los bloque(s) <b>END</b> , si existen, son
ejecutados. <b>NOTA:</b> Versiones antiguas de gawk usaban <b>next
file</b>, como dos palabras. Aunque esta forma se reconoce todavía,
genera un mensaje de alerta y será eliminado en futuras
versiones.</dd>

<dt><b>print</b></dt>

<dd>Imprime el registro actual. El registro de salida se termina
con el valor de la variable <b>ORS .</b></dd>

<dt><b>print</b> <i>lista-expr</i></dt>

<dd>Imprime expresiones. Cada expresión se separa por el valor de
la variable <b>OFS .</b> El registro de salida se termina con el
valor de la variable <b>ORS .</b></dd>

<dt><b>print</b> <i>lista-expr</i> <b>&gt;</b><i>fichero</i></dt>

<dd>Imprime expresiones en <i>fichero</i>. Cada expresión se separa
por el valor de la variable <b>OFS .</b> El registro de salida se
termina con el valor de la variable <b>ORS .</b></dd>

<dt><b>printf</b> <i>fmt, lista-expr</i></dt>

<dd>Dar formato e imprimir.</dd>

<dt><b>printf</b> <i>fmt, lista-expr</i>
<b>&gt;</b><i>fichero</i></dt>

<dd>Dar formato e imprimir en <i>fichero</i>.</dd>

<dt><b>system(</b><i>línea-de-orden</i><b>)</b></dt>

<dd>Ejecutar la orden <i>línea-de-orden</i>, y devuelve el valor de
salida. (Esto puede no estar disponible en sistemas no <font size="-1">POSIX</font> .)</dd>

<dt><b>fflush(</b>[<i>fichero</i>]<b>)</b></dt>

<dd>Descargar cualquier búfer asociado con el <i>fichero</i> o
tubería de salida abierto. Si no se especifica <i>fichero</i> ,
entonces se descarga la salida estándar. Si <i>fichero</i> es la
cadena vacía, entonces todos los búfers de los ficheros y tuberías
de salida abiertos son descargados.</dd>
</dl><p>También se permiten redirecciones de entrada/salida. Para
<b>print</b> y <b>printf</b>, <b>&gt;&gt;</b><i>fichero</i> añade
la salida a <i>fichero</i>, mientras que <b>|</b> <i>orden</i>
escribe en una tubería. De forma similar, <i>orden</i> <b>|
getline</b> escribe mediante una tubería en <b>getline</b>. La
orden <b>getline</b> retornará 0 en el final del fichero, y -1 en
caso de error. <a id="lbAU"> </a></p><h3>La sentencia <i>printf</i></h3><p>Las versiones AWK de la sentencia <b>printf</b> y de la función
<b>sprintf()</b> (véase a continuación) aceptan la siguiente
especificación para formatos de conversión:</p><dl compact="compact"><dt><b>%c</b></dt>

<dd>Un carácter <font size="-1">ASCII</font> . Si el argumento
usado para <b>%c</b> es numérico, es tratado como un carácter e
imprimido. De otro modo, el argumento se asume que es una cadena, y
solo se imprime el primer carácter de esa cadena.</dd>

<dd><b>%d</b></dd>

<dd><b>%i</b> Un número decimal (la parte entera).</dd>

<dd><b>%e</b></dd>

<dd><b>%E</b> Un número real de coma flotante de la forma
<b>[-]d.dddddde[+-]dd</b>. El formato <b>%E</b> usa <b>E</b> en vez
de <b>e</b>.</dd>

<dt><b>%f</b></dt>

<dd>Un número real de coma flotante de la forma
<b>[-]ddd.dddddd</b>.</dd>

<dd><b>%g</b></dd>

<dd><b>%G</b> Usese la conversión <b>%e</b> o <b>%f</b> , la que
sea más corta, suprimiendo los ceros no significativos. El formato
<b>%G</b> usa <b>%E</b> en vez de <b>%e</b>.</dd>

<dt><b>%o</b></dt>

<dd>Un número sin signo en octal (entero.)</dd>

<dt><b>%s</b></dt>

<dd>Una cadena de caracteres.</dd>

<dd><b>%x</b></dd>

<dd><b>%X</b> Un número sin signo en hexadecimal (entero.) El
formato <b>%X</b> usa <b>ABCDEF</b> en vez de <b>abcdef</b>.</dd>

<dt><b>%%</b></dt>

<dd>Un carácter <b>%</b> ; no se utiliza ningún argumento.</dd>
</dl><p>Estos son parámetros opcionales que pueden ponerse entre el
<b>%</b> y la letra de control:</p><dl compact="compact"><dt><b>-</b></dt>

<dd>La expresión debe ser justificada por la izquierda dentro de su
campo.</dd>

<dt><i>espacio</i></dt>

<dd>Para conversiones numéricas, pone un espacio en blanco como
prefijo en los valores positivos, y un signo negativo en los
valores negativos.</dd>

<dt><b>+</b></dt>

<dd>EL signo más, usado antes del modificador de anchura (vea más
adelante), indica que siempre debe ponerse el signo en las
conversiones numéricas, aunque el dato a dar formato sea positivo.
El <b>+</b> anula el modificador de espacio.</dd>

<dt><b>#</b></dt>

<dd>Usa una ``forma alternativa'' para ciertas letras de control.
Para <b>%o</b>, añade un cero inicial. Para <b>%x</b>, y <b>%X</b>,
añade un <b>0x</b> o <b>0X</b> inicial para resultados diferentes
de cero. Para <b>%e</b>, <b>%E</b>, y <b>%f</b>, El resultado
contendrá siempre un punto decimal. Para <b>%g</b>, y <b>%G</b>,
Los ceros al final no serán eliminados del resultado.</dd>

<dt><b>0</b></dt>

<dd>Un <b>0</b> (cero) inicial actúa como una bandera, indica que
la salida debe ser rellenada con ceros en vez de con espacios. Esto
se aplica también para los formatos de salida no numéricos. Esta
bandera solo tiene efecto cuando la anchura del campo es mayor que
el valor a imprimir.</dd>

<dt><i>anchura</i></dt>

<dd>El campo tiene que ser rellenado hasta alcanzar la anchura
indicada. El campo normalmente será rellenado con espacios. Si la
bandera <b>0</b> se está usando, será rellenado con ceros.</dd>

<dt><b>.</b><i>prec</i></dt>

<dd>Un número que especifica la precisión a usar cuando se imprima.
Para los formatos <b>%e</b>, <b>%E</b>, y <b>%f</b> , esto
especifica el número de dígitos que desea que se impriman a la
derecha del punto decimal. Para los formatos <b>%g</b>, y <b>%G</b>
, especifica el número máximo de dígitos significativos. Para los
formatos <b>%d</b>, <b>%o</b>, <b>%i</b>, <b>%u</b>, <b>%x</b>, y
<b>%X</b> , especifica el número mínimo de dígitos a imprimir. Para
una cadena, especifica el número máximo de caracteres de la cadena
que deben ser imprimidos.</dd>
</dl><p>Las características de <i>anchura</i> y <i>prec</i> dinámicas de
las rutinas <b>printf()</b> del <font size="-1">ANSI</font> C
también son soportadas. Un <b>*</b> en el lugar de las
especificaciones de <b>anchura</b> o de <b>prec</b> causará que sus
valores sean tomados a partir de la lista de argumentos de
<b>printf</b> o <b>sprintf()</b>. <a id="lbAV"> </a></p><h3>Nombres especiales de ficheros</h3><p>Cuando se realiza redirección de la E/S tanto desde <b>print</b>
como de <b>printf</b> en un fichero, o mediante <b>getline</b> a
partir de un fichero, <i>gawk</i> reconoce internamente ciertos
nombres especiales de ficheros. Estos nombres de ficheros permiten
acceder a descriptores de ficheros abiertos heredados del proceso
padre de <i>gawk</i> (normalmente el shell.) Otros nombres
especiales proveen acceso a información sobre la ejecución del
proceso <b>gawk</b> Los nombres de ficheros son:</p><dl compact="compact"><dt><b>/dev/pid</b></dt>

<dd>Leer de este fichero devuelve el ID del proceso actual, en
decimal, terminado con un salto de línea.</dd>

<dt><b>/dev/ppid</b></dt>

<dd>Leer de este fichero devuelve el ID del proceso padre del
actual proceso, en decimal, terminado con un salto de línea.</dd>

<dt><b>/dev/pgrpid</b></dt>

<dd>Leer de este fichero devuelve el ID del grupo del proceso
actual, en decimal, terminado con un salto de línea.</dd>

<dt><b>/dev/user</b></dt>

<dd>Leer de este fichero devuelve un registro terminado con un
salto de línea. Los campos se separan por espacios en blanco.
<b>$1</b> el el valor de la llamada a sistema <i><a href="http://localhost/cgi-bin/man/man2html?2+getuid">getuid</a></i>(2)
, <b>$2</b> es el valor de la llamada a sistema <i><a href="http://localhost/cgi-bin/man/man2html?2+geteuid">geteuid</a></i>(2)
, <b>$3</b> es el valor de la llamada a sistema <i><a href="http://localhost/cgi-bin/man/man2html?2+getgid">getgid</a></i>(2)
, y <b>$4</b> es el valor de la llamada a sistema <i><a href="http://localhost/cgi-bin/man/man2html?2+getegid">getegid</a></i>(2)
Si hay campos adicionales, son los IDs de grupo devueltos por <i><a href="http://localhost/cgi-bin/man/man2html?2+getgroups">getgroups</a></i>(2).
No todos los sistemas soportan múltiples grupos.</dd>

<dt><b>/dev/stdin</b></dt>

<dd>La entrada estándar.</dd>

<dt><b>/dev/stdout</b></dt>

<dd>La salida estándar.</dd>

<dt><b>/dev/stderr</b></dt>

<dd>La salida de error estándar.</dd>

<dt><b>/dev/fd/</b><i>n</i></dt>

<dd>El fichero asociado con el descriptor de fichero abierto
<i>n</i>.</dd>
</dl><p>Son particularmente útiles para los mensajes de error. Por
ejemplo:</p><dl compact="compact"><dd><b>print "¡ Error !" &gt; "/dev/stderr"</b></dd>
</dl><p>donde, de otra manera, tendría que haber usado</p><dl compact="compact"><dd><b>print "¡ Error !" | "cat 1&gt;&amp;2"</b></dd>
</dl><p>Estos nombres de fichero pueden usarse también en la línea de
orden para nombrar ficheros de datos. <a id="lbAW"> </a></p><h3>Funciones numéricas</h3><p>AWK dispone de las siguientes funciones aritméticas
predefinidas:</p><dl compact="compact"><dt><b>atan2(</b><i>y</i><b>,</b> <i>x</i><b>)</b></dt>

<dd>devuelve el arcotangente de <i>y/x</i> en radianes.</dd>

<dt><b>cos(</b><i>expr</i><b>)</b></dt>

<dd>devuelve el coseno de <i>expr</i>, la cual está en
radianes.</dd>

<dt><b>exp(</b><i>expr</i><b>)</b></dt>

<dd>la función exponencial.</dd>

<dt><b>int(</b><i>expr</i><b>)</b></dt>

<dd>truncado a entero.</dd>

<dt><b>log(</b><i>expr</i><b>)</b></dt>

<dd>logaritmo natural.</dd>

<dt><b>rand()</b></dt>

<dd>devuelve un número aleatorio entre 0 y 1.</dd>

<dt><b>sin(</b><i>expr</i><b>)</b></dt>

<dd>retorna el seno de <i>expr</i>, la cual está en radianes.</dd>

<dt><b>sqrt(</b><i>expr</i><b>)</b></dt>

<dd>raíz cuadrada.</dd>

<dt><b>srand(</b>[<i>expr</i>]<b>)</b></dt>

<dd>usa <i>expr</i> como la nueva semilla para el generador de
números aleatorios. Si no se indica <i>expr</i> , se usa la hora
del día. El valor de retorno es la anterior semilla del
generador.</dd>
</dl><a id="lbAX"> </a><h3>Funciones de cadena</h3><p><i>Gawk</i> dispone de las siguientes funciones predefinidas
para cadenas:</p><dl compact="compact"><dt><b>gensub(</b><i>r</i><b>,</b> <i>s</i><b>,</b> <i>h</i>
[<b>,</b> <i>t</i>]<b>)</b></dt>

<dd>buscar en la cadena objetivo <i>t</i> si hay ajustes de la
expresión regular <i>r</i>. Si <i>h</i> es una cadena que comienza
por <b>g</b> o <b>G</b>, entonces reemplazar todos los ajustes de
<i>r</i> por <i>s</i>. De otro modo, <i>h</i> es un número
indicando cual de los ajustes de <i>r</i> debe reemplazarse. Si no
se indica <i>t</i> , se usa <b>$0 .</b> Dentro del texto de
reemplazo <i>s</i>, puede usarse la secuencia <b>\</b><i>n</i>,
donde <i>n</i> es un dígito de 1 a 9, para indicar solo el texto
que se ha ajustado con la subexpresión con paréntesis
<i>n</i>'ésima<i>.</i> La secuencia <b>\0</b> representa el texto
ajustado completo, al igual que el carácter <b>&amp;</b>. A
diferencia de <b>sub()</b> y <b>gsub()</b>, la cadena modificada se
devuelve como resultado de la función, y la cadena objetivo
original <i>no</i> es modificada.</dd>

<dt><b>gsub(</b><i>r</i><b>,</b> <i>s</i> [<b>,</b>
<i>t</i>]<b>)</b></dt>

<dd>para cada subcadena que ajuste con la expresión regular
<i>r</i> en la cadena <i>t</i>, substituye la cadena <i>s</i>, y
devuelve el número de sustituciones. Si no se ha indicado <i>t</i>
, se usa <b>$0</b>. Un <b>&amp;</b> en el texto de reemplazo es
sustituido por el texto que ha sido ajustado en ese momento. Use
<b>\&amp;</b> para obtener un <b>&amp;</b> literal. Vea <i>AWK
Language Programming</i> para una descripción más detallada sobre
las reglas para los <b>&amp;</b> y las barras invertidas en el
texto de reemplazo de <b>sub()</b>, <b>gsub()</b>, y
<b>gensub()</b>.</dd>

<dt><b>index(</b><i>s</i><b>,</b> <i>t</i><b>)</b></dt>

<dd>devuelve el índice de la cadena <i>t</i> en la cadena <i>s</i>,
o 0 si <i>t</i> no aparece.</dd>

<dt><b>length(</b>[<i>s</i>]<b>)</b></dt>

<dd><b>devuelve la longitud de la cadena</b> <i>s</i>, o la
longitud de <b>$0</b> si no se indica <i>s .</i></dd>

<dt><b>match(</b><i>s</i><b>,</b> <i>r</i><b>)</b></dt>

<dd>devuelve la posición en <i>s</i> donde aparece la expresión
regular <i>r</i> , o 0 si <i>r</i> no aparece, y modifica los
valores de <b>RSTART</b> y <b>RLENGTH</b>.</dd>

<dt><b>split(</b><i>s</i><b>,</b> <i>a</i> [<b>,</b>
<i>r</i>]<b>)</b></dt>

<dd>divide la cadena <i>s</i> en la tabla <i>a</i> en la expresión
regular <i>r</i>, y devuelve el número de campos. Si se omite
<i>r</i> , se usa <b>FS .</b> La tabla <i>a</i> se borra al
principio. La división funciona de forma idéntica a la división de
campos, descrita anteriormente.</dd>

<dt><b>sprintf(</b><i>fmt</i><b>,</b>
<i>lista-expr</i><b>)</b></dt>

<dd>imprime <i>lista-expr</i> de acuerdo con <i>fmt</i>, y devuelve
la cadena resultante.</dd>

<dt><b>sub(</b><i>r</i><b>,</b> <i>s</i> [<b>,</b>
<i>t</i>]<b>)</b></dt>

<dd>igual que <b>gsub()</b>, pero solo se reemplaza la primera
subcadena que ajusta.</dd>

<dt><b>substr(</b><i>s</i><b>,</b> <i>i</i> [<b>,</b>
<i>n</i>]<b>)</b></dt>

<dd>retorna la subcadena de <i>s</i> que comience por <i>i</i> y
que tenga como mucho <i>n</i> caracteres. Si se omite <i>n</i> , se
usa el resto de <i>s .</i></dd>

<dt><b>tolower(</b><i>cad</i><b>)</b></dt>

<dd>devuelve una copia de la cadena <i>cad</i>, con todos los
caracteres en mayúscula de <i>cad</i> cambiados por sus
correspondientes en minúscula. Los caracteres no alfabéticos no son
modificados.</dd>

<dt><b>toupper(</b><i>cad</i><b>)</b></dt>

<dd>devuelve una copia de la cadena <i>cad</i>, con todos los
caracteres en minúscula de <i>cad</i> cambiados por sus
correspondientes en mayúscula. Los caracteres no alfabéticos no son
modificados.</dd>
</dl><a id="lbAY"> </a><h3>Funciones de tiempo</h3><p>Teniendo en cuenta que uno de los principales usos de los
programas AWK es el procesamiento de ficheros de registro (log
files) que contienen información de registro de tiempo, <i>gawk</i>
proporciona las siguientes funciones para obtener registros de
tiempo y darles formato.</p><dl compact="compact"><dt><b>systime()</b></dt>

<dd>devuelve la hora del día actual como el número de segundos
desde la Época (Medianoche UTC del 1 Enero de 1970 en sistemas
<font size="-1">POSIX</font>).</dd>

<dt><b>strftime(</b>[<i>formato</i> [<b>,</b>
<i>timestamp</i>]]<b>)</b></dt>

<dd>da formato a <i>timestamp</i> de acuerdo con la especificación
en <i>formato.</i> El <i>timestamp</i> debe tener la misma forma
que el retornado por <b>systime()</b>. Si no aparece
<i>timestamp</i> , se utiliza la hora del día actual. Si no aparece
<i>formato</i> , se utiliza un formato por defecto equivalente a la
salida de <i><a href="http://localhost/cgi-bin/man/man2html?1+date">date</a></i>(1)<i>
.</i> Vea la especificación de la función <b>strftime()</b> en
<font size="-1">ANSI</font> C para estar seguro de las conversiones
de formato que se garantiza que existen. Una versión de dominio
público de <i><a href="http://localhost/cgi-bin/man/man2html?3+strftime">strftime</a></i>(3)
y la correspondiente página de manual se distribuyen con
<i>gawk</i>; si se usó esa versión para compilar <i>gawk</i>,
entonces todas las conversiones descritas en esa página de manual
estarán disponibles para <i>gawk.</i></dd>
</dl><a id="lbAZ"> </a><h3>Constantes de cadena</h3><p>Las constantes de cadena en AWK son secuencias de caracteres
entre dobles comillas (  ). Dentro de las cadenas, se reconocen
determinadas <i>secuencias de escape</i> , como en C. Son las
siguientes:</p><dl compact="compact"><dt><b>\\</b></dt>

<dd>Una barra invertida literal.</dd>

<dt><b>\a</b></dt>

<dd>El carácter de ``alerta''; usualmente el carácter <font size="-1">ASCII</font> <font size="-1">BEL</font> .</dd>

<dt><b>\b</b></dt>

<dd>carácter de borrado.</dd>

<dt><b>\f</b></dt>

<dd>salto de página.</dd>

<dt><b>\n</b></dt>

<dd>salto de línea.</dd>

<dt><b>\r</b></dt>

<dd>retorno de carro.</dd>

<dt><b>\t</b></dt>

<dd>tabulador horizontal.</dd>

<dt><b>\v</b></dt>

<dd>tabulador vertical</dd>

<dt><b>\x</b><i>dígitos hexadecimales</i></dt>

<dd>El carácter representado por la cadena de dígitos hexadecimales
que sigue a la <b>\x</b>. Como en <font size="-1">ANSI</font> C,
todos los dígitos hexadecimales siguientes se consideran como parte
de la secuencia de escape. (Esta característica nos debería dar una
idea sobre el diseño de lenguajes del comité.) Por ejemplo,
<b>"\x1B"</b> es el carácter <font size="-1">ASCII</font> <font size="-1">ESC</font> (escape).</dd>

<dt><b>\</b><i>ddd</i></dt>

<dd>El carácter representado por la secuencia de 1, 2 o 3 dígitos
en octal. Por ejemplo . <b>"\033"</b> es el carácter <font size="-1">ASCII</font> <font size="-1">ESC</font> (escape).</dd>

<dt><b>\</b><i>c</i></dt>

<dd>El carácter <i>c</i> literal.</dd>
</dl><p>Las secuencias de escape pueden usarse también dentro de
constantes de expresiones regulares (p.ej., <b>/[ \t\f\n\r\v]/</b>
se ajusta con espacios en blanco).</p><p>En el modo de compatibilidad, los caracteres representados por
secuencias de escape en octal o hexadecimal son tratados
literalmente cuando son usados en contantes de expresiones
regulares. Así, <b>/a\52b/</b> es equivalente a <b>/a\*b/</b>. <a id="lbBA"> </a></p><h2>FUNCIONES</h2><p>

La funciones en AWK se definen de la siguiente manera: 
</p><dl compact="compact"><dd><b>function</b> <i>nombre</i><b>(</b><i>lista de
parámetros</i><b>) {</b> <i>sentencias</i> <b>}</b></dd>
</dl><p>Las funciones se ejecutan cuando son llamadas desde dentro de
las expresiones tanto desde patrones o acciones. Los parámetros
reales usados en la llamada a la función se usan para instanciar
los parámetros formales declarados en la función. Las tablas se
pasan por referencia, las otras variables se pasan por valor.</p><p>Ya que las funciones no formaban parte originalmente del
lenguaje AWK, el uso de variables locales es un tanto chapucero:
Son declaradas como parámetros extra en la lista de parámetros. Por
costumbre se separan las variables locales de los parámetros reales
por espacios en blanco adicionales en la lista de parámetros. Por
ejemplo:</p><dl compact="compact"><dd>
<pre>
function  f(p, q,     a, b)     # a &amp; b son locales 
{ 
        ..... 
} 

/abc/   { ... ; f(1, 2) ; ... } 
</pre>
</dd>
</dl><p>Es necesario que el paréntesis izquierdo en una llamada a
función siga inmediatamente al nombre de la función, sin añadir
ningún espacio en blanco. Esto es necesario para evitar
ambigüedades sintácticas con el operador de concatenación. Esta
restricción no se aplica a las funciones predefinidas listadas
anteriormente.</p><p>Las funciones pueden llamarse las unas a las otras y pueden ser
recursivas. Los parámetros usados como variables locales son
inicializados con una cadena vacía y el número cero en la
invocación de la función.</p><p>Si se indicó <b>--lint</b> , <i>gawk</i> generará mensajes de
alarma sobre llamadas a funciones no definidas en tiempo de
análisis, en vez de en tiempo de ejecución. Llamar a una función no
definida en tiempo de ejecución es un error fatal.</p><p>Puede usarse la palabra <b>func</b> en vez de <b>function</b>.
<a id="lbBB"> </a></p><h2>EJEMPLOS</h2><pre>
Imprimir y ordenar los nombres de ingreso de todos los usuarios:

 <b>       BEGIN   { FS = ":" } 
                { print $1 | "sort" } 

</b>Contar las líneas de un fichero:

 <b>               { nlines++ } 
        END     { print nlines } 

</b>Añadir el número de línea al principio de cada una en el fichero:

 <b>       { print FNR, $0 } 

</b>Concatenar y número de línea (una variación del ejercicio):

 <b>       { print NR, $0 }
</b>
</pre><a id="lbBC"> </a><h2>VÉASE TAMBIÉN</h2><i><a href="http://localhost/cgi-bin/man/man2html?1+egrep">egrep</a></i><p>(1),
<i><a href="http://localhost/cgi-bin/man/man2html?2+getpid">getpid</a></i>(2),
<i><a href="http://localhost/cgi-bin/man/man2html?2+getppid">getppid</a></i>(2),
<i><a href="http://localhost/cgi-bin/man/man2html?2+getpgrp">getpgrp</a></i>(2),
<i><a href="http://localhost/cgi-bin/man/man2html?2+getuid">getuid</a></i>(2),
<i><a href="http://localhost/cgi-bin/man/man2html?2+geteuid">geteuid</a></i>(2),
<i><a href="http://localhost/cgi-bin/man/man2html?2+getgid">getgid</a></i>(2),
<i><a href="http://localhost/cgi-bin/man/man2html?2+getegid">getegid</a></i>(2),
<i><a href="http://localhost/cgi-bin/man/man2html?2+getgroups">getgroups</a></i>(2)

</p><p><i>The AWK Programming Language</i>, Alfred V. Aho, Brian W.
Kernighan, Peter J. Weinberger, Addison-Wesley, 1988. ISBN
0-201-07981-X.</p><p><i>AWK Language Programming</i>, Edition 1.0, published by the
Free Software Foundation, 1995. <a id="lbBD"> </a></p><h2>COMPATIBILIDAD POSIX</h2><p>

Un objetivo principal de <i>gawk</i> es la compatibilidad con el
estándar <font size="-1">POSIX</font>, y a su vez la compatibilidad
con la última versión del <i>awk</i> de <font size="-1">UNIX</font>
. Hasta la fecha, <i>gawk</i> incorpora las siguientes capacidades
para el usuario que no se describen en el libro de AWK, pero que
forman parte de la versión de Bell Labs de <i>awk</i>, y se
encuentran en el estándar <font size="-1">POSIX</font> . 
</p><p>La opción <b>-v</b> para asignar variables antes de la ejecución
del programa es nueva. El libro dice que las asignaciones de
variables de la línea de órdenes ocurrirían cuando <i>awk</i>
abriera el argumento como un fichero, lo cual es antes de ejecutar
el bloque <b>BEGIN .</b> De todos modos, en implementaciones más
modernas, cuando una asignación como esta aparece antes que ningún
nombre de fichero, la asignación ocurriría <i>antes</i> de que el
bloque <b>BEGIN</b> fuera ejecutado. Las aplicaciones acostumbran a
depender de esta ``característica.'' Cuando <i>awk</i> fue
modificado para acomodarse a su documentación, se añadió esta
opción para acomodar a las aplicaciones que dependen de esta vieja
característica. (Esta característica fue aceptada tanto por los
desarrolladores de AT&amp;T como por los de GNU.)</p><p>La opción <b>-W</b> para implementación de características
específicas pertenece al estándar <font size="-1">POSIX</font>.</p><p>Durante el procesado de argumentos, <i>gawk</i> usa la opción
especial ``<b>--</b>'' para señalar el final de los argumentos. En
modo compatibilidad, las opciones no definidas darán un mensaje de
alerta, pero de todos modos son ignoradas. En operación normal,
estos argumentos son pasados al programa AWK para que sean
procesados.</p><p>El libro de AWK no define el valor de retorno de <b>srand()</b>.
El estándar <font size="-1">POSIX</font> hace que devuelva la
semilla que estaba usando, para permitir seguir la pista de las
secuencias de números aleatorios. Por este motivo, <b>srand()</b>
en <i>gawk</i> devuelve igualmente la semilla actual.</p><p>Otras características nuevas son: El uso de múltiples opciones
<b>-f</b> (a partir de MKS <i>awk</i>); la tabla <b>ENVIRON</b> ;
las secuencias de escape <b>\a</b>, y <b>\v</b> (implementadas
originalmente en <i>gawk</i> y añadidas en la versión de AT&amp;T);
las funciones predefinidas <b>tolower()</b> y <b>toupper()</b> (a
partir de AT&amp;T); y las especificaciones de conversión de <font size="-1">ANSI</font> C en <b>printf</b> (implementadas por primera
vez en la versión de AT&amp;T). <a id="lbBE"> </a></p><h2>EXTENSIONES DE GNU</h2><i>Gawk</i><p> contiene una serie de extensiones del <i>awk</i> de
<font size="-1">POSIX</font>. Se describen en esta sección. Las
extensiones que se describen aquí pueden desactivarse llamando a
<i>gawk</i> con la opción <b>--traditional .</b> 
</p><p>Las siguientes capacidades de <i>gawk</i> no están disponibles
en el <i>awk</i> de <font size="-1">POSIX</font>.</p><dl compact="compact"><dd>
<dl compact="compact"><dt>*</dt>

<dd>La secuencia de escape <b>\x .</b> (Desactivada con
<b>--posix</b>.)</dd>

<dt>*</dt>

<dd>La función <b>fflush() .</b> (Desactivada con
<b>--posix</b>.)</dd>

<dt>*</dt>

<dd>Las funciones <b>systime(),</b> <b>strftime(),</b> y
<b>gensub() .</b></dd>

<dt>*</dt>

<dd>Los nombres de fichero especiales para redirección de E/S no
son reconocidos.</dd>

<dt>*</dt>

<dd>Las variables <b>ARGIND</b>, <b>ERRNO</b>, y <b>RT</b> no son
especiales.</dd>

<dt>*</dt>

<dd>La variable <b>IGNORECASE</b> y sus efectos no están
disponibles.</dd>

<dt>*</dt>

<dd>La variable <b>FIELDWIDTHS</b> y la división de campos de ancho
fijo.</dd>

<dt>*</dt>

<dd>El uso de <b>RS</b> como una expresión regular.</dd>

<dt>*</dt>

<dd>La habilidad de dividir caracteres individuales usando la
cadena vacía como valor para <b>FS</b>, y como tercer argumento
para <b>split()</b>.</dd>

<dt>*</dt>

<dd>No se realiza búsqueda de camino para los ficheros nombrados
mediante la opción <b>-f .</b> Por ello, la variable de entorno
<b>AWKPATH</b> no es especial.</dd>

<dt>*</dt>

<dd>El uso de <b>nextfile</b> para abandonar el procesado del
fichero de entrada actual.</dd>

<dt>*</dt>

<dd>El uso de <b>delete</b> <i>tabla</i> para borrar todo el
contenido de una tabla.</dd>
</dl></dd>
</dl><p>El libro de AWK no define el valor de retorno de la función
<b>close() .</b> El <b>close()</b> de <i>gawk</i> devuelve el valor
de <i><a href="http://localhost/cgi-bin/man/man2html?3+fclose">fclose</a></i>(3),
o <i><a href="http://localhost/cgi-bin/man/man2html?3+pclose">pclose</a></i>(3),
cuando se esté cerrando un fichero o una tubería,
respectivamente.</p><p>Cuando se invoca a <i>gawk</i> con la opción
<b>--traditional</b> , si el argumento <i>fs</i> para la opción
<b>-F</b> es ``t'', entonces se asignará a <b>FS</b> el carácter
tabulador. Nótese que escribiendo <b>gawk -F\t ...</b> simplemente
se provoca que el shell lo cambie por el literal ``t'', y no pase
``\t'' a la opción <b>-F .</b> Dado que es un caso un tanto
especial y bastante desagradable, esta no es la manera por defecto
de actuar. Tampoco se actúa de esta manera si se ha especificado
<b>--posix .</b> Para tener un tabulador como separador de campo,
es mejor usar el entrecomillado: <b>gawk -F'\t' ...</b>.</p><p>Se concede permiso para copiar y distribuir versiones
modificadas de esta página de manual bajo las condiciones de la
copia literal, siendo los resultados completos del trabajo derivado
distribuidos bajo los términos de una nota de permisos idéntica a
esta.</p><p>Se concede permiso para copiar y distribuir traducciones de esta
página de manual a otros idiomas, bajo las anteriores condiciones
para versiones modificadas, exceptuando que esta nota de permisos
debe manifestarse mediante una traducción aprobada por la
Fundación.</p><p><b>Nota del traductor:</b> Dado que la traducción de esta nota
no está aprobada por la Free Software Foundation, se añade la nota
original en Inglés. <a id="lbBF"> </a></p><h2>COPYING PERMISSIONS</h2><p>

Copyright © 1996 Free Software Foundation, Inc. 
</p><p>Permission is granted to make and distribute verbatim copies of
this manual page provided the copyright notice and this permission
notice are preserved on all copies.</p><p>Permission is granted to process this file through troff and
print the results, provided the printed document carries copying
permission notice identical to this one except for the removal of
this paragraph (this paragraph not being relevant to the printed
manual page).</p><p>Permission is granted to copy and distribute modified versions
of this manual page under the conditions for verbatim copying,
provided that the entire resulting derived work is distributed
under the terms of a permission notice identical to this one.</p><p>Permission is granted to copy and distribute translations of
this manual page into another language, under the above conditions
for modified versions, except that this permission notice may be
stated in a translation approved by the Foundation.</p><hr /><a id="index"> </a><h2>Index</h2><dl><dt><a href="#lbAB">NOMBRE</a></dt>

<dt><a href="#lbAC">SINOPSIS</a></dt>

<dt><a href="#lbAD">DESCRIPCIÓN</a></dt>

<dt><a href="#lbAE">FORMATO DE LAS OPCIONES</a></dt>

<dt><a href="#lbAF">OPCIONES</a></dt>

<dt><a href="#lbAG">EJECUCIÓN DE UN PROGRAMA AWK</a></dt>

<dt><a href="#lbAH">VARIABLES, REGISTROS Y CAMPOS</a></dt>

<dd>
<dl><dt><a href="#lbAI">Registros</a></dt>

<dt><a href="#lbAJ">Campos</a></dt>

<dt><a href="#lbAK">Variables Predefinidas</a></dt>

<dt><a href="#lbAL">Tablas</a></dt>

<dt><a href="#lbAM">Tipado de Variables y Conversiones</a></dt>
</dl></dd>

<dt><a href="#lbAN">PATRONES Y ACCIONES</a></dt>

<dd>
<dl><dt><a href="#lbAO">Patrones</a></dt>

<dt><a href="#lbAP">Expresiones Regulares</a></dt>

<dt><a href="#lbAQ">Acciones</a></dt>

<dt><a href="#lbAR">Operadores</a></dt>

<dt><a href="#lbAS">Sentencias de control</a></dt>

<dt><a href="#lbAT">Sentencias de E/S</a></dt>

<dt><a href="#lbAU">La sentencia <i>printf</i></a></dt>

<dt><a href="#lbAV">Nombres especiales de ficheros</a></dt>

<dt><a href="#lbAW">Funciones numéricas</a></dt>

<dt><a href="#lbAX">Funciones de cadena</a></dt>

<dt><a href="#lbAY">Funciones de tiempo</a></dt>

<dt><a href="#lbAZ">Constantes de cadena</a></dt>
</dl></dd>

<dt><a href="#lbBA">FUNCIONES</a></dt>

<dt><a href="#lbBB">EJEMPLOS</a></dt>

<dt><a href="#lbBC">VÉASE TAMBIÉN</a></dt>

<dt><a href="#lbBD">COMPATIBILIDAD POSIX</a></dt>

<dt><a href="#lbBE">EXTENSIONES DE GNU</a></dt>

<dt><a href="#lbBF">COPYING PERMISSIONS</a></dt>
</dl><hr /><p>
This document was created by <a href="http://localhost/cgi-bin/man/man2html">man2html</a>, using
the manual pages.<br />
Time: 20:28:07 GMT, January 21, 2005
</p></body></html>
