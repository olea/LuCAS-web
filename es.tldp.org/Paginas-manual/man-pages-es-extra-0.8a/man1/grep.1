.\" -*- nroff -*-
.\" Translated into Spanish on Sat May 30 1998 by Gerardo Aburruzaga
.\" García <gerardo@cica.es>
.\"
.TH GREP 1 "10 Septiembre 1992" "Proyecto GNU"
.SH NOMBRE
grep, egrep, fgrep \- muestran líneas que concuerdan con un patrón
.SH SINOPSIS
.B grep
[-AB] núm] [-CEFGVbchiLlnqsvwxyUu] [[-e ] patrón | -f fichero]
[--extended-regexp] [--fixed-strings] [--basic-regexp]
[--regexp=PATRÓN] [--file=FICHERO] [--ignore-case] [--word-regexp]
[--line-regexp] [--line-regexp] [--no-messages] [--revert-match]
[--version] [--help] [--byte-offset] [--line-number]
[--with-filename] [--no-filename] [--quiet] [--silent]
[--files-without-match] [--files-with-matcces] [--count]
[--before-context=NUM] [--after-context=NUM] [--context]
[--binary] [--unix-byte-offsets]
.I ficheros...
.SH DESCRIPCIÓN
.PP
.B Grep
busca en la entrada, bien en la que se le especifica con nombres de
.I ficheros
o bien en la entrada estándar si no se le dan dichos nombres o si uno
de éstos consiste en
.BR \- ,
líneas que concuerden o coincidan con el
.I patrón
dado.
Si no se dice otra cosa,
.B grep
muestra las líneas que concuerden.
.PP
Hay tres grandes variantes de
.BR grep ,
controladas por las siguientes opciones:
.PD 0
.TP
.B \-G, --basic-regexp
Interpreta
.I patrón
como una expresión regular básica (vea más abajo). Éste es el
comportamiento predeterminado.
.TP
.B \-E, --extended-regexp
Interpreta
.I patrón
coma una expresión regular extendida (vea más adelante).
.TP
.B \-F, --fixed-strings
Interpreta
.I patrón
como una lista de cadenas de caracteres fijas, separadas por saltos de
línea; se busca la concordancia de una cualquiera de ellas.
.LP
Además, están disponibles dos programas que son variantes de éste:
.B egrep
y
.BR fgrep .
.B egrep
es similar (pero no idéntico) a
.BR "grep\ \-E" ,
y es compatible con el
.B egrep 
histórico de Unix.
.B fgrep
es lo mismo que
.BR "grep\ \-F" .
.PD
.LP
Todas las variantes de
.B grep
entienden las siguientes opciones:
.PD 0
.TP
.BI \-núm
Las líneas concordantes se mostrarán acompañadas de
.I núm
líneas anteriores y posteriores. Sin embargo,
.B grep
nunca mostrará cualquier línea dada más de una vez.
.TP
.B \-A " núm",  --after-context=NÚM
Muestra
.I núm
líneas de contexto después de las que concuerden con el patrón.
.TP
.B \-B " núm", --before-context=NÚM
Muestra
.I núm
líneas de contexto antes de las que concuerden con el patrón.
.TP
.B \-C, --context
Equivalente a
.BR \-2 .
.TP
.B \-V, --version
Muestra el número de versión de
.B grep
en la salida estándar de errores. Este número de versión debería
incluirse en todos los informes de fallos (vea más abajo).
.TP
.B \-b, --byte-offset
Muestra el desplazamiento en bytes desde el principio del fichero de
entrada antes de cada línea de salida.
.TP
.B \-c, --count
Suprime la salida normal; en su lugar muestra el número de líneas que
concuerdan con el patrón para cada fichero de entrada.
Con la opción
.B \-v, --revert-match
(vea más abajo), muestra el número de líneas que no concuerden.
.TP
.BI \-e " patrón", --regexp=PATRÓN
Emplea
.I patrón
como el patrón; útil para proteger patrones que comiencen con
.BR \- .
.TP
.BI \-f " fichero", --file=FICHERO
Obtiene el patrón de
.IR fichero .
.TP
.B \-h, --no-filename
Suprime la impresión de los nombres de ficheros antes de las líneas
concordantes en la salida, cuando se busca en varios ficheros.
.TP
.B \-i, --ignore-case
No hace caso de si las letras son mayúsculas o minúsculas ni en el
.I patrón
ni en los ficheros de entrada.
.TP
.B \-L, --files-without-match
Suprime la salida normal; en su lugar muestra el nombre de cada
fichero de entrada donde no se encuentre ninguna concordancia y por lo
tanto de cada fichero que no produciría ninguna salida. La búsqueda se
detendrá al llegar a la primera concordancia.
.TP
.B \-l, --files-with-matches
Suprime la salida normal; en su lugar muestra el nombre de cada
fichero de entrada que produciría alguna salida. La búsqueda se
detendrá en la primera concordancia.
.TP
.B \-n, --line-number
Prefija cada línea de salida con el número de línea de su fichero de
entrada correspondiente.
.TP
.B \-q, --quiet
Silencioso; suprime la salida normal. La búsqueda finaliza en la
primera concordancia.
.TP
.B \-s, --silent
Suprime los mensajes de error sobre ficheros que no existen o no se
pueden leer.
.TP
.B \-v, --revert-match
Invierte el sentido de la concordancia, para seleccionar las líneas
donde no las hay.
.TP
.B \-w, --word-regexp
Selecciona solamente aquellas líneas que contienen concordancias que
forman palabras completas. La comprobación consiste en que la cadena
de caracteres concordante debe estar al principio de la línea o
precedida por un carácter que no forme parte de una palabra. De forma
similar, debe estar o al final de la línea o ser seguida por un
carácter no constituyente de palabra. Los caracteres que se consideran
como parte de palabras son letras, dígitos y el subrayado.
.TP
.B \-x, --line-regexp
Selecciona solamente aquellas concordancias que constan de toda la línea.
.TP
.B \-y
Sinónimo obsoleto de
.BR \-i .
.TP
.B \-U, --binary
Trata el(los) fichero(s) como binario(s). De forma predeterminada,
bajo MS-DOS y MS-Windows, 
.BR grep
intenta adivinar el tipo del fichero mirando los contenidos de los
primeros 32 kB leídos de él. Si
.BR grep
decide que el fichero es de texto, quita los caracteres CR (retorno de
carro) de los contenidos originales del fichero (para que las
expresiones regulares con
.B ^
y
.B $
funcionen correctamente). Al especificar
.B \-U
deshabilitamos este intento de adivinación del tipo del fichero,
haciendo que todos se lean y pasen al mecanismo de concordancia tal
cuales; si el fichero lo es de texto y tiene al final de cada línea el
par de caracteres CR/LF, esto hará que algunas expresiones regulares
fallen. Esta opción sólo tiene sentido en MS-DOS y MS-Windows.
.TP
.B \-u, --unix-byte-offsets
Informa de desplazamientos de bytes al estilo de Unix. Esta opción
hace que
.B grep
muestre los desplazamientos de bytes como si el fichero fuera de texto
al estilo de Unix; o sea, sin los caracteres CR al final de cada
línea. Esto producirá resultados idénticos a ejecutar
.B grep
en un sistema Unix. Esta opción no tiene efecto a menos que se dé
también la opción 
.BR \-b ;
sólo tiene sentido en MS-DOS y MS-Windows.
.PD
.SH "EXPRESIONES REGULARES"
.PP
Una expresión regular es un patrón que describe un conjunto de cadenas
de caracteres. Las expresiones regulares se construyen de forma
análoga a las expresiones aritméticas, combinando expresiones más
pequeñas mediante ciertos operadores para formar expresiones
complejas.  
.PP
El programa
.B grep
entiende dos versiones diferentes de sintaxis para las expresiones
regulares: la ``básica'' y la ``extendida''. En la versión de
.B grep
de GNU, no hay diferencia en usar una u otra en cuanto a la
funcionalidad disponible. En otras implementaciones, las expresiones
regulares básicas son menos potentes. La siguiente descripción se
aplica a expresiones regulares extendidas; las diferencias con las
básicas se resumen a continuación.
.PP
Los bloques de construcción fundamentales son las expresiones
regulares que concuerdan con un solo carácter. La mayoría de los
caracteres, incluyendo todas las letras y dígitos, son expresiones
regulares que concuerdan consigo mismos. Cualquier meta-carácter con un
significado especial debe ser protegido precediéndolo con una barra
inclinada inversa. 
.PP
Una lista de caracteres rodeados por
.B [
y
.B ]
concuerda con cualquier carácter de esa lista; si el primer carácter
de la lista es el acento circunflejo
.B ^
entonces concuerda con cualquier carácter de
.I fuera
de la lista.
Por ejemplo, la expresión regular
.B [0123456789]
concuerda con cualquier carácter dígito. Se puede especificar un rango
de caracteres ASCII dando el primero y el último, separados por un guión.
Finalmente, están predefinidas ciertas clases de caracteres, con un
nombre para cada una. Estos nombres son auto-explicativos, y son
.BR [:alnum:] ,
.BR [:alpha:] ,
.BR [:cntrl:] ,
.BR [:digit:] ,
.BR [:graph:] ,
.BR [:lower:] ,
.BR [:print:] ,
.BR [:punct:] ,
.BR [:space:] ,
.BR [:upper:] ,
y
.BR [:xdigit:].
Por ejemplo,
.B [[:alnum:]]
significa (en inglés)
.BR [0-9A-Za-z] ,
salvo que la última forma depende de que la codificación de caracteres
siga el estándar ISO-646 o ASCII, mientras que la primera es
transportable. 
(Observe que los corchetes en estos nombres de clases son parte de los
nombres simbólicos, y deben incluirse además de los corchetes que
delimitan la lista entre corchetes.) La mayor parte de los
meta-caracteres pierden su significado especial dentro de estas
listas. Para incluir un
.B ]
literal, póngalo el primero de la lista. De forma similar, para
incluir un
.B ^
literal, póngalo en cualquier sitio menos el primero. Finalmente, para
incluir un
.B \-
literal, póngalo el último.
.PP
El punto
.B .
concuerda con cualquier carácter solo.
El símbolo
.B \ew
es un sinónimo de
.B [[:alnum:]]
y
.B \eW
lo es de
.BR [^[:alnum]] .
.PP
El acento circunflejo
.B ^
y el signo del dólar (y del escudo portugués)
.B $
son meta-caracteres que respectivamente concuerdan con la cadena vacía
al comienzo y al final de una línea.
Los símbolos
.B \e<
y
.B \e>
respectivamente concuerdan con la cadena vacía al principio y al final
de una palabra.
El símbolo
.B \eb
concuerda con la cadena vacía al borde de una palabra,
y
.B \eB
concuerda con la cadena vacía supuesto que
.I no
esté en el extremo de una palabra.
.PP
Una expresión regular que concuerde con un solo carácter puede ser
seguida por uno de estos varios operadores de repetición: 
.PD 0
.TP
.B ?
El elemento precedente es opcional y concuerda como mucho una vez.
.TP
.B *
El elemento precedente concordará cero o más veces.
.TP
.B +
El elemento precedente concordará una o más veces.
.TP
.BI { n }
El elemento precedente concuerda exactamente
.I n
veces.
.TP
.BI { n ,}
El elemento precedente concuerda
.I n
o más veces.
.TP
.BI {, m }
El elemento precedente es opcional y concuerda como mucho
.I m
veces.
.TP
.BI { n , m }
El elemento precedente concuerda como poco
.I n
veces, pero no más de
.I m
veces.
.PD
.PP
Dos expresiones regulares pueden concatenarse; la expresión regular
resultante concuerda con cualquier cadena formada mediante la
concatenación de dos subcadenas que concuerdan respectivamente con las
subexpresiones concatenadas.
.PP
Dos expresiones regulares pueden juntarse mediante el operador infijo
.BR | ;
la expresión regular resultante concuerda con cualquier cadena que
concuerde con cualquiera de las subexpresiones.
.PP
La repetición tiene precedencia sobre la concatenación, la cual a su
vez tiene precedencia sobre la alternancia. Una subexpresión entera
puede ser encerrada entre paréntesis para subvertir estas reglas de
precedencia. 
.PP
La retrorreferencia
.BI \e n\c
\&, donde
.I n
es un dígito simple, concuerda con la subcadena que previamente
concordó con la
.IR n \-sima
subexpresión entre paréntesis de la expresión regular.
.PP
En las expresiones regulares básicas, los meta-caracteres
.BR ? ,
.BR + ,
.BR { ,
.BR | ,
.BR ( ,
y
.BR )
pierden su significado especial; en su lugar emplee las versiones
protegidas mediante la barra inversa
.BR \e? ,
.BR \e+ ,
.BR \e{ ,
.BR \e| ,
.BR \e( ,
y
.BR \e) .
.PP
En
.BR egrep ,
el meta-carácter
.B {
pierde su significado especial; en su lugar emplee
.BR \e{ .
.SH DIAGNÓSTICOS
.PP
Normalmente, el status de salida es 0 si se encuentran concordancias,
y 1 si no se encuentran. (La opción
.B \-v
invierte el sentido del status de salida.)
El status de salida es 2 si había errores de sintaxis en el patrón, si
los ficheros de entrada eran inaccesibles, o en caso de otros errores
del sistema.
.SH FALLOS
.PP
Envíe informes sobre fallos por correo electrónico a la dirección
.BR bug-gnu-utils@prep.ai.mit.edu .
Asegúrese de incluir la palabra ``grep'' en algún sitio del campo
``Asunto:'' (``Subject:'').
.PP
Números de repetición grandes en la construcción
.BI { m , n }
pueden hacer que grep emplee grandes cantidades de memoria.  En
adición a esto, ciertas otras obscuras expresiones regulares requieren
tiempo y espacio exponenciales, y pueden hacer que
.B grep
se quede sin memoria.
.PP
Las retrorreferencias son muy lentas, y pueden requerir un tiempo
exponencial.