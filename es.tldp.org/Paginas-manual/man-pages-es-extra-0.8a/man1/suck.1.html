<?xml version="1.0" encoding="utf8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  ><head><meta http-equiv="Content-Type" content="text/html; charset=utf8" /><meta content="HTML Tidy for Linux/x86 (vers 1st July 2002), see www.w3.org" /><link rel="stylesheet" type="text/css" href="../../tigris.css" /><title>Manpage of SUCK</title></head><body><p>
  
</p><h1>SUCK</h1><p>

Section: User Commands (1)<br /><a href="#index">Index</a> <a href="http://localhost/cgi-bin/man/man2html">Return to Main
Contents</a>
</p><hr /><a id="lbAB"> </a><h2>NOMBRE</h2><p>

suck - Obtiene un pequeño grupo de mensajes de un servidor NNTP,
evitando los comandos NEWNEWS <a id="lbAC"> </a> 
</p><h2>SINOPSIS</h2><i>suck</i><p> [ <b>nodo</b> ] [ <b>@archivo</b> ] [ <b>-V</b> ] [
<b>-K</b> ] [ <b>-L[SL]</b> ] [ <b>-H</b> ] [ <b>-d[tmd]</b>
directorio ] [ <b>-s | -S</b> archivo ] [ <b>-e | -E</b> archivo ]
[ <b>-a</b> ] [ <b>-m</b> ] [ <b>-b[irlf]</b> archivo_batch ] [
<b>-r</b> tamaño ] [ <b>-p</b> extensión ] [ <b>-U</b> usuario ] [
<b>-P</b> clave ] [ <b>-c</b> ] [ <b>-M</b> ] [ <b>-N</b> puerto ]
[ <b>-W</b> tiempo_de_pausa núm_mensajes_pausa ] [ <b>-w</b>
tiempo_de_pausa núm_mensajes_pausa ] [ <b>-l</b> archivo_de_frases
] [ <b>-D</b> ] [ <b>-R</b> ] [ <b>-q</b> ] [ <b>-C</b> artículos ]
[ <b>-k</b> ] [ <b>-A</b> ] [ <b>-AL</b> archivo_active ] [
<b>-hl</b> localhost ] [ <b>-bp</b> ] [ <b>-T</b> tiempo_tope ] [
<b>-n</b> ] [ <b>-u</b> ] [ <b>-z</b> ] [ <b>-x</b> ] [ <b>-B</b> ]

</p><p>Opciones válidas en todos los modos</p><p>-V</p><p>Esta opción hace que suck escriba el número de versión y
finalice.</p><p>-s | -S archivo</p><p>Estas opciones enviarán todos los mensajes de estado (que
normamente van a la salida estándar) a un archivo alternativo.
Cuando la opción es la minúscula, -s, enviarán los mensajes de
estado al archivo por defecto en definido en tiempo de compilación
en suck_config.h. Por defecto se toma /dev/null, o sea: no se
escribirán mensajes de estado. La mayúscula, -S, requiere un nombre
de archivo. Todos los mensajes de estado serán enviados a este
archivo.</p><p>-e | -E archivo</p><p>Estas opciones enviarán todos los mensajes de error (normalmente
escritos en la salida de error estándar) a un archivo alternativo.
La versión en minúscula, -e enviará los mensajes de error al
archivo por defecto definido en tiempo de compilación en
suck_config.h. Por defecto se toma suck.errlog. La mayúscula, -E,
requiere un nombre de archivo. Todos los mensajes de error serán
enviados a este archivo.</p><p>-a</p><p>Esta opción obliga a suck a hacer siempre un archivo batch de
los articulos obtenidos, incluso si el proceso se aborta por alguna
razón. Sin esta opción, suck sólo crea el batch de los artículos si
finaliza correctamente o si es cancelado por una señal (véase más
adelante).</p><p>-N puerto</p><p>Esta opción hace que suck use un puerto NNRP alternativo cuando
se conecta al nodo, en lugar del puerto 119, que es el que se toma
por defecto.</p><p>@archivo</p><p>Esta opción hace que suck lea otras opciones del archivo
indicado, además de las de la línea de comando.</p><p>-dt directorio</p><p>-dm directorio</p><p>-dd directorio</p><p>Especifica la colocación de varios archivos usados por suck.</p><p>-dt directorio = directorio de los archivos temporales creados
por suck (suck.newsrc, suck.sort, suck.restart, suck.killlog,
suck.post).</p><p>-dm directorio = diretorio para guardar los artículos creados en
el modo Multiarchivo o en el modo batch. NO haga coincidir este
directorio con los usados en las opciones -dt o -d o perderá todos
sus archivos de configuración.</p><p>-dd directorio = directorio de archivos de datos usados por suck
(sucknewsrc suckkillfile suckothermsgs active-ignore)</p><p>-p extensión</p><p>Esta extensión se añade a todos los archivos, de modo que Vd.
puede tener varios nodos de toma de artículos. Por ejemplo, si Vd.
especifica -p .dummy, entonces suck busca sucknewsrc.dummy,
suckkillfile.dummy, etc, y crea sus archivos temporales con la
misma extensión. Esto le permite a Vd. mantener varios archivos
sucknewsrc, uno para cada nodo.</p><p>-K <tt>        </tt>Esta opción hace que suck que no tenga en
cuenta el(los) archivo(s)<br />
killfile (archivos de filtro).</p><p>-L <tt>        </tt>Esta opción hace que suck que NO escriba en
suck.killlog el<br />
registro de los artículos filtrados.</p><p>-LS</p><p>Esta opción hace que suck cree un registro corto de cada
artículo eliminado por el filtro. El registro corto contiene el
grupo del artículo y cual es el patrón al que se ajustaba, así como
el MsgID del artículo eliminado.</p><p>-LL</p><p>Esta opción hace que suck cree un registro largo de cada
artículo filtrado. El registro largo contiene la información del
registro corto y la cabecera del artículo filtrado.</p><p>-H <tt>        </tt>Esta opción hará que suck omita la
comprobación del<br />
historial.</p><p>-U usuario</p><p>-P clave</p><p>Estas dos opciones le permiten a Vd. especificar un usuario y
una clave si su servidor de NNTP las solicita.</p><p>-c</p><p>Si se especifica esta opción suck hará limpieza cuando finalice
su cometido. Esto incluye:</p><dl compact="compact"><dd>1. Move(r) sucknewsrc a sucknewsrc.old</dd>
</dl><dl compact="compact"><dd>2. Move(r) suck.newrc a sucknewsrc</dd>
</dl><dl compact="compact"><dd>3. Borrar (rm) suck.sorted y suckothermsgs.</dd>
</dl><p>-M</p><p>Esta opción hace que suck envíe un comando de "modo de lectura"
al servidor remoto. If Vd. obtiene un comando de mensaje inválido
inmediatamente después del anuncio de bienvenida, pruebe esta
opción.</p><p>-W tiempo_de_pausa núm_mensajes_pausa</p><p>Esta opción hace que suck haga pausas mientras recoge artículos.
Vd. puede necesitar especificar la pausa (en segundos), y cuan a
menudo parar (cada X artículos). Ej.: -W 10 100 hará que suck pare
durante 10 segundos cada 100 artículos. ¿ Por qué querría hacer
esto ? Suck puede causar altas cargas en el servidor remoto y esta
pausa permite al servidor "tomar aliento".</p><p>-w tiempo_de_pausa núm_mensajes_pausa</p><p>Esta opción le permite a Vd. decelerar a suck mientras obtiene
artículos. Si Vd. envía a suck una señal predefinida (por defecto
SIGUSR1, véase suck_config.h) suck pasará de las opciones de pausa
por defecto (definidas mediante la opción -W) a los valores de esta
opción. Por ejemplo, Vd. ejecuta suck con -w 2 2 y Vd. envía a suck
una señal SIGUSR1 (usando kill). Suck parará dos segundos entre un
mensaje y otro, permitiendo "recuperar aliento" al servidor. Si Vd
envía otra señal SIGUSR1 a suck, entonces suck volverá a las
opciones de pausa por defecto. Si no se especificaron opciones de
pausa en la línea de comando (Vd. omitió -W), entonces suck volverá
a su velocidad máxima de recogida.</p><p>-l archivo_de_frases</p><p>Esta opción hace que suck cargue un archivo de frases
alternativas, en vez de usar los mensajes imbuidos. Esto le permite
a Vd. hacer que suck imprima sus mensajes en otro idioma o permite
personalizar los mensajes sin tener que recompilar suck. Véase más
abajo.</p><p>-D</p><p>Esta opción hace que suck envíe varios mensajes de debug a
"debug.suck", usado básicamente por mantenedor.</p><p>-R</p><p>Esta opción hace que suck no revise el servidor de news cuando
recomience. El comportamiento por defecto es volver a revisar el
servidor de news en busca de artículos nuevos, inclusive en los
recomienzos.</p><p>-q</p><p>Esta opción hace que suck no escriba la cuenta de artículos y
BPS mientras dura la obtención de mensajes. Conveniente cuando se
está ejecutando suck en modo desatendido, por ejemplo mediante
crontab.</p><p>-C artículos</p><p>Esta opción hace que suck rompa la conexión y la reabra cada
cierto número de artículos. Esto está diseñado para luchar contra
la opción LIKE_PULLERS=DONT de INN, con la que hay quien compila.
Con LIKE_PULLERS=DONT, después de 100 mensajes, INN para cada
mensaje, bajando drásticamente la velocidad de recogida. Yo no
recomiendo el uso de esto, pero Vd. no tiene elección...</p><p>-k</p><p>Esta opción hace que suck NO añada el sufijo de la opción -p a
los archivos de filtro (killfiles), ni al maestro ni al de grupos.
Esto le permite a VD. mantener un mismo conjunto de archivos de
filtro para varios servidores.</p><p>-A</p><p>Esta opción hace que suck examine el nodo local (localhost,
especificado en la opción -hl ) y use su archivo active para
confeccionar y actualizar el sucknewsrc. Si Vd. añade un grupo a su
nodo local, suck lo añadirá a sucknewsrc y recogerá los artículos.
O, si Vd. borra un grupo de su nodo local, éste será borrado de
sucknewsrc. Si no está permitido enviar artículos a un grupo
particular, entonces la línea de sucknewsrc estará comentada. Con
esta opción Vd. nunca tiene que editar sucknewsrc. En caso de que
Vd. tenga grupos de news (como local y junk) de los que no quiere
recoger mensajes, puede poner esos grupos en el archivo
"active-ignore", uno por cada línea, y suck ignorará esos grupos
cuando revise el nodo local (localhost). Si Vd. usa la opción -p de
sufijo, suck buscará la existencia de un archivo "active-ignore"
con ese sufijo. Si no existe, entonces buscará la existencia de un
archivo sin el sufijo.</p><p>-AL archivo_active</p><p>Esta opción es similar a la opción -A, excepto que lee la lista
del archivo active en lugar de conectarse al servidor de NNTP.
Todas las características de la opción -A son aplicables aquí
también. Si se usan las dos en la línea de comando, suck intentará
primero usar la opción -A; si ésa falla, usará esta opción.</p><p>-hl localhost</p><p>Esta opción especifica el nodo local. Se requiere para las
opciones -A y -bp.</p><p>-T tiempo_tope</p><p>Esta opción reemplaza el valor precompilado de TIMEOUT, tiempo
tope de conexión. Es el tiempo que suck está esperando datos del
host remoto antes de sobrepasar el tope y abortarse.</p><p>-n</p><p>Esta opción hace que suck use el número de artículo en lugar del
MsgId cuando se reciben mensajes. Esta opción es supuestamente
menos dificultosa para el servidor remoto. También puede eliminar
problemas si su ISP (proveedor de acceso a internet) caduca los
artículos rápidamente y Vd. recibe errores de "article not found"
con frecuencia.</p><p>-u</p><p>Esta opción hace que suck envíe al servidor remoto un comando
AUTHINFO USER nada más conectarse, en lugar de esperar la petición
de autorización. Deberá además usar las opciones -U y -P cuando use
ésta.</p><p>-z</p><p>Esta opción hace que suck omita el proceso normal de eliminación
de duplicaciones. Básicamente es para máquinas lentas donde la
eliminación de mensajes duplicados puede llevar más tiempo del que
se emplearía en la descarga de éstos. No se recomienda.</p><p>-x</p><p>Esta opción hace que suck no compruebe la existencia del
caracter &gt; al final de los Messagge-ID's. Esta opción es para
los servidores NNTP desneuronados que truncan la información del
XHDR a 72 caracteres.</p><p>-B</p><p>Esta opción hace que suck intente almacenar artículos en su
directorio ANTES de empezar a recoger mensajes. Esto puede ser útil
si Vd. tuvo problemas en una recogida previa. Esta opción sólo
funciona si Vd. especifica una opción de almacenamiento (ver más
adelante). Si no hay mensajes para almacenar alguna de las de las
opciones de almancenamiento pueden producir mensajes de
advertencia. Pueden ser ignorados con toda confianza. Si existen
archivos de almacenamiento al final de la ejecución de suck en el
modo inn-batch, estos serán sobre-escritos ya que el nuevo archivo
de almacenamiento contendrá todos los mensajes. En el modo rnews,
si el archivo existe, se abortará y no almacenará ningún
mensaje.</p><p><a id="lbAD"> </a></p><h2>OPCIONES LARGAS EQUIVALENTES</h2><dl compact="compact"><dd>-a --always_batch</dd>
</dl><dl compact="compact"><dd>-bi --batch-inn</dd>
</dl><dl compact="compact"><dd>-br --batch_rnews</dd>
</dl><dl compact="compact"><dd>-bl --batch_lmove</dd>
</dl><dl compact="compact"><dd>-bf --batch_innfeed</dd>
</dl><dl compact="compact"><dd>-bp --batch_post</dd>
</dl><dl compact="compact"><dd>-c --cleanup</dd>
</dl><dl compact="compact"><dd>-dt --dir_temp</dd>
</dl><dl compact="compact"><dd>-dd --dir_data</dd>
</dl><dl compact="compact"><dd>-dm --dir_msgs</dd>
</dl><dl compact="compact"><dd>-e --def_error_log</dd>
</dl><dl compact="compact"><dd>-h --host</dd>
</dl><dl compact="compact"><dd>-hl --localhost</dd>
</dl><dl compact="compact"><dd>-k --kill_no_postfix</dd>
</dl><dl compact="compact"><dd>-l --language_file</dd>
</dl><dl compact="compact"><dd>-m --multifile</dd>
</dl><dl compact="compact"><dd>-n --number_mode</dd>
</dl><dl compact="compact"><dd>-p --postfix</dd>
</dl><dl compact="compact"><dd>-q --quiet</dd>
</dl><dl compact="compact"><dd>-r --rnews_size</dd>
</dl><dl compact="compact"><dd>-s --def_status_log</dd>
</dl><dl compact="compact"><dd>-w --wait_signal</dd>
</dl><dl compact="compact"><dd>-x --no_chk_msgid</dd>
</dl><dl compact="compact"><dd>-z --no_dedupe</dd>
</dl><dl compact="compact"><dd>-A --active</dd>
</dl><dl compact="compact"><dd>-AL --read_active -B --pre-batch</dd>
</dl><dl compact="compact"><dd>-C --reconnect</dd>
</dl><dl compact="compact"><dd>-D --debug</dd>
</dl><dl compact="compact"><dd>-E --error_log</dd>
</dl><dl compact="compact"><dd>-H --no_history</dd>
</dl><dl compact="compact"><dd>-K --killfile</dd>
</dl><dl compact="compact"><dd>-L --kill_log_none</dd>
</dl><dl compact="compact"><dd>-LS --kill_log_short</dd>
</dl><dl compact="compact"><dd>-LL --kill_log_long</dd>
</dl><dl compact="compact"><dd>-M --mode_reader</dd>
</dl><dl compact="compact"><dd>-N --portnr</dd>
</dl><dl compact="compact"><dd>-P --password</dd>
</dl><dl compact="compact"><dd>-R --no_rescan</dd>
</dl><dl compact="compact"><dd>-S --status_log</dd>
</dl><dl compact="compact"><dd>-T --timeout</dd>
</dl><dl compact="compact"><dd>-U --userid</dd>
</dl><dl compact="compact"><dd>-V --version</dd>
</dl><dl compact="compact"><dd>-W --wait</dd>
</dl><p><a id="lbAE"> </a></p><h2>DESCRIPCIÓN</h2><p><a id="lbAF"> </a></p><h2>MODO 1 - modo stdout o de salida estándar</h2><dl compact="compact"><dd>%suck</dd>
</dl><dl compact="compact"><dd>%suck minodo.com</dd>
</dl><p>Suck obtiene mensajes de un servidor NNTP y envía los artículos
a la salida estándar. Suck acepta como argumento el nombre del
servidor NNTP o, si Vd. no da un argumento, tomará la variable de
entorno NNTPSERVER. Vd. puede redireccionar los artículos o
comprimirlos directamente con algo como "suck server.domain | gzip
-9 &gt; output.gz". Ahora es asunto suyo que hacer son ellos. Puede
Vd. tenerlos ya en su máquina local porque usó una línea slip o
puede tener que enviarlos a su máquina local.</p><p><a id="lbAG"> </a></p><h2>MODO 2 - Modo multiarchivo</h2><dl compact="compact"><dd>%suck -m</dd>
</dl><dl compact="compact"><dd>%suck minodo.com -m</dd>
</dl><p>Suck obtiene mensajes de un servidor NNTP y guarda cada artículo
en un archivo separado. Se guardan en el directorio especificado en
suck_config.h o en la opción -dm de la línea de comando. <a id="lbAH"> </a></p><h2>MODO 3 - Modo batch (en lote)</h2><dl compact="compact"><dd>%suck -b[irlf] archivo_batch</dd>
</dl><dl compact="compact"><dd>o %suck -bp -hl localhost</dd>
</dl><dl compact="compact"><dd>%suck minodo.com -b[irlf] archivo_batch</dd>
</dl><p>Suck obtiene los archivos de un servidor NNTP y los guarda en
archivos, uno por cada artículo (modo multiarchivo). La colocación
de los archivos está basada en las definiciones en suck_config.h y
la -dm de la línea de comando. Una vez que suck ha recogido todos
los artículos, construirá un archivo batch que puede ser procesado
por innxmit o rnews, o podrá llamar a lmove para poner los archivos
directamente en el formato /news/grupo/numero.</p><p>-bi - construye el archivo batch para innxmit. Los archivos se
dejan intactos y el archivo batch se construye conteniendo una
lista con el path completo de cada artículo. Entonces innxmit puede
ser ejecutado mediante:</p><dl compact="compact"><dd>%innxmit localhost archivo_batch</dd>
</dl><p>-bl - suck podrá lmove(r) para dejar los artículos con el
formato /news/grupo/numero. Vd. debe especificar el nombre del
archivo de configuración. Se pasan de suck a lmove los siguienetes
argumentos:</p><dl compact="compact"><dd>El nombre del archivo de configuración (el archivo_batch de
esta opción)</dd>
</dl><dl compact="compact"><dd>Directorio especificado para los artículos (-dm o el valor
precompilado por defecto).</dd>
</dl><dl compact="compact"><dd>El archivo de registro de errores (-e o -E), si se especifico
en la línea de comando.</dd>
</dl><dl compact="compact"><dd>El archivo de frases (-l), si se especificó en la línea de
comando.</dd>
</dl><dl compact="compact"><dd>La opción de depuración de errores, si se especificó en la
línea de comando.</dd>
</dl><p>-br - construye un archivo para rnews. Los artículos son
concatenados consecutivamente, con el separador #!rnews tamaño.
Esto puede ser usado como entrada para rnews:</p><dl compact="compact"><dd>%rnews -S localhost archivo_batch</dd>
</dl><p>-r tamaño especifica el tamaño máximo del archivo para rnews.
Esta opción le permite a Vd. especificar el tamaño máximo del
archivo para rnews. Cuando se alcanza este límite, se crea un nuevo
archivo DESPUÉS de escribir el artículo en curso en el archivo
batch antiguo. El archivo batch segundo y los sucesivos tienen una
secuencia que comienza por 1 añadida al nombre de archivo
especificado con -br. Nótese que como se debe acabar de escribir el
artículo en curso después de alcanzar el límite, el tamaño máximo
de archivo es solamente aproximado.</p><p>-bf - construye un archivo de batch para infeed. Este archivo
contiene el MsgID y el camino completo para cada artículo. La
principal diferencia entre la opción de innxmit y ésta es que el
archivo de infeed se contruye según los artículos están siendo
descargados, con lo que se le pueden pasar los artículos a infeed
incluso aunque todavía haya más artículos descargándose.</p><p>-bp - Esta opción hace que suck construya un archivo batch y
envíe los artículos de ese archivo al nodo local (especificado como
localhost en la opción -hl). Esta opción usa el comando IHAVE para
enviar todos los artículos descargados al nodo local. El archivo
batch se llama suck.post y se sitúa en el directorio temporal
(-dt). Se borra cuando concluye el envío de todos los artículos de
una forma satisfactoria. Los artículos se borran incluso si no son
aceptados por el servidor (generalemente si ya está en el servidor
o el artículo es demasiado antiguo). Si ocurre otro error el
artículo NO es borrado. Vd. puede descargar y enviar artículos a su
servidor local con el siguiente comando, sin preocuparse por estar
usando INND o CNEWS.</p><dl compact="compact"><dd>%suck news.servidor.com -bp -hl localhost -A -c</dd>
</dl><p><a id="lbAI"> </a></p><h2>ARCHIVO DE PARÁMETROS DE SUCK</h2><p>Si Vd. especifica @archivo en la línea de comando, suck lo leerá
y buscará en él cualquier parámetro que Vd. quiera pasarle. Puede
especificar en este archivo los mismos argumentos que en la línea
de comando. También puede incluir comentarios. Los comentarios
comienzan con '#' y siguen hasta el final de la línea. Los
argumentos de la línea de comando prevalecen sobre los del
archivo.</p><dl compact="compact"><dd># Ejemplo de archivo de parámetros</dd>
</dl><dl compact="compact"><dd>-bi batch # opción de archivo de almacenamiento</dd>
</dl><dl compact="compact"><dd>-M<tt>     </tt># usar el modo de lectura<br /></dd>
</dl><p><a id="lbAJ"> </a></p><h2>SUCKNEWSRC</h2><p>Suck busca un archivo <i>sucknewsrc</i> para ver que artículos
desea Vd. y cuales ya han sido recibidos. El formato de sucknewsrc
es muy simple. Consiste en dos o tres campos. el primero es el
nombre del grupo. El siguiente es el número del mayor artículo del
grupo descargado en la anterior conexión. El tercer campo,
opcional, limita el número de artículos que son descargados cada
vez. Si hay más artículos que ese número, sólo se descargan los más
recientes. Si el tercer campo es 0 no se descargan mensajes. Los
campos están separados por un espacio.</p><dl compact="compact"><dd>comp.os.linux.announce 1 [ 100 ]</dd>
</dl><p>Cuando suck acaba, crea el archivo suck.newsrc que contiene el
nuevo sucknewsrc con los números de artículo actualizados.</p><p>Para añadir un nuevo grupo de news, simplemente añádalo a
sucknewsrc con número de artículo -1 (o cualquier número menor que
0). Suck tomará los X mensajes más nuevos de ese grupo. Por
ejemplo, un -100 hará que suck descargue los 100 artículos más
recientes para ese grupo de news.</p><p>Para hacer que suck no tenga en cuenta un grupo de news ponga un
# como primer caracter de la línea.</p><p><a id="lbAK"> </a></p><h2>SUCKKILLFILE y KEEP/KILLFILES DE GRUPO</h2><p>

Para usar las rutinas de mantener y filtar archivos, quítese de
comentario a la línea <i>#define KILLFILE</i> en el archivo
<i>suck_config.h.</i> Entonces, si existe el archivo
<i>suckkillfile</i> las cabeceras de todos los artículos serán
revisadas y los artículos descargados o no según los parámetros en
los archivos. Si no se especifica opción de longitud de registro
(véanse las opciones -L anteriores), entonces se utilizará la
opción de registro larga. 
</p><p>Se permiten comentarios en las líneas de los archivos de filtro.
Las líneas de comentario tienen un # en su primera posición. Todo
el contenido de la línea de comentario será ignorado.</p><p>El sistema de borrado y aceptación funciona así: Todos los
artículos son comprobados usando el archivo de filtro maestro
(killfile). Si un artículo no es eliminado por el filtro maestro,
entonces se estudia su línea de grupo (group). Si existe un archivo
de grupo para alguno de los grupos en el artículo, se comprueba ese
archivo de grupo. Si se ajusta al contenido de un archivo de
aceptación (keepfile) entonces se acepta y en otro caso se marca
para ser borrado. Si se ajusta al contenido de un archivo de filtro
(killfile) entonces se marca para ser borrado, en otro caso se
mantiene entre los aceptados. Todo esto se hace con cada uno de los
grupos de la línea group. <a id="lbAL"> </a></p><h2>PARÁMETROS</h2><dl compact="compact"><dd>LOWLINES=#######</dd>
</dl><dl compact="compact"><dd>HILINES=#######</dd>
</dl><dl compact="compact"><dd>NRGRPS=####</dd>
</dl><dl compact="compact"><dd>QUOTE=c</dd>
</dl><dl compact="compact"><dd>GROUP=keep grupo archivo O BIEN GROUP=delete grupo archivo</dd>
</dl><dl compact="compact"><dd>PROGRAM=camino_y_nombre</dd>
</dl><dl compact="compact"><dd>TIEBREAKER_DELETE</dd>
</dl><dl compact="compact"><dd>GROUP_OVERRIDE_MASTER</dd>
</dl><dl compact="compact"><dd>USE_EXTENDED_REGEX</dd>
</dl><dl compact="compact"><dd>HEADER:</dd>
</dl><dl compact="compact"><dd>Cualquier línea de cabecera válida:</dd>
</dl><dl compact="compact"><dd>BODY:</dd>
</dl><dl compact="compact"><dd>BODYSIZE&gt;</dd>
</dl><dl compact="compact"><dd>BODYSIZE&lt;</dd>
</dl><a id="lbAM"> </a><h2>Parámetros de los archivos KILL/KEEP</h2><p><i>HILINES=</i> Selecciona cualquier artículo de más líneas que
el especificado.</p><p><i>LOWLINES=</i> Selecciona cualquier artículo de menos líneas
que el especificado.</p><p><i>NRGRPS=</i> Esta línea seleccionará cualquier artículo que
tenga más grupos que el número especificado. Típicamente se usa en
el killfile para evitar spam. ( Un artículo spam es el que se envía
a demasiados grupos, como esos que siguen el esquema de "hágase
rico", etc.)</p><p><i>CABECERA:</i> <i>Cualquier línea de cabecera válida:</i> Suck
le permite comprobar la existencia de un patrón o cadena en una
línea de cabecera simple o bien en toda la cabecera del artículo.
Para comprobar una línea individual basta especificarla. Por
ejemplo, para comprobar si <a href="mailto:boby@pixi.com">boby@pixi.com</a> está en la línea del
From hay que poner</p><dl compact="compact"><dd>From:<a href="mailto:boby@pixi.com">boby@pixi.com</a></dd>
</dl><p>Nótese que la línea de cabecera se debe ajustar EXACTAMENTE con
el contenido del artículo. Para comprobar existencia de una línea
de Follow-To: basta poner "Follow-To:" como parámetro. Cada item de
búsqueda debe ir en una línea separada, eg:</p><dl compact="compact"><dd>From:boby@xxx</dd>
</dl><dl compact="compact"><dd>From:nerd@yyy</dd>
</dl><dl compact="compact"><dd>Subject:suck</dd>
</dl><p>El parámetro HEADER: es un caso especial de los citados. Si Vd.
usa HEADER:, se buscará el item en toda la cabecera. Se permiten
varias líneas HEADER: en cada archivo de filtro (killfile).</p><p>Si en su sistema están las rutinas regex(), entonces se busca
que case con las expresiones regulares en vez de meras cadenas.
Observe que la opción QUOTE= se aplica incluso en las expresiones
regulares.</p><p><i>BODY:</i> Esta parámetro le permite analizar el cuerpo de un
artículo en busca de texto. De nuevo, si su sistema tiene regex(),
Vd. puede usar expresiones regulares y también se aplica la opción
QUOTE=. Se permiten varias líneas BODY: en cada archivo de filtro.
ADVERTENCIA: con ciertas combinaciones de regex, especialemnte con
.* al principio (ej BODY:.*jpg) y con grandes artículos puede
ocurrir que las rutinas regex consuman mucho tiempo de UCP y
parezca que suck no está haciendo nada.</p><p><i>BODYSIZE&gt;</i> Este parámetro selecciona cualquier artículo
cuyo tamaño de cuerpo (sin incluir las cabeceras) sea mayor que ese
parámetro.</p><p><i>BODYSIZE&lt;</i> Este parámetro selecciona los artículos cuyo
tamaño de cuerpo sea menor que dicho parámetro.</p><p><i>QUOTE=</i> Este item define el caracter usado para la cita
literal de cadenas. El valor por defecto es ". Si un item comienza
por el caracter QUOTE, entonces es comprobado tal y como aparece
(diferenciando las mayúsculas y las minúsculas). Si un item no
comienza con el caracter de QUOTE, entonces las comprobaciones se
hacen sin importar si se trata de mayúsculas o minúsculas.</p><p><i>GROUP=</i> Esta línea permite especificar parámetros para
aceptar o borrar artículos grupo por grupo. Hay tres partes en esta
línea. Las partes se deben separar por un espacio exactamente. La
primera parte es o "keep" o "delete". Si es keep, entonces se
recogen los artículos de ese grupo que se ajustan los parámetros
del archivo de grupo. Si es delete, entonces no se recogen los
artículos de ese grupo que se ajustan a los parámetros. La segunda
parte, el nombre de grupo, es el nombre completo del grupo que se
se comprobará usando el archivo de grupo. El nombre de grupo puede
contener un * como último caracter para ajustarse a varios grupos,
ej: "esp.comp.so.linux.*" puede ajustarse a
esp.comp.so.linux.anuncios, esp.comp.so.linux.redes, etc. La
tercera parte indica el archivo de grupo que contiene los
parámetros sobre los que se comprobará. Observe que si Vd.
especifica un sufijo con la opción -p, ese sufijo se añade al
nombre del archivo que busca suck, SALVO que use la opción -k
anterior.</p><p><i>GROUP_OVERRIDE_MASTER</i> Esto le permite a Vd. suprimir el
comportamiento por defecto del archivo de filtro. Si aparece esta
opción en el archivo de filtro maestro se comprobará el archivo de
grupo incluso aunque el artículo en cuestión sea marcado para
eliminar por el filtro maestro. Si el archivo de grupo decide no
eliminarlo, entonces será aceptado.</p><p><i>TIEBREAKER_DELETE</i></p><p>Esta opción le permite a Vd. suprimir el comportamiento de
desligadura que incluido por defecto. Se da cuando un mensaje es
marcado para aceptarse en un grupo y para ser eliminado en otro. El
comportamiento por defecto es aceptar el mensaje. La opción
TIEBREAKER_DELETE evitará esto y hará que el artículo sea
eliminado.</p><p><i>USE_EXTENDED_REGEX</i> Esta opción hace que suck use
expresiones regulares extendidas en vez de expresiones regulares
estándar. Puede ser usado en el archivo de filtro maestro, en cuyo
caso se aplica a todos los archivos de filtro o en un archivo de
filtro individual, en cuyo caso se aplica a los parámetros que le
siguen en el archivo de filtro.</p><p><i>PROGRAM=</i> Esta opción permite a suck llamar a un programa
externo para comprobar cada artículo. En esta línea Vd. puede
especificar argumentos además del nombre del archivo. Si la línea
está en su suckkillfile, todas las demás lineas se ignorarán. En
vez de eso, la cabecera del artículo se enviará al programa externo
y éste determinará si recogerlo o no. Funciona así: mediante un
fork, suck ejecutará su programa con la entrada y la salida
redireccionadas. Suck pasará las cabeceras a su programa a través
de la entrada estandar, stdin, y esperará una respuesta a través de
la salida estándar, stdout. El flujo de datos para cada artículo es
el siguiente:</p><dl compact="compact"><dd>
<p>1. suck escribirá en la entrada estándar del programa externo
una cadena de 8 octetos, que representa la longitud de la cabecera.
La longitud está en ascii, alineada a la izquierda y terminada por
un caracter de cambio de línea (ejemplo: "1234\n").</p>
</dd>
</dl><dl compact="compact"><dd>2. acto seguido suck escribirá la cabecera en la entrada
estándar del programa externo.</dd>
</dl><dl compact="compact"><dd>3. suck esperará una respuesta de dos caracteres en la salida
estándar. Este código de respuesta puede ser "0\n" o "1\n" (NO CERO
O UNO EN BINARIO, CERO O UNO EN ASCII). Si el código de retorno es
cero, entonces suck recogerá el artículo. Si es uno, no.</dd>
</dl><dl compact="compact"><dd>4. Cuando no haya más artículos, la longitud escrita (para el
paso 1) será de cero (nuevamente en ascii: "0\n"). Suck esperará a
la finalización del programa externo antes de continuar. El
programa externo puede hacer cualquier tarea de limpieza necesaria
y después finalizar. Nota: suck no seguirá procesando nada mientras
el programa no finalice.</dd>
</dl><tt>       </tt><br /><p>Todos los parámetros son válidos tanto en el archivo de filtro
maestro como en el archivo de filtro de grupo, con la excepción de
GROUP, PROGRAM, TIEBREAKER_DELETE y GROUP_OVERRIDE_MASTER. Éstos
sólo son válidos en el archivo de filtro maestro.</p><p><a id="lbAN"> </a></p><h2>SUCKOTHERMSGS</h2><p>

Si existe <i>suckothermsgs</i> , debe contener un listado de
Message-ID's, uno en cada línea, incluyendo los &lt;&gt;. Estos
artículos serán recogidos, a la vez que los artículos resultantes
del proceso del archivo <i>sucknewsrc.</i> Esto puede ser usado
para recoger artículos de otros grupos o que no han sido recogidos
por haber sido excluidos por el filtro. Estos artículos <b>NO
SON</b> procesados por las rutinas de filtro de artículos. <a id="lbAO"> </a> 
</p><h2>FRASES DE DIVERSOS LENGUAJES</h2><p>

Si se especifica la opción <b>-l archivo_de_frases</b> o existe el
archivo /usr/local/lib/suck.phrases (definido en suck_config.h),
entonces suck leerá este archivo de frases alternativas y las usará
para todos los mensajes de estado y de error en lugar de los
mensajes compilados por defecto. La línea de comando prevalece
sobre el archivo, si aparecen ambos. El archivo de frases contiene
todos los mensajes usados por suck, rpost, testhost y lmove, cada
uno en una línea separada y entre comillas. Para crear un archivo
de frases, ejecute en la línea de comando la instrucción: <b>make
phrases</b> Esto creará el archivo "phrases.engl", que es una lista
de las frases por defecto. Basta editar este archivo, cambiando las
frases en inglés por las del lenguaje que elija, asegurándose de
mantener las frases entre comillas. Esas frases pueden incluir
variables usadas para escribir datos provenientes del programa,
como por ejemplo el nombre del nodo. Las variables se denotan por
%vN%, donde N es un número. Estas variables pueden aparecer en
cualquier orden en la frase, por ejemplo, son frases válidas: 
</p><dl compact="compact"><dd>"Hola, %v1%, bienvenido a %v2%" <tt>       </tt>o<br /></dd>
</dl><dl compact="compact"><dd>"Bienvenido a %v2%, %v1%"<tt>      </tt><br /></dd>
</dl><p>

siguiente línea, de retorno de carro o un tabulador
respectivamente. Observe que la primera línea del archivo de frases
es el número de versión actual. Se compara con el número de versión
del suck que se está ejecutando para tener por seguro de que se
trata del archivo de frases de la versión correcta. 
</p><p>Si Vd. madifica el código fuente y añade frases nuevas, debe
regenerar phrases.h para que todo funcione correctamente. Para
crearlo basta ejecutar <b>make phrases.h</b> en la línea de
comando. <a id="lbAP"> </a></p><h2>TRATAMIENTO DE SEÑALES</h2><p>

Suck acepta dos señales definidas en <i>suck_config.h.</i> La
primera señal (por defecto es SIGTERM) hará que suck acabe de
recoger el artículo en curso, almacene en el batch los artículos
recogidos y acabe sin error. 
</p><p>La segunda señal (por defecto SIGUSR1) hará que suck use los
valores de pausa definidos con la opción -w (ver los párrafos
anteriores).</p><p><a id="lbAQ"> </a></p><h2>VALOR DEVUELTO</h2><p>

Suck acabará con los siguientes códigos de retorno: 
</p><dl compact="compact"><dd>0 = correcto, sin errores</dd>
</dl><dl compact="compact"><dd>1 = no hay artículos disponibles para ser recogidos.</dd>
</dl><dl compact="compact"><dd>2 = suck recibió una respuesta inesperada a un comando enviado
al servidor remoto.</dd>
</dl><dl compact="compact"><dd>3 = se usó la opción -V.</dd>
</dl><dl compact="compact"><dd>4 = suck no pudo llevar a cabo el proceso de autorización en el
servidor remoto.</dd>
</dl><dl compact="compact"><dd>-1 = error general.</dd>
</dl><a id="lbAR"> </a><h2>HISTORIA</h2><dl compact="compact"><dd>Autor Original - Tim Smith (se desconoce su dirección)</dd>
</dl><dl compact="compact"><dd>Mantenido por -</dd>
</dl><dl compact="compact"><dd>Marzo 1995 - Sven Goldt (<a href="mailto:goldt@math.tu-berlin.de">goldt@math.tu-berlin.de</a>)</dd>
</dl><dl compact="compact"><dd>Julio 1995 - Robert A. Yetman (<a href="mailto:boby@pixi.com">boby@pixi.com</a>)</dd>
</dl><a id="lbAS"> </a><h2>VÉASE TAMBIÉN</h2><a href="http://localhost/cgi-bin/man/man2html?1+testhost">testhost</a><p>(1),
<a href="http://localhost/cgi-bin/man/man2html?1+rpost">rpost</a>(1),
<a href="http://localhost/cgi-bin/man/man2html?1+lpost">lpost</a>(1). 
</p><hr /><a id="index"> </a><h2>Index</h2><dl><dt><a href="#lbAB">NOMBRE</a></dt>

<dt><a href="#lbAC">SINOPSIS</a></dt>

<dt><a href="#lbAD">OPCIONES LARGAS EQUIVALENTES</a></dt>

<dt><a href="#lbAE">DESCRIPCIÓN</a></dt>

<dt><a href="#lbAF">MODO 1 - modo stdout o de salida
estándar</a></dt>

<dt><a href="#lbAG">MODO 2 - Modo multiarchivo</a></dt>

<dt><a href="#lbAH">MODO 3 - Modo batch (en lote)</a></dt>

<dt><a href="#lbAI">ARCHIVO DE PARÁMETROS DE SUCK</a></dt>

<dt><a href="#lbAJ">SUCKNEWSRC</a></dt>

<dt><a href="#lbAK">SUCKKILLFILE y KEEP/KILLFILES DE GRUPO</a></dt>

<dt><a href="#lbAL">PARÁMETROS</a></dt>

<dt><a href="#lbAM">Parámetros de los archivos KILL/KEEP</a></dt>

<dt><a href="#lbAN">SUCKOTHERMSGS</a></dt>

<dt><a href="#lbAO">FRASES DE DIVERSOS LENGUAJES</a></dt>

<dt><a href="#lbAP">TRATAMIENTO DE SEÑALES</a></dt>

<dt><a href="#lbAQ">VALOR DEVUELTO</a></dt>

<dt><a href="#lbAR">HISTORIA</a></dt>

<dt><a href="#lbAS">VÉASE TAMBIÉN</a></dt>
</dl><hr /><p>
This document was created by <a href="http://localhost/cgi-bin/man/man2html">man2html</a>, using
the manual pages.<br />
Time: 20:28:07 GMT, January 21, 2005
</p></body></html>
