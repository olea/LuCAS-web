.\" $XConsortium: sessreg.man,v 1.13 94/04/18 17:55:56 rws Exp $
.\" Copyright (c) 1994  X Consortium
.\" 
.\" Permission is hereby granted, free of charge, to any person obtaining
.\" a copy of this software and associated documentation files (the
.\" "Software"), to deal in the Software without restriction, including
.\" without limitation the rights to use, copy, modify, merge, publish,
.\" distribute, sublicense, and/or sell copies of the Software, and to
.\" permit persons to whom the Software is furnished to do so, subject to
.\" the following conditions:
.\" 
.\" The above copyright notice and this permission notice shall be included
.\" in all copies or substantial portions of the Software.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
.\"OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
.\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
.\" IN NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR
.\" OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
.\" ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
.\" OTHER DEALINGS IN THE SOFTWARE.
.\" 
.\" Except as contained in this notice, the name of the X Consortium shall
.\" not be used in advertising or otherwise to promote the sale, use or
.\" other dealings in this Software without prior written authorization
.\" from the X Consortium.
.\" Traducido al español por
.\" Antonio Aneiros
.\" aneiros1@arrakis.es
.\" el 31-05-1999
.TH SESSREG 1 "6ª entrega" "Versión X 11"
.SH NOMBRE
sessreg \- controla entradas utmp/wtmp para clientes no-init.
.SH SINOPSIS
.B sessreg
[-w \fIwtmp-file\fP]
[-u \fIutmp-file\fP]
[-l \fIline-name\fP]
[-h \fIhost-name\fP]
[-s \fIslot-number\fP]
[-x \fIXservers-file\fP]
[-t \fIttys-file\fP]
[-a]
[-d]
\fIuser-name\fP
.SH DESCRIPCIÓN
.PP
\fISessreg\fP es un simple programa para controlar las entradas utmp/wtmp en
sesiones xdm.
.PP
El sistema V tiene un interfaz para /etc/utmp mejor que el de BSD; coloca las
entradas de forma dinámica en el archivo, en vez de escribirlas en posiciones
fijas indexadas por posición en /etc/ttys.
.PP
Para controlar archivos utmp del estilo BSD, \fISessreg\fP tiene dos
estrategias. En conjunción con xdm, la opción -x cuenta el número de líneas
en /etc/tyys y luego le añade el número de la línea en el archivo Xservers
que especifica el display. El nombre del display ha de especificarse en
"line-name" (nombre-de-línea) usando la opción -l. Esta suma se usa como el
"slot-number" (número de posición) en /etc/utmp en el que se escribirá esta
entrada. En el caso más corriente, la opción -s especifica el número de
posición directamente. Si por cualquier extraña razón su sistema usa un
archivo diferente a /etc/tyys para controlar init, la opción -t puede
dirigir a \fISessreg\fP para que busque en otro lugar un cómputo de sesiones
de terminal.
.PP
Por otra parte, los administradores del Sistema V no necesitarán usar estas
opciones (-x, -s y -t). Para hacer que el programa sea más fácil de documentar
y explicar, \fISessreg\fP acepta opciones específicas BSP en el entorno del
Sistema V y las ignora.
.PP
BSD tiene también un campo para nombre de servidor (host-name) en el archivo
utmp que no existe en el Sistema V. La versión para el Sistema V de
\fISessreg\fP 
ignora también esta opción.
.SH USO
.PP
En Xstartup, escriba un comando como:
.nf

	sessreg -a -l $DISPLAY -x /usr/X11R6/lib/xdm/Xservers $USER

.fi
y en Xreset:
.nf

	sessreg -d -l $DISPLAY -x /usr/X11R6/lib/xdm/Xservers $USER

.fi
.SH OPCIONES
.IP "\fB-w\fP \fIwtmp-file\fP"
Especifica un archivo wtmp alternativo, en vez de /usr/adm/wtmp para BSD o
/etc/wtmp para SysV. El nombre especial "none" (ninguno) desactiva los
registros de escritura en /usr/adm/wtmp.
.IP "\fB-u\fP \fIutmp-file\fP"
Especifica un archivo utmp alternativo, en vez de "/etc/utmp". El nombre
especial "none" los registros de escritura en /etc/utmp.
.IP "\fB-l\fP \fIline-name\fP"
Describe el nombre de línea (line-name) de la entrada. Para sesiones de
terminal, supone el segmento final del nombre de archivo del dispositivo
display que se da a la sesión de usuarios ( por ejemplo, :0). Si no se
especifica un nombre, el nombre de terminal se especificará con ttyname(3) y
se le quitarán los componentes precedentes.
.IP "\fB-h\fP \fIhost-name\fP"
Esta opción se configura para que los servidores BSD indiquen que la sesión se
inició desde un servidor remoto. Esta opción no se utiliza en el uso típico de
xdm. 
.IP "\fB-s\fP \fIslot-number\fP"
Cada sesión potencial tiene un único
nombre de posición en los sistemas BSD, la mayoría identificado por la
posición del \fIline-name\fP (nombre de línea) en el archivo /etc/ttys. Esta
opción predominará sobre la posición por defecto determinada con ttyslot (3).
Esta opción resulta inapropiada para ser usada con xdm, la opción -x es más
útil.
.IP "\fB-x\fP \fIXservers-file\fP"
Dado que sólo puede ejecutarse una
sesión X por display, y cada display se escribe en este archivo, esta opción
establece el \fIslot-number\fP para que sea el número de líneas que aparece en
\fIttys-file\fP más el número de índice en el que se encuentra el
\fIline-name\fP en este archivo.
.IP "\fB-t\fP \fIttys-file\fP"
Especifica
un archivo alternativo que usará la opción \fI-x\fP para contar el número de
sesiones terminal en un servidor.
.IP "\fB-a\fP"
Esta sesión debe añadirse a
utmp/wtmp.
.IP "\fB-d\fP"
Esta sesión debe ser eliminada de utmp/wtmp. Debe
especificarse una de las dos opciones -a/-d.
.SH VÉASE TAMBIÉN
xdm(1)
.SH AUTOR
Keith Packard, MIT X Consortium
