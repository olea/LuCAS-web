<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.2beta6 (1.42)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>El comando if</TITLE>
<META NAME="description" CONTENT="El comando if">
<META NAME="keywords" CONTENT="curso">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.2beta6">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="curso.css">

<LINK REL="next" HREF="node69.html">
<LINK REL="previous" HREF="node67.html">
<LINK REL="up" HREF="node65.html">
<LINK REL="next" HREF="node69.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1355"
  HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1351"
  HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1345"
  HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1353"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1356"
  HREF="node69.html">El comando while</A>
<B> Up:</B> <A NAME="tex2html1352"
  HREF="node65.html">Programación en shell</A>
<B> Previous:</B> <A NAME="tex2html1346"
  HREF="node67.html">Códigos de salida</A>
 &nbsp <B>  <A NAME="tex2html1354"
  HREF="node1.html">&#205;ndice General</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00573000000000000000">
El comando <TT>if</TT></A>
</H2>

<P>
Ya vimos un ejemplo sencillo utilizando <TT>if</TT>, que a su vez 
puede ser de gran utilidad. Ya hablamos de la equivalencia 
entre el &#171;;&#187; y el &#171;Enter&#187; pero hay veces que desapercibido
el detalle de que <TT>if</TT> y <TT>then</TT> están en diferentes lineas
por lo que: 

<P>
<PRE>
# if COMANDO then COMANDO fi
</PRE>

<P>
Este último ejemplo va a dar error de sintaxis. La forma
correcta de expresar es:

<P>
<PRE>
# if COMANDO; then COMANDO ; fi
</PRE>

<P>
o bien:

<P>
<PRE>
# if COMANDO
&gt; then COMANDO
&gt; fi
</PRE>

<P>
Esta programación se puede ir realizando &#171;en línea&#187; o sea, en una
consola o terminal tipear cualquiera de estos ejemplo (siempre que
existan los comandos).

<P>
Muchas veces es necesario hacer comparaciones o comprobaciones para
tomar decisiones.  Por ejemplo ``Si el usuario no posee el archivo
<TT>&nbsp;/.configuracion</TT> 
con la configuración por defecto'' o bien ``Si el numero de archivos
es mayor a 20 escribir <TT>no se puede transferir</TT>''

<P>
Existe el comando <TT>test</TT> para hacer estas evaluaciones y en
base al resultado, su código de error de <TT>test</TT> será <TT>0</TT> u
otro número. Por ejemplo, para saber si un archivo
<TT>.configuracion</TT> existe en el <I>home</I> del usuario el comando
puede ser:

<P>
<PRE>
# test -e $HOME/.configuracion
</PRE>

<P>
para facilitar la notación dentro del comando <TT>if</TT> se
hace un <I>enlace simbólico</I><A NAME="tex2html17"
  HREF="footnode.html#foot2039"><SUP>2.14</SUP></A>a un comando llamado <TT>[</TT>. Parece extraño llamar a un comando con un corchete
abierto pero veamos un ejemplo:

<P>
<PRE>
if test -e $HOME/.configuracion
</PRE>

<P>
Puede traducirse a:

<P>
<PRE>
if [ -e $HOME/.configuracion ]
</PRE>

<P>
donde el <TT>]</TT> <I>(corchete cerrado)</I> final no tiene importancia 
y la programación queda menos engorrosa.

<P>
Podríamos utilizar lo aprendido para crear un script que
 ``Si el usuario no posee el archivo
<TT>&nbsp;/HOME/.configuracion</TT> 
con la configuracion por defecto'' en unas pocas líneas:

<P>
<PRE>
if [ -e $HOME/.configuracion ]
then
  crear-configuracion &gt;&gt; $HOME/.configuracion
fi
</PRE>

<P>
El comando test permite la composición de condiciones con
AND y OR lógicos con los modificadores <TT>-a</TT> y <TT>-o</TT>
respectivamente y el modificador NOT con <TT>!</TT>. Se podría agregar a la linea
del <TT>if</TT> anterior la condición ``y además no posee el archivo 
<TT>SinConfiguracion</TT>'' de la siguiente forma

<P>
<PRE>
if [ -e $HOME/.configuracion -a ! -e SinConfiguracion]
</PRE>

<P>
Ejemplos mucho más interesantes de analizar se pueden encontrar en el
directorio <TT>/etc/rc.d/init.d</TT><A NAME="tex2html18"
  HREF="footnode.html#foot2040"><SUP>2.15</SUP></A>.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1355"
  HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1351"
  HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1345"
  HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1353"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1356"
  HREF="node69.html">El comando while</A>
<B> Up:</B> <A NAME="tex2html1352"
  HREF="node65.html">Programación en shell</A>
<B> Previous:</B> <A NAME="tex2html1346"
  HREF="node67.html">Códigos de salida</A>
 &nbsp <B>  <A NAME="tex2html1354"
  HREF="node1.html">&#205;ndice General</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Proyecto Cursos - LuCAS - http://lucas.hispalinux.es/htmls/cursos.html
</ADDRESS>
</BODY>
</HTML>
