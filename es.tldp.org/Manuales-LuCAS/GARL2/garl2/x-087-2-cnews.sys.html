<HTML
><HEAD
><TITLE
>El fichero sys</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Guía de Administración de Redes con Linux"
HREF="index.html"><LINK
REL="UP"
TITLE="C-News"
HREF="x-087-2-cnews.html"><LINK
REL="PREVIOUS"
TITLE="Instalación"
HREF="x16948.html"><LINK
REL="NEXT"
TITLE="El Fichero active"
HREF="x-087-2-cnews.active.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="publicacoes.css"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Guía de Administración de Redes con Linux</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x16948.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 21. C-News</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x-087-2-cnews.active.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="X-087-2-CNEWS.SYS">21.3. El fichero sys</H1
><P
>&#13;
El fichero <TT
CLASS="FILENAME"
>sys</TT
>, situado en <TT
CLASS="FILENAME"
>/etc/news</TT
>, controla que 
jerarquías recibe y reenvía a otros servidores. Aunque hay herramientas de mantenimiento 
llamadas <B
CLASS="COMMAND"
>addfeed</B
> y <B
CLASS="COMMAND"
>delfeed</B
>, pensamos que es mejor mantener 
este fichero a mano.</P
><P
>El fichero <TT
CLASS="FILENAME"
>sys</TT
> contiene entradas para cada servidor con el que intercambia noticias, 
además tiene una lista de los grupos que usted acepta. La primera línea es una 
entrada <SPAN
CLASS="SYSTEMITEM"
>ME</SPAN
> que describe tu sistema. Es una apuesta segura usar lo 
siguiente:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    ME:all/all::</PRE
></TD
></TR
></TABLE
>

Además, tendrá que añadir una línea por cada servidor al que envía noticias.
Cada línea se parece a esta:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    <TT
CLASS="REPLACEABLE"
><I
>sitio</I
></TT
>[/<TT
CLASS="REPLACEABLE"
><I
>exclusiones</I
></TT
>]:<TT
CLASS="REPLACEABLE"
><I
>listagrupo</I
></TT
>[/<TT
CLASS="REPLACEABLE"
><I
>listdistribución</I
></TT
>][:<TT
CLASS="REPLACEABLE"
><I
>opciones</I
></TT
>[:<TT
CLASS="REPLACEABLE"
><I
>órdenes</I
></TT
>]]</PRE
></TD
></TR
></TABLE
></P
><P
>Las entradas pueden continuar a lo largo de varias líneas usando la barra invertida
(<SPAN
CLASS="SYSTEMITEM"
>\</SPAN
>). Un símbolo (<SPAN
CLASS="SYSTEMITEM"
>#</SPAN
>) 
denota un comentario.</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>sitio</I
></TT
></DT
><DD
><P
>Éste es el nombre del servidor al que se aplica la entrada. Una de las elecciones más usuales, es el
nombre del servidor UUCP. También debe existir una entrada con su servidor en el fichero <TT
CLASS="FILENAME"
>sys</TT
> 
, de lo contrario no recibirá ninguno de los artículos.</P
><P
>&#13;

El nombre especial de servidor <SPAN
CLASS="SYSTEMITEM"
>ME</SPAN
> indica su servidor.
La entrada <SPAN
CLASS="SYSTEMITEM"
>ME</SPAN
> define todos los grupos de noticias que Ud. está 
preparado para almacenar localmente. Los artículos que no concuerden con la línea 
<SPAN
CLASS="SYSTEMITEM"
>ME</SPAN
> irán al grupo
<SPAN
CLASS="SYSTEMITEM"
>junk</SPAN
>.</P
><P
>&#13;

C-News rechaza cualquier artículo que ya haya pasado a través de su servidor para evitar que los artículos regresen.
C-News realiza ésto asegurándose de que el nombre del servidor local no aparece en el <TT
CLASS="LITERAL"
>Path:</TT
> 
del artículo. Algunos servidores usan su nombre de dominio completamente calificado en este campo, o un alias
como <TT
CLASS="LITERAL"
>news.</TT
><TT
CLASS="REPLACEABLE"
><I
>sitio.dominio</I
></TT
>. Para prevenir que cualquier artículo
regrese a estos servidores, es importante añadir todos los alias a la lista de exclusión, separados por comas.</P
><P
>Para la entrada aplicada al servidor <SPAN
CLASS="SYSTEMITEM"
>moria</SPAN
>,
por ejemplo, el campo <TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
> debe contener
<SPAN
CLASS="SYSTEMITEM"
>moria/moria.orcnet.org</SPAN
>. Ahora, si
<SPAN
CLASS="SYSTEMITEM"
>moria</SPAN
> fuese un alias del servidor
<SPAN
CLASS="SYSTEMITEM"
>news.orcnet.org</SPAN
>, el campo
<TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
> debe contener la siguiente expresión
<SPAN
CLASS="SYSTEMITEM"
>moria/moria.orcnet.org,news.orcnet.org</SPAN
>.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>listagrupo</I
></TT
></DT
><DD
><P
>&#13;
Ésta es una lista de suscripción, separada por comas, de grupos y jerarquías para ese servidor 
en particular. Una jerarquía debe especificarse dando el prefijo de la jerarquía (como <SPAN
CLASS="SYSTEMITEM"
>comp.os</SPAN
> para todos los grupos cuyos nombres empiezan con este prefijo
), seguido opcionalmente por la palabra clave  <SPAN
CLASS="SYSTEMITEM"
>all</SPAN
> (por ejemplo, <SPAN
CLASS="SYSTEMITEM"
>comp.os.all</SPAN
>&thinsp;).</P
><P
>Para excluir una jerarquía o grupo de reemisión, debe ser precedido con un símbolo de exclamación.
Si un grupo de noticias encaja con más de una definición de la lista, la coincidencia más larga se aplica.}
Por ejemplo, si <TT
CLASS="REPLACEABLE"
><I
>listagrupo</I
></TT
> contiene:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    !comp,comp.os.linux,comp.folklore.computers</PRE
></TD
></TR
></TABLE
>

ningún grupo de la jerarquía <SPAN
CLASS="SYSTEMITEM"
>comp</SPAN
> excepto
 <SPAN
CLASS="SYSTEMITEM"
>comp.folklore.computers</SPAN
> y
todos los grupos bajo <SPAN
CLASS="SYSTEMITEM"
>comp.os.linux</SPAN
> serán 
suministrados a ese servidor.</P
><P
>Si el servidor requiere que se le envíen todas las noticias que usted recibe, introduzca
<SPAN
CLASS="SYSTEMITEM"
>all</SPAN
> como <TT
CLASS="REPLACEABLE"
><I
>listagrupo</I
></TT
>.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>listadistribución</I
></TT
></DT
><DD
><P
>&#13;
Este valor está separado de <TT
CLASS="REPLACEABLE"
><I
>grouplist</I
></TT
> por una barra invertida, y contiene
una lista de distribuciones para ser reenviada. Usted puede, nuevamente, excluir ciertas distribuciones
precediéndolas con un símbolo de exclamación. Todas las distribuciones se denotan con
<SPAN
CLASS="SYSTEMITEM"
>all</SPAN
>.  Omitir
<TT
CLASS="REPLACEABLE"
><I
>listadistrribución</I
></TT
> implica una lista de <SPAN
CLASS="SYSTEMITEM"
>all</SPAN
>.</P
><P
>Por ejemplo, puede usar una lista de distribución de
<SPAN
CLASS="SYSTEMITEM"
>all,!local</SPAN
> para impedir que las noticias
de uso sólo local sean enviadas a servidores remotos.</P
><P
>Usualmente existen al menos dos distribuciones:
<SPAN
CLASS="SYSTEMITEM"
>world</SPAN
>, que es 
a menudo la distribución predeterminada usada cuando el usuario
no especifica nada, y
<SPAN
CLASS="SYSTEMITEM"
>local</SPAN
>.
Puede haber otras distribuciones que se empleen para una cierta región,
estado, país, etc. Finalmente hay dos distribuciones usadas sólamente
por C-News; éstas son <SPAN
CLASS="SYSTEMITEM"
>sendme</SPAN
> y
<SPAN
CLASS="SYSTEMITEM"
>ihave</SPAN
>, y son usadas para el protocolo
sendme/ihave.</P
><P
>El uso de distribuciones es materia de debate. El campo de distribución en 
un artículo de noticias puede ser creado de forma arbitraria, pero
para que la distribución sea efectiva, los servidores de noticias
en la red deben conocer ésto. Para unos, algunos lectores de noticias
crean falsas distribuciones simplemente usando la jerarquía de alto nivel,
por ejemplo <SPAN
CLASS="SYSTEMITEM"
>comp</SPAN
> 
cuando se envía un mensaje a <SPAN
CLASS="SYSTEMITEM"
>comp.os.linux.networking</SPAN
>.
Las distribuciones que se emplean en regiones son a menudo también cuestionables,
porque las noticias deben viajar fuera de su región cuando son enviadas a través de Internet.

<A
NAME="X-087-2-FNCN04"
HREF="#FTN.X-087-2-FNCN04"
>[1]</A
>
Sin embargo, las distribuciones empleadas por una organización, son muy significativas, 
por ejemplo para evitar la salida de información confidencial de la red de la compañía.
No obstante, este propósito generalmente se consigue mejor creando un grupo de noticias
o una jerarquía separados.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>opciones</I
></TT
></DT
><DD
><P
>Este campo describe ciertos parámetros para el suministro. Puede estar vacío, o
ser una combinación de los siguientes:

 <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>F</TT
></DT
><DD
><P
>&#13; Esta opción permite el proceso por lotes.
 </P
></DD
><DT
><TT
CLASS="LITERAL"
>f</TT
></DT
><DD
><P
> Ésta es casi idéntica a la opción <TT
CLASS="LITERAL"
>F</TT
>,
  permite a C-News calcular el tamaño de los lotes salientes con más precisión,
y debe ser usada preferentemente antes que F.
 </P
></DD
><DT
><TT
CLASS="LITERAL"
>I</TT
></DT
><DD
><P
>&#13; Ésta opción hace que C-News produzca una lista de artículo apta para ser usada por
el protocolo ihave/sendme. Hay que hacer modificaciones al fichero
 <TT
CLASS="FILENAME"
>sys</TT
> y a <TT
CLASS="FILENAME"
>batchparms</TT
> para habilitar
 ihave/sendme.
 </P
></DD
><DT
><TT
CLASS="LITERAL"
>n</TT
></DT
><DD
><P
>&#13; Ésta opción crea ficheros por lotes para clientes de transferencia NNTP activa
como <B
CLASS="COMMAND"
>nntpxmit</B
> (ver el <A
HREF="x-087-2-nntp.html"
>Capítulo 22</A
>).
 Los procesos por lotes contienen el nombre del fichero del artículo junto con
el identificador de mensaje.
 </P
></DD
><DT
><TT
CLASS="LITERAL"
>L</TT
></DT
><DD
><P
>Indica a C-News que sólo transmita los mensajes generados en su servidor. 
Éste flag puede ir seguido por un número decimal <TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>, 
el cual le indica a C-News que sólo transfiera los artículos generados a 
<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
> saltos desde su servidor. C-News determina el número
de saltos a partir del campo <TT
CLASS="REPLACEABLE"
><I
>Path:</I
></TT
>.
 </P
></DD
><DT
><TT
CLASS="LITERAL"
>u</TT
></DT
><DD
><P
> Éste flag hace que C-News realice el proceso por lotes sólo de los artículos
que se encuentran en los grupos sin moderar. 
 </P
></DD
><DT
><TT
CLASS="LITERAL"
>m</TT
></DT
><DD
><P
> Inverso al anterior, C-News procesa los artículos de los grupos moderados. 
 </P
></DD
></DL
></DIV
><P></P
><P
>Se debe utilizar al menos uno de los parámetros <TT
CLASS="LITERAL"
>F</TT
>,
<TT
CLASS="LITERAL"
>f</TT
>,
<TT
CLASS="LITERAL"
>I</TT
>, o
<TT
CLASS="LITERAL"
>n</TT
>.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>cmds</I
></TT
></DT
><DD
><P
>&#13;

Éste campo contiene una orden a ser ejecutada por cada artículo, a menos que el
proceso por lotes esté habilitado. El artículo será suministrado a través de su entrada
estándar. Esto sólo debería usarse para suministros muy pequeños; de otra manera, la
carga en ambos servidores sería demasiado alta.</P
><P
>La instrucción predeterminada es:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    uux - -r -z <TT
CLASS="REPLACEABLE"
><I
>sistema-remoto</I
></TT
>!rnews</PRE
></TD
></TR
></TABLE
></P
><P
>Esto invoca a <B
CLASS="COMMAND"
>rnews</B
> en el sistema remoto, y le suministra el
artículo en su entrada estándar.</P
><P
>La ruta de búsqueda predeterminada para las órdenes indicadas en este campo es
<TT
CLASS="FILENAME"
>/bin:/usr/bin:/usr/lib/news/batch</TT
>. 
El último directorio contiene un cierto número de guiones del intérprete de órdenes
cuyos nombres empiezan por <B
CLASS="COMMAND"
>via</B
>&thinsp; 
estos serán brevemente descritos luego, en este mismo capítulo.</P
><P
>&#13;
Si el proceso por lotes está habilitado utilizando algún flag como 
<TT
CLASS="LITERAL"
>F</TT
>,
<TT
CLASS="LITERAL"
>f</TT
>,
<TT
CLASS="LITERAL"
>I</TT
>, o
<TT
CLASS="LITERAL"
>n</TT
>, C-News espera encontrar un nombre de fichero en este campo en vez de una instrucción. 
Si el nombre del fichero no empieza con una barra inclinada (/&thinsp;), se asume que es relativo a
<TT
CLASS="FILENAME"
>/var/spool/news/out.going</TT
>. Si el campo esta vacío, su valor predeterminado es
<TT
CLASS="FILENAME"
>sistema-remoto/togo</TT
>. 
Se espera que este fichero tenga el mismo formato que el fichero <TT
CLASS="FILENAME"
>sistema-remoto/togo</TT
> 
y contenga una lista de los artículos a transmitir.</P
></DD
></DL
></DIV
><P
>Cuando configure C-News, probablemente tendrá que escribir su propio fichero
<TT
CLASS="FILENAME"
>sys</TT
>.
Aquí se muestra un ejemplo para <SPAN
CLASS="SYSTEMITEM"
>vbrew.com</SPAN
>, 
del cual puede copiar lo que necesite:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    # Tomamos todo lo que se nos suministra.
    ME:all/all::
    # Enviamos todo lo que recibimos a moria, excepto los artículos locales
    # y relacionados con la cervecera. Se utiliza proceso por lotes.
    moria/moria.orcnet.org:all,!to,to.moria/all,!local,!brewery:f:
    # Enviamos comp.risks a jack@ponderosa.uucp
    ponderosa:comp.risks/all::rmail jack@ponderosa.uucp
    # swim obtiene un suministro reducido.
    swim/swim.twobirds.com:comp.os.linux,rec.humor.oracle/all,!local:f:
    # Guardar los artículos de mapas de correo para procesarlos luego.
    usenet-maps:comp.mail.maps/all:F:/var/spool/uumaps/work/batch</PRE
></TD
></TR
></TABLE
></DIV
><H3
CLASS="FOOTNOTES"
>Notas</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.X-087-2-FNCN04"
HREF="x-087-2-cnews.sys.html#X-087-2-FNCN04"
>[1]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
> 
Esto sucede frecuentemente, por ejemplo, digamos que un artículo enviado desde Hamburgo, para
ir a Frankfurt, vaya vía <SPAN
CLASS="SYSTEMITEM"
>reston.ans.net</SPAN
> en Holanda
, o incluso vía algún servidor en EE.UU.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x16948.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x-087-2-cnews.active.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Instalación</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="x-087-2-cnews.html"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>El Fichero active</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>