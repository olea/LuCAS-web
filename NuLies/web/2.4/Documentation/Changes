Introducción
============

  Este documento está diseñado para proporcionar una lista de los niveles
mínimos de software necesarios para ejecutar los núcleos 2.4, así como
proveer de unas pequeñas instrucciones referentes a cualquier "problema"
que pueda aparecer mientras intenta "vivir a la última". Si está
actualizando desde un núcleo anterior a 2.2.x, por favor, consulte el
fichero Changes (Cambios) incluido en los núcleos 2.2.x para encontrar
información adicional; mucha de esa información no se repite aquí.
Básicamente, este documento asume que su sistema ya es funcional y está
utilizando como mínimo núcleos 2.2.x.

  Este documento está basado originalmente en mi fichero Changes para
los núcleos 2.0.x y por ello sus créditos son los mismos que para ese
fichero (Jared Mauch, Axel Boldt, Alessandro Sigala, e incontables
usuarios a través de la red).

  Puede encontrar la última revisión de este documento, en varios
formatos en http://cyberbuzz.gatech.edu/kaboom/linux/Changes-2.4/
<http://cyberbuzz.gatech.edu/kaboom/linux/Changes-2.4/>.

  Siéntase libre de traducir este documento. Si lo hace, por favor,
mándeme una URL donde encontrar su traducción para incluirla en
futuras revisiones de este documento.

Smotrite file <http://oblom.rnc.ru/linux/kernel/Changes.ru>, yavlyaushisya
russkim perevodom dannogo documenta.

Visite <http://nulies.hispalinux.es/> para obtener la traducción
al español de este documento en varios formatos.

Eine deutsche Version dieser Datei finden Sie unter
<http://www.stefan-winter.de/Changes-2.4.0.txt>.

  Última actualización: 13 de febrero de 2002.

Chris Ricker (kaboom@gatech.edu o chris.ricker@genetics.utah.edu).

  Última actualización de la traducción: 18 de abril de 2003.

Autor de la traducción: David Martínez (ender@debian.org).

Requisitos mínimos actuales
===========================

  ¡Actualice *como mínimo* a estas versiones de software antes de creer 
que ha encontrado un error! Si no está seguro de qué versión está usando 
actualmente, el comando sugerido debería decírselo.

  De nuevo, tenga presente que esta lista asume que ya tiene un núcleo 
Linux 2.2 funcionando de forma normal. Asimismo, no todas las herramientas 
son necesarias en todos los sistemas; obviamente, si no tiene ningún 
hardware PCMCIA (PC Card), por ejemplo, probablemente no necesite 
preocuparse en absoluto por la versión de pcmcia-cs.

o  Gnu C                  2.95.3                  # gcc --version
o  Gnu make               3.77                    # make --version
o  binutils               2.9.1.0.25              # ld -v
o  util-linux             2.10o                   # fdformat --version
o  modutils               2.4.2                   # insmod -V
o  e2fsprogs              1.19                    # tune2fs
o  jfsutils               1.0.12                  # fsck.jfs -V
o  reiserfsprogs          3.6.3                   # reiserfsck 2>&1|grep reiserfsprogs
o  pcmcia-cs              3.1.21                  # cardmgr -V
o  PPP                    2.4.0                   # pppd --version
o  isdn4k-utils           3.1pre1                 # isdnctrl 2>&1|grep version

Compilación del núcleo
======================

GCC
---

  La versión de gcc que se necesita puede depender del tipo de CPU que
tiene su computadora. El próximo párrafo se aplica a los usuarios de
CPUs x86, pero no necesariamente a los usuarios de otras CPUs. Los
usuarios de otras CPUs deberían obtener información en algún otro sitio de
la versión de gcc que necesitan.

  El compilador recomendado para el núcleo es gcc 2.95.x (x >= 3), y es
el que debería usar cuando necesite estabilidad absoluta. Puede usar gcc 3.0.x
si lo desea, aunque puede que tenga algún problema. Las versiones
posteriores de gcc no han recibido demasiadas pruebas de compilación del
núcleo de Linux, y hay ciertos fallos (principalmente, pero no exclusivamente,
en el núcleo) que han de arreglarse para poder usar estos compiladores. En
cualquier caso, usar pgcc en vez de egcs o simplemente gcc es querer buscarse
problemas.

  Dése cuenta de que gcc 2.7.2.3 ya no es un compilador aceptable para el
núcleo. El núcleo no seguirá sorteando fallos de 2.7.2.3, y de hecho,
rechazará que se compile con él. egcs-1.1.2 tiene problemas de reserva de
registros en algunos casos muy oscuros. Nos hemos asegurado de que el
núcleo no se tropiece con ellos en ninguna situación de la que tengamos
noticia. En cualquier caso, el árbol 2.5 seguramente abandonará los
rodeos para egcs-1.1.2.

  La subrama de gcc 2.96 de Red Hat también se puede usar para compilar
este árbol. Ha de asegurarse de que usa gcc-2.96-74 o posterior.
gcc-2.96-54 no compilará el núcleo correctamente.

  Además, por favor, preste atención a la optimización del compilador. 
Cualquier cosa mayor que -O2 puede no ser acertada. Por motivos similares, 
si escoge usar gcc 2.95.x o derivados, asegúrese de no usar -fstrict-aliasing 
(lo que, dependiendo de su versión de gcc 2.95.x, puede obligarle a usar 
-fno-strict-aliasing).

Make
----

  Necesitará una versión del make de Gnu 3.77 o posterior para construir el 
núcleo.

Binutils
--------

  Linux en IA-32 ha dejado de usar «as86» en favor de «gas» para
ensamblar el código de arranque de 16 bits, y por tanto evitando la
necesidad de tener as86 para compilar su núcleo. Este cambio, sin
embargo, significa que necesita una versión reciente de binutils.

  Si puede, actualícese a la última versión de las binutils 2.9.5 ó
2.1x. Debería evitar a toda costa las versiones antiguas, como las 2.8,
2.8.xx y la 2.91 de la FSF. Las últimas versiones de la 2.9.1.0.x
(donde x >= 22) pueden y deben compilar el núcleo perfectamente, pero
hay muchas más ventajas si está dispuesto a actualizarse a las
versiones 2.9.5 o 2.1x.

Utilidades del sistema
======================

Cambios estructurales en la arquitectura
----------------------------------------

  DevFS ya está en el núcleo. Vea Documentation/filesystems/devfs/* en
el árbol de las fuentes del núcleo si quiere conocer los detalles más
escabrosos.

  Ya está dentro del núcleo el Gestor de Volúmenes Lógicos (en inglés
Logical Volume Manager (LVM)). Si quiere usarlo, necesitará instalar el
conjunto de herramientas de LVM.

  Ya hay soporte para UIDs de 32 bits. ¡Diviértase!

  La documentación de funciones en Linux está transformándose a un 
estilo de documentación en línea, que funciona gracias a que cerca 
de las definiciones de las funciones en el código fuente hay comentarios
con un formato especial. Estos comentarios se pueden combinar con las
plantillas SGML del directorio Documentation/DocBook para conseguir ficheros 
DocBook, que pueden entonces convertirse con hojas de estilo DocBook 
en PostScript, HTML, ficheros PDF, y varios formatos más. Para convertir 
algo de formato DocBook a otro de su elección, necesitará instalar Jade,
así como las hojas de estilo de DocBook necesarias.

Util-linux
----------

  Las nuevas versiones de las util-linux ofrecen soporte en *fdisk 
de discos más grandes, soportan opciones nuevas de montaje, reconocen 
más tipos de particiones, tienen un fdformat que funciona con núcleos 
2.4, y otras características estupendas. Probablemente quiera 
actualizarlas.

Ksymoops
--------

  Si sucede lo impensable y su núcleo produce un oops, necesitará una 
versión 2.4 de ksymoops para descifrar el informe; lea REPORTING-BUGS, 
situado en la raíz de las fuentes de Linux, para más información.

Modutils
--------

  Actualice sus modutils a una versión reciente, para arreglar varios 
fallos importantes observados bajo núcleos 2.4.x, y para activar la 
autocarga de módulos USB. Además, se ha hecho más cabal el aspecto de 
/lib/modules/`uname -r`/. Este cambio también requiere que actualice 
a una versión reciente de modutils.

Mkinitrd
--------

  Estos cambios del aspecto del árbol de ficheros de /lib/modules 
también requieren que se actualice mkinitrd.
 
E2fsprogs
---------

  La última versión de e2fsprogs arregla varios fallos en fsck y 
debugfs. Obviamente, es una buena idea actualizarlos.

JFSutils
--------

  El paquete jfsutils contiene las utilidades para el sistema de
ficheros. Están disponibles las siguientes utilidades:
o fsck.jfs - inicia una revisión del fichero de transacciones, y chequea
  y repara una partición JFS.
o mkfs.jfs - formatea una partición JFS.
o este paquete también ofrece otras utilidades para el sistema de ficheros.

Reiserfsprogs
-------------

El paquete de reiserfsprogs debería usarse para reiserfs-3.6.x
(núcleos de Linux 2.4.x). Es un paquete combinado y contiene versiones
funcionales de mkreiserfs, resize_reiserfs, debugreiserfs y
reiserfsck. Estas utilidades funcionan tanto en plataformas i386 como
Alpha.

Pcmcia-cs
---------

  Se ha implementado parcialmente el soporte de PCMCIA (PC Card) en 
las fuentes principales del núcleo. Preste atención cuando recompile 
su núcleo ;-). Además, asegúrese de tener la última versión de pcmcia-cs.

Microcódigo de Intel IA32
-------------------------

  Se ha añadido un controlador para permitir actualizar el microcódigo 
de los Intel IA32, accesible tanto como un fichero regular en devfs como 
un dispositivo de caracteres normal. Si no está usando devfs puede 
que necesite hacer:

mkdir /dev/cpu
mknod /dev/cpu/microcode c 10 184
chmod 0644 /dev/cpu/microcode

como root antes de que pueda usarlo. Probablemente también querrá 
conseguir la utilidad en espacio de usuario microcode_ctl para usarla 
con esto.

Si ha compilado este controlador como un módulo puede necesitar añadir
la siguiente línea:

alias char-major-10-184 microcode

a su fichero /etc/modules.conf .

Powertweak
----------

Si está usando la versión 0.1.17 o anterior, debería actualizar a la
versión 0.99.0 o más alta. Utilizar versiones antiguas puede causar
problemas con programas que usen memoria compartida.

Red
===

Cambios generales
-----------------

  El código de cortafuegos IP y el de NAT ha vuelto a cambiar. El nuevo 
software (que incluye módulos para compatibilidad anterior con ipfwadm 
e ipchains) se distribuye actualmente por separado.

  Si tiene necesidad de unas configuraciones de red avanzadas, 
probablemente debería considerar usar las herramientas de red del 
paquete ip-route2.

PPP
---

  Se ha reestructurado el controlador PPP para que aguante multienlace 
y para que permita operar sobre diversos medios de transporte. Si usa 
PPP, actualice ppp al menos hasta la versión 2.4.0.

  Si no está usando devfs, ha de tener el fichero de dispositivo 
/dev/ppp, que puede crear ejecutando:

mknod /dev/ppp c 108 0

como root.

  Si construye el soporte en el núcleo de ppp como módulos, necesitará 
tener lo siguiente en su fichero /etc/modules.conf:

alias char-major-108	ppp_generic
alias /dev/ppp		ppp_generic
alias tty-ldisc-3	ppp_async
alias tty-ldisc-14	ppp_synctty
alias ppp-compress-21	bsd_comp
alias ppp-compress-24	ppp_deflate
alias ppp-compress-26	ppp_deflate

  Si usa devfsd y construye el soporte de ppp como módulos, necesitará 
lo siguiente en su fichero /etc/devfsd.conf:

LOOKUP	PPP	MODLOAD

Isdn4k-utils
------------

 Debido a cambios en la longitud del número de teléfono, hay que 
recompilar o (preferiblemente) actualizar las isdn4k-utils.

Dónde conseguir software actualizado
====================================

Compilación del núcleo
**********************

egcs 1.1.2 (gcc 2.91.66)
------------------------
o  <ftp://sourceware.cygnus.com/pub/gcc/releases/egcs-1.1.2/egcs-1.1.2.tar.bz2>

gcc 2.95.3
----------
o  <ftp://ftp.gnu.org/gnu/gcc/gcc-2.95.3.tar.gz>

Make 3.77
---------
o  <ftp://ftp.gnu.org/gnu/make/make-3.77.tar.gz>

Binutils
--------
o  <ftp://ftp.kernel.org/pub/linux/devel/binutils/>

Utilidades del sistema
**********************

Util-linux
----------
o  <ftp://ftp.kernel.org/pub/linux/utils/util-linux/>

Ksymoops
--------
o  <ftp://ftp.kernel.org/pub/linux/utils/kernel/ksymoops/v2.4/>

Modutils
--------
o  <ftp://ftp.kernel.org/pub/linux/utils/kernel/modutils/v2.4/>

Mkinitrd
--------
o  <ftp://rawhide.redhat.com/pub/rawhide/SRPMS/SRPMS/>

E2fsprogs
---------
o  <http://prdownloads.sourceforge.net/e2fsprogs/e2fsprogs-1.19.tar.gz>
o  <http://prdownloads.sourceforge.net/e2fsprogs/e2fsprogs-1.19-0.src.rpm>

JFSutils
--------
o  <http://oss.software.ibm.com/jfs/>

Reiserfsprogs
-------------
o  <http://www.namesys.com/pub/reiserfsprogs/reiserfsprogs-3.6.3.tar.gz>

Herramientas para LVM
---------------------
o  <http://www.sistina.com/lvm/>

Pcmcia-cs
---------
o  <ftp://pcmcia-cs.sourceforge.net/pub/pcmcia-cs/pcmcia-cs-3.1.21.tar.gz>

Jade
----
o  <ftp://ftp.jclark.com/pub/jade/jade-1.2.1.tar.gz>

Hojas de estilo de DocBook
--------------------------
o  <http://nwalsh.com/docbook/dsssl/>

Microcode para Intel P6
-----------------------
o  <http://www.urbanmyth.org/microcode/>

Powertweak
----------
o  <http://powertweak.sourceforge.net/>

Red
***

PPP
---
o  <ftp://ftp.samba.org/pub/ppp/ppp-2.4.0.tar.gz>

Isdn4k-utils
------------
o  <ftp://ftp.isdn4linux.de/pub/isdn4linux/utils/isdn4k-utils.v3.1pre1.tar.gz>

Netfilter
---------
o  <http://netfilter.filewatcher.org/iptables-1.2.tar.bz2>
o  <http://netfilter.samba.org/iptables-1.2.tar.bz2>
o  <http://netfilter.kernelnotes.org/iptables-1.2.tar.bz2>

Ip-route2
---------
o  <ftp://ftp.inr.ac.ru/ip-routing/iproute2-2.2.4-now-ss991023.tar.gz>

Sugerencias y correcciones
==========================

  Siéntase libre de mandarme cambios, correcciones, críticas, enfados, 
dinero, etc. a <chris.ricker@genetics.utah.edu>. ¡Feliz Linux!

  Si hay algún error en la traducción (por desgracia, algo muy probable) 
o alguna otra cosa que el traductor tuviera que reconsiderar ;-), por 
favor, escriba a David Martínez (ender@rediris.es). Prometo contestar.

  Esta traducción está mantenida por David Martínez, para el Proyecto 
NuLiEs (NÚcleo de LInux en ESpañol) que puede visitarse en

  http://nulies.hispalinux.es/

Bajo Licencia Pública GNU.
