<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> 
<HTML lang="en"> 
<HEAD><META http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
 <TITLE> El Lenguaje PostScript </TITLE> 
 <META name="Author" CONTENT="Emre Demiralp"> 
 <META name="Keywords" CONTENT="postscript "> 
 <META name="Description" CONTENT=" "> 
 <META name="Copyright" CONTENT="&copy; 1998 LinuxFocus"> 
 <META name="Translator" CONTENT="Hugo Lastras"> 
 <META name="Date" CONTENT="1998-02-91T00:00:00Z"> 
 
</HEAD> 
 
<BODY bgcolor="#FFFFFF" text="#000000" link="#ff0033" vlink="#FF3333"> 
 
  <MAP name="navegator"> 
  <AREA shape="rect" coords="0, 0, 65, 28" alt="Ir al Hogar" href="../">
      <AREA shape="rect" coords="66, 0, 124, 28" alt="Ver Índice" href="../indice.html">
      <AREA shape="rect" coords="125, 0, 193, 28" alt="Buscar" href="../search.html">
      <AREA shape="rect" coords="194, 0, 260, 28" alt="Enlaces" href="../links.html">
      <AREA shape="rect" coords="261, 0, 350, 28" alt="Acerca de nosotros" href="../aboutus.html">
  </MAP> 
 
 
 
 <TABLE border="0" width="100%" cellspacing="0" cellpadding="0"> 
 
 <THEAD> 
   <TR align="center"> 
      <TD colspan="2"><IMG src="../../common/May1998/border-short.jpg" alt="[LinuxFocus Image]" width="407" height="88"></TD> 
   </TR> 
 
   <TR align="center"> 
      <TD colspan="2" bgcolor="#660033"><IMG src="../../common/May1998/Navegator-bar.gif" ismap usemap="#navegator" border="0" width="351" height="28" alt="[Navegation Bar]"></TD> 
   </TR> 
 
   <TR align="center"> 
     <TD colspan="2">      
           <TABLE  border="0" width="75%" cellspacing="0" cellpadding="5"> 
		<TR bgcolor="#000000"> 
		   <TD align="center"> 
		  <A href="../News/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Noticias</B></FONT></A>
		  <A href="../Archives/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Archivos</B></FONT></A>
		  <A href="../Companies/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Compañías</B></FONT></A>
		  <A href="../Tips/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Consejos&nbsp</B></FONT></A> 
               </TD> 
            </TR> 

		<TR> 
            <!--   Here goes the Title of the article, authors name and abstract --> 
		   <TD align="center"> 
 			<FONT face="Helvetica,Arial" color="#660066"><H1>El Lenguaje PostScript </H1></FONT>
 			<FONT face="Helvetica,Arial" color="#000000"><H3>por <A href="mailto:emre@kardelen.fe.itu.edu.tr"><FONT color="#000000">Emre Demiralp</FONT></A></H3></FONT> 
                  <HR size="2" noshade> 
<BLOCKQUOTE>
<P><I>Guárdate las burlas, llegará el día en que las uses.<BR>
-Proverbio turco-.</I><BR>
</P>
</BLOCKQUOTE>


	         </TD> 

            </TR> 
 
           </TABLE> 
 
     </TD> 
   </TR> 
 
 </THEAD> 
 
 
 
 <TBODY> 
   
 <TR> 
    <TD valign="top" align="center"> 
           <H4><A href="#intro">Introducción</A></H4> 
           <H4><A href="#drawing">Dibujos</A></H4> 
           <H4><A href="#writing">Texto</A></H4> 
           <H4><A href="#coloring">Colores</A></H4> 
           <H4><A href="#information">Más información</A></H4> 
    </TD> 
    
    <TD align="center"> 
       <TABLE border="0" width="80%" cellspacing="0" cellpadding="0"> 
	  <TR> 
          <TD> 

 





<P><A NAME="intro"></A></P>
           <H3><FONT face="Helvetica,Arial" color="#660033">Introducción</FONT></H3> 


<P>Éste es el primero de una serie de artículos sobre PostScript.
La idea principal no es enseñar todos y cada uno de los detalles
de este software, sino dar suficiente material para las personas que encuentran
en el PostScript un lenguaje de programación para la preparación 
de documentos interesante y divertido. A pesar de que no pretendemos escribir 
un documento técnico ni un libro de texto ni una biblia sobre este
tema, intentaremos presentar la información necesaria y suficiente sobre
PostScript.</P>

<P>Las ideas principales sobre las que está hecho el PostScript fueron
creadas hace veinte años por John Gaffney en la Evans & Sutherland 
Computer Corporation. Al principio se llamaba &quot;Design System&quot; pero
más tarde fue desarrollado bajo el nombre de PostScript por Adobe 
Systems Incorporated como una herramienta independiente de la plataforma y del
dispositivo para la descripción de páginas. Adobe Systems 
Incorporated fue formado por Chuck Geschke and John Warnock en 1982. 
C. Geschke y J. Warnock emprendieron un nuevo diseño e 
implementación del lenguaje, al que Doug Brotz, Billi Paxton, 
y Ed Taft hicieron grandes contribuciones.
Actualmente es una de las herramientas de preparación de documentos 
más importantes, aunque no es utilizada directamente
por la mayoría de usuarios. Sus capacidades están 
completamente a alto nivel, sin embargo muchos usuarios que no quieren 
entrar en los detalles de este potente lenguaje prefieren usar las otras 
herramientas de usuario final, que están basadas principalmente
en la filosofía &quot;What You See Is What You Get&quot;. Para
decir la verdad, muchas herramientas WYSIWYG usan formatos de fichero 
PostScript para mantener la documentación de los productos o para
usarlos como interface con otros trabajos como la impresión.
Por ello, podemos decir que aún sobrevive como un viejo amigo que
sirve como una potente asistencia para muchos trabajos del ordenador relativos
a dibujar, colorear, procesar imágenes, separación de colores,
simulación y animación incluso si no se nos muestra 
explícitamente durante el proceso. Por otro lado, si quieres aprender su
estructura para programarlo, encontrarás que no es muy 
difícil.</P>

<P>Los comandos de PostScript se ejecutan a través de algún 
intérprete. Entre los que existen, un software muy conocido está
disponible gratuitamente en el dominio público de Internet. Se llama
&quot;ghostscript&quot; por Aladdin Enterprise. Existe también un
útil interfase gráfico, &quot;ghostview&quot;, distribuido por
la misma organización. El proyecto GNU tiene también sus 
propias versiones de ghostscript. Estas están disponibles en todas
las plataformas Linux y todas las distribuciones principales las contienen
en su instalación estándar. Aquí usaremos ghostscript
y ciertas de sus estructuras y propiedades específicas, aunque los
programas de ejemplo se pueden ejecutar a través de otros 
intérpretes. Asumimos que tenemos activado el servidor de X Window 
y abierta una ventana xterm. Si queremos usar ghostscript entonces cada 
comando y grupo de comandos se dará en el prompt de comandos que aparece
después de lanzar el comando </P>

<P><TT>Initializing... done. Ghostscript 2.6.2 (4/19/95) Copyright (C)
1990-1995 Aladdin Enterprises, Menlo Park, CA. All rights reserved. Ghostscript
comes with NO WARRANTY: see the file COPYING for details.<BR>
GS&gt;<BLINK>_</BLINK></TT><BR>
<BR>
</P>

<P>Una ventana blanca propia se abrirá al mismo tiempo que aparece 
este prompt.

Si queremos cerrar la sesión ghostscript, lo único que tenemos
que hacer es ejecutar el comando  <TT> quit</TT> en el prompt  <TT> GS&gt;</TT>. 
También podemos salir con EOF (Ctrl-D).</P>

<P>Ghostscipt también puede ejecutar los comandos obteniéndolos 
de un fichero. En este caso abrimos un fichero llamado, por ejemplo, 
<TT> sample.ps </TT>. Todos los comandos que queremos que ghostscript ejecute
están escritos en este fichero. Entonces podemos llamar al contenido
de este fichero un programa PostScript. El contenido completo de este 
programa o sus comandos individuales será consecutivamente ejecutado
por ghostscript si ejecutamos el siguiente comando en el prompt de la shell
de la ventana de xterm de linux </P>

<P><TT>gs sample.ps</TT><BR>
</P>

<P>

y el display (si el programa pide la creación de un display, claro.
De hecho, PostScript se puede usar para otras cosas, como cálculos 
matemáticos, operaciones de pilas, etc. Las mencionaremos en futuros
artículos de esta serie) aparecerá en la ventana de 
ghostscript. Si el programa produce más de una página entonces
la ventana de ghostscript muestra la primera y el prompt 
<TT> showpage</TT> aparece en la línea de comandos de ghostscript
solicitando <TT> enter key pressing</TT> para ver la siguiente 
página.</P>

<P>PostScript usa Reverse Polish Notation (RPN - como las calculadoras de
bolsillo de HP). En otras palabras, los parámetros de un comando se
dan antes que el comando. Los comandos se separan con espacios en blanco. 
Usa operaciones de pila para procesar datos y ejecutar comandos. Hay cuatro
pilas disponibles en PostScript: la pila de operandos, la de diccionario, la 
de ejecución y la de estado gráfico. La pila de operandos contiene
objetos PostScript arbitrarios que son los operandos y resultados de los 
operadores PostScript que se están ejecutando. Podemos dar algunos
ejemplos de operaciones aritméticas. Por ejemplo,<BR>
<pre>
20 30 add 10 sub 
</pre><BR>
produce 40, ya que <tt> 20 30 add </tt> crea 50 y <tt> sub</tt> 
produce 40 al usar 50 junto con  10. <tt>mul</tt> (multiplicación)
y <tt>div</tt> (división) funcionan de la misma manera. El nombre '='
esta asociado con un procedimiento que saca un objeto de la pila de operadores
y escribe una representación textual de su valor al fichero 
estándar de salida, seguido de una nueva línea. == tiene un 
efecto similar, pero escribe una representación sintáctica de su 
operando el fichero estándar de salida. El comando <tt>pop</tt>
extrae el elemento superior de la pila de operandos y lo elimina. Hablaremos
de las pilas más detalladamente en posteriores artículos de esta
serie.

<A NAME="drawing"></A></P>
<H3><FONT face="Helvetica,Arial" color="#660033">&iquest;Cómo se usa PostScript para dibujar figuras?</FONT></H3> 


<P>Podemos empezar dibujando figuras con PostScript considerando la 
estructura geométrica de la página que será diseñada.
Las posiciones de los puntos de una página se denotan mediante 
pixels, que son 1/72 de pulgada en el lenguaje PostScript. La esquina
inferior derecha de la página es el punto con coordenadas (0,0) y el
tamaño horizontal y vertical de la página son de 612 y 792
respectivamente. Estos tamaños son para la hoja tipo letter. Hay otras
posibilidades de tamaños para otros tipos de papel, como</P>

<P><TT>note </TT>con <TT>540 </TT>y <TT>720 </TT>o<BR>
<TT>legal </TT>con <TT>612 </TT>y <TT>1008 </TT>o<BR>
<TT>a4 </TT>con <TT>595 </TT>y <TT>842 </TT>.<BR>
</P>

<P>Estos son comandos normales de gs. El comando 'a4' modificará el 
tamaño de tu hoja de dibujo al tamaño adecuado.</p>

<P>La definición del tamaño del papel se puede encontrar en 
el fichero de inicialización cuyo nombre es <TT>gs_statd.ps</TT>. Se puede
encontrar en /usr/lib/ghostscript para Slackware. Puedes definir cualquier 
tamaño de papel no estándar haciendo los añadidos y
modificaciones convenientes en este fichero como mencionaremos más
adelante en esta serie de artículos. Aquí asumimos que usamos 
el tamaño de papel por defecto <TT>letter </TT> en esta 
presentación.</P>

<P>El segundo paso después de poner el papel al tamaño deseado
al dibujar una figura es situar el cursor el principio del dibujo. Esto se
puede conseguir con el comando </P>

<P><TT>x y moveto</TT><BR>
</P>

<P>donde <TT>x </TT>e <TT>y </TT>denotan respectivamente las coordenadas
horizontal y vertical del punto donde se situará el cursor. <TT>x
</TT>e <TT>y </TT>son números puros y considerados en unidades de 
píxel. Como puedes ver, la estructura funcional de PostScript es 
ligeramente diferente de otros lenguajes de programación como C,
Fortran. <TT>moveto</TT> es el comando que realiza la acción, en
otras palabras, es el que mueve el cursor al sitio cuyas coordenadas vienen
dadas por x e y. Como PostScript usa una pila, primero se meten los 
parámetros consecutivamente en la pila. Entonces se da el comando. 
Cuando entra en la pila, acepta los dos objetos anteriores como sus 
parámetros. La sintaxis es diferente para el usuario
que está familiarizado con otros lenguajes como C, Fortran. Por eso
hemos insistido en este tema aquí. Como conclusión diremos
que todo comando que necesite parámetros se dará después 
de sus parámetros. </P>

<P>Ahora estamos preparados para empezar a dibujar la figura. Empecemos con una
figura sencilla, un segmento recto. Para dibujarlo, lo único que tenemos
que hacer es ejecutar el comando </P>

<P><TT>xx yy lineto </TT><BR>
</P>

<P>donde <TT>xx </TT>e <TT>yy </TT>denotan la situación del punto final
del segmento. Su punto inicial es la posición actual del cursor, 
<TT>x </TT>e <TT>y </TT>. Así pues, este comando construye un segmento
recto entre <TT>x y </TT>y <TT>xx yy </TT>. El dibujo necesita los comandos
de definición de camino <tt>newpath</tt> y <tt>stroke</tt>.
Escribamos un programa PostScript para dibujar un rectángulo. Se puede
hacer usando la información anterior. El programa que suponemos que 
se grabará en el fichero <TT>sample1.ps </TT>puede ser así</P>

<P><TT>
newpath<BR>
100 100 moveto<BR>
300 100 lineto<BR>
300 250 lineto<BR>
100 250 lineto<BR>
100 100 lineto<BR>
stroke</TT><BR>
</P>

<P>A pesar de que hemos dado cada comando en una línea separada, 
esto no es realmente necesario. Los podríamos dar todos en la 
misma línea insertando un espacio en blanco entre comandos 
consecutivos, como ya dijimos antes. </p>

<P>PostScript permite la introducción de comentarios, como otros
lenguajes de programación. Todo lo que sigue a un signo de porcentaje
hasta el final de la línea se interpreta como un comentario.</P>

<P><TT>
newpath<BR>
% Inicialización del cursor <BR>
100 100 moveto<BR>
% Dibujo del rectángulo  <BR>
300 100 lineto<BR>
300 250 lineto<BR>
100 250 lineto<BR>
100 100 lineto<BR>
stroke</TT><BR>
</P>

<P>Si ejecutamos el comando <TT>gs sample1.ps </TT>en el prompt de una 
ventana de xterm, entonces aparece la conocida ventana de ghostscript 
conteniendo el dibujo del rectángulo. No necesitamos invocar el 
intérprete cada vez. De hecho, el comando <BR><tt>(sample1.ps) run</tt><br>
hace lo mismo desde el prompt <tt>GS></tt>.</p>

<p>El comando <TT>stroke </TT> le dice al intérprete que dibuje la
figura. En el programa anterior la ventana de ghostscript muestra el 
rectángulo con lados de 200 y 150 puntos en las direcciones horizontal
y vertical.</P>

<P>Las líneas rectas no necesitan ser verticales o horizontales. Se
pueden construir en cualquier dirección.</p>

<P>Como podrás ver cuando mostremos el resultado mediante ghostscript,
este programa crea un triángulo. Puedes crear cualquier clase de figura
que esté compuesta de segmentos usando los comandos <TT>moveto </TT>y
<TT>lineto</TT>. </P>

<P>Hay dos comandos más que se pueden usar en las construcciones 
anteriores. Son los comandos <TT>rmoveto </TT>y <TT>rlineto </TT>. Necesitan
dos parámetros y se usan así</P>

<P><TT>x y rmoveto<BR>
x y rlineto</TT><BR>
</P>

<P>donde <TT>x </TT>e <TT>y </TT>son las distancias horizontal y vertical 
entre el punto inicial y final de cada acción. 'r' en rmove y rlineto
significa 'relativo'. En otras palabras, el primer comando mueve el cursor
<TT>x </TT>unidades horizontalmente a la derecha e <TT>y </TT>unidades 
hacia arriba desde su posición actual. El segundo comando actúa 
de manera similar, pero dibuja una línea y mueve el cursor al punto final
en lugar de solo mover el cursor. Estos son comandos de referencia y los 
parámetros se dan tomando la posición inicial como el punto
de referencia.</P>

<P>Todos los ejemplos anteriores usan una anchura de línea por
defecto para dibujar. Este valor es de 1 píxel. Sin embargo, el usuario
puede definir el ancho de línea del dibujo en cualquier punto del
programa. Esto se puede hacer con el comando </P>

<P><TT>x setlinewidth</TT><BR>
</P>

<P>donde x denota el anchura de la línea en píxels. El efecto de 
este comando continúa hasta que se modifique de nuevo la anchura de la 
línea en el programa. No hay limitación para el número
de anchos de línea en un programa.
</P>

<P>Naturalmente, dibujar en PostScript no está limitado a líneas
rectas. Se pueden dibujar también arcos circulares. Para ello podemos
usar el siguiente comando </P>

<P><TT>x y r a b arc</TT><BR>
</P>

<P>donde <TT>x, y, r, a </TT>y <TT>b </TT>son las coordenadas horizontal y 
vertical del centro del arco circular, el radio del arco y el ángulo
entre la parte positiva del eje horizontal y los rayos centrales que pasan
a través del punto inicial y final del arco. Los ángulos se miden 
en sentido contrario a las agujas del reloj. Si el punto inicial del arco
no es la posición actual del cursor, entonces se dibuja también
una línea recta entre la posición actual del cursor y el inicio
del arco. Para entender todo esto, puedes echarle un vistazo el siguiente 
programa PostScript. </P>

<P><BR>
<TT>
3 setlinewidth<BR>
200 200 moveto<BR>
100 200 100 0 75 arc<BR>
stroke<BR>
300 300 moveto<BR>
400 500 200 20 50 arc<BR>
stroke</TT><BR>
</P>

<P>Así pues, debemos tener cuidado y poner el cursor al principio
del arco si no queremos la línea extra mencionada más arriba.
Sin embargo, hay otra manera de solucionar el problema. De hecho, al punto
actual se le puede dar un valor vacío. En otras palabras, al
principio del camino no hay ningún valor para los parámetros. 
No hay ninguna asignación para la posición del cursor. Una vez
se inicia el dibujo, el punto final del camino se convierte en el punto actual.
Si ejecutamos el comando <TT>newpath </TT> entonces PostScript borra la
asignación para el punto del cursor y actúa como si el dibujo
comenzara desde el principio. Así pues, el programa anterior se puede
modificar sustituyendo la quinta línea con una línea que contenga
solo el comando <TT>newpath</TT>. Si lo hacemos y lo ejecutamos veremos que
obtenemos el mismo dibujo, excepto la línea recta extra.</P>

<P>Un camino se inicia ejecutando el operador newpath. Esto inicializa
el camino actual al camino vacía. El camino se construye entonces 
ejecutando comandos que añadan segmentos al camino actual. 


<P>El comando <TT>arc </TT> se puede usar para dibujar un círculo
completo. Es suficiente dar como ángulo inicial y final 0 y 360 
respectivamente. Si se hace bajo un newpath se obtiene un círculo completo.
El comando <TT>arc </TT> también se puede usar para producir elipses.
Usaremos para ello las propiedades de escalado de PostScript. El usuario puede
reescalar las unidades horizontales y verticales de manera separada mediante
el siguiente comando</P>

<P><TT>x y scale</TT><BR>
</P>

<P>donde <TT>x </TT>e <TT>y </TT>denotan respectivamente los factores de escalado
horizontal y vertical. Esto significa que cuando estos factores son igual a 1
no afecta en nada al dibujo. El efecto de escalado se mantiene hasta que se 
ejecuta el siguiente comando de escalado. El siguiente comando de escalado que
se ejecuta no anula el efecto del anterior, sino que combina su propio efecto
con el anterior. Supongamos que los parámetros del comando de escalado
anterior fueron <TT>x1, y1 </TT> y los parámetros del siguiente comando 
son <TT>x2, y2 </TT>, entonces el efecto combinado de ambos tiene los factores
de escalado <TT>x1*x2, y1*y2 </TT>. Este efecto se debe tener presente para 
evitar efectos indeseados en el display, como que algunos caminos se salgan de 
la superficie del papel. PostScript asume la no existencia de escalado por
defecto. El siguiente programa PostScript, que suponemos que está grabado
en el fichero <TT>sample4.ps </TT>, es un ejemplo para explicar el escalado.</P>

<P><TT>3 setlinewidth<BR>
200 200 100 0 360 arc<BR>
stroke<BR>
newpath<BR>
2 1 scale<BR>
200 300 50 0 360 arc<BR>
stroke<BR>
newpath<BR>
1 4 scale<BR>
100 150 40 0 360 arc<BR>
stroke</TT><BR>
</P>

<P>Como se puede ver, la escala afecta a todos los tamaños, incluyendo
el ancho de línea. El ancho de línea de las elipses y el 
círculo creado por el programa anterior son diferentes debido a esta
razón. </P>

<P>PostScript tiene dos comandos más para dibujar arcos. Uno de ellos,
<TT>arcn </TT>, es casi lo mismo que <TT>arc </TT> excepto en la dirección
de dibujo. <TT>arcn </TT>dibuja el arco en el sentido de las agujas del reloj.
El tercer comando de dibujo de arcos dibuja un arco circular que es tangente
a dos líneas dadas en sus puntos finales. Se puede ejecutar así </P>

<P><TT>x1 y1 x2 y2 r arcto xt1 yt1 xt2 yt2</TT><BR>
</P>

<P>donde <TT>xt1, yt1, xt2, yt2 </TT>denotan los coordenadas horizontales y 
verticales del arco, mientras que los puntos finales de las líneas
tangentes tienen los valores <TT>x0, y0, x1, y1 </TT>y <TT>x1, y1, x2, y2 </TT>
respectivamente y <TT>r </TT>es el radio del arco. Si el camino no es nuevo o
el punto actual no coincide con el inicio del arco entonces se añade al
camino una línea que une el punto actual con el inicio del arco. Al
final del dibujo el punto actual es <TT>xt2, yt2 </TT>.</P>

<P>PostScript tiene también un comando basado en el algoritmo de Bezier
que se puede usar de manera efectiva en la interpolación o 
extrapolación de unos datos dados para dibujar. Esto comando se llama
<TT>curveto </TT> y se puede usar para formar el dibujo basado en la 
interpolación o extrapolación de un conjunto de datos dado. El
comando se usa así</P>

<P><TT>x1 y1 x2 y2 x3 y3 curveto</TT><BR>
</P>

<P>donde la curva empieza en el punto actual, cuyas coordenadas son 
<TT>x0, y0 </TT>. Es tangente a la línea entre los puntos <TT>x0, y0 </TT>
y <TT>x1, y1 </TT>en el punto inicial. La curva acaba en el punto <TT>x3, y3 </TT>
y es tangente a la línea entre <TT>x2, y2 </TT>y <TT>x3, y3 </TT>. Por
defecto estos cuatro puntos se supone que son diferentes y determinan la
forma de la figura.


<A NAME="writing"></A></P>
<H3><FONT face="Helvetica,Arial" color="#660033">Herramientas de escritura en PostScript </FONT></H3> 



<P>PostScript tiene varias fuentes que se usan como fuentes estándares
para autoedición. Tiene también herramientas de creación
de fuentes a las que se puede acceder definiendo pilas de diccionario donde
las fuentes están disponibles. El siguiente programa en PostScript puede
ser un ejemplo. </P>

<P><TT>/Times-Roman findfont<BR>
15 scalefont<BR>
setfont<BR>
100 500 moveto<BR>
(I love PostScript!) show<BR>
/Times-Italic findfont<BR>
20 scalefont<BR>
setfont<BR>
100 450 moveto<BR>
(I love PostScript!) show<BR>
/Times-Bold findfont<BR>
25 scalefont<BR>
setfont<BR>
100 400 moveto<BR>
(I love PostScript!) show<BR>
/Helvetica findfont<BR>
30 scalefont<BR>
setfont<BR>
100 350 moveto<BR>
(I love PostScript!) show<BR>
/Courier findfont<BR>
35 scalefont<BR>
setfont<BR>
100 300 moveto<BR>
(I love PostScript!) show<BR>
/Helvetica-Bold findfont<BR>
40 scalefont<BR>
setfont<BR>
100 250 moveto<BR>
(I love PostScript!) show<BR>
showpage</TT><BR>
</P>

<P>Como se puede deducir del programa, el comando <TT>findfont </TT> se usa
para obtener un acceso a la estructura de la fuente deseada. El nombre de la 
fuente comienza por / y se le da al comando como un parámetro (donde /
le dice al intérprete que meta este valor en la pila tal como está.
Cuando entremos más tarde en detalle en las operaciones de pila este
punto quedará más claro). Después de la selección 
del comando, la escala se define mediante el comando <TT>scalefont </TT>.
El factor de escala se da como un número precediendo al comando.
Después del escalado de la fuente, el comando <TT>setfont </TT> deja
la fuente disponible para usarla en el programa. Después de situar
el cursor con el comando <TT>moveto </TT> con los parámetros adecuados,
el texto entre paréntesis se pasa como parámetro al comando 
<TT>show </TT>. El comando <TT>showpage </TT> finaliza el display del material
escrito. El programa anterior utiliza diferentes tipos y tamaños de 
fuentes con el mismo texto en diferentes posiciones. El número de fuentes
disponibles para PostScript se puede encontrar buscando las situaciones de
las fuentes en la estructura de directorios del sistema linux que utilices.
El texto se puede ajustar con líneas, curvas y otras herramientas.
Así pues cualquier tipo de escritura, en principio, es posible.
Es solo una cuestión de diseño.</P>


<A NAME="coloring"></A>
<H3><FONT face="Helvetica,Arial" color="#660033">Cómo pintamos y usamos los colores en PostScript </FONT></H3> 


<P>El lenguaje PostScript está equipado con muchas facilidades para 
pintar figuras o crear dibujos con colores. Empezaremos primero mencionando
los comandos de color. PostScript usa el negro como color por defecto, a no 
ser que se ejecute un comando de especificación de color. Por ello la 
salida de todos los programas anteriores eran dibujos en blanco y negro.
Para usar colores en la salida de PostScript podemos usar tres comandos de 
coloreado diferentes. El primero se basa en el formato de color <TT>rgb </TT>.
En este formato, cada color se supone compuesto de tres colores principales:
rojo, verde y azul. A las componentes del color se les pueden dar 
parámetros de intensidad individuales, que pueden tomar valores entre 0
y 256. Los parámetros de intensidad pueden aceptar valores decimales
de hasta tres dígitos de precisión, como 111.223. El comando 
esperado por PostScript debe ser dado de la siguiente manera.</P>

<P><TT>x y z setrgbcolor</TT><BR>
</P>

<P>donde <TT>x,y,z </TT>son los parámetros de intensidad para las 
componentes rojo, verde y azul y <TT>setrgbcolor </TT>es el comando.
En esta convención, <TT>1 0 0 setrgbcolor </TT> crea el color rojo, 
mientras que <TT>0 1 0 setrgbcolor</TT>crea el verde. El negro corresponde
al caso donde todos los parámetros de intensidad valen 1. Los comandos
de color continúan afectando a todos los dibujos hasta que se ejecute
el siguiente comando de color. Cuando esto pasa, el efecto del comando anterior
se anula totalmente, y el nuevo valor vale para todo. El número de veces
que se puede utilizar es ilimitado. Usando adecuadamente los valores del color
puedes crear tus dibujos como quieras. Es una cuestión de arte y 
depende de ti.</P>

<P>La segunda utilidad de control del color se basa en un formato de cuatro
componentes del color. Se llama el formato de color <TT>cmyk </TT>. Las cuatro
componentes básicas del color son <TT>cyan, magenta, amarillo </TT>y 
<TT>negro </TT>respectivamente. Cada componente de color contribuye al
color final según una intensidad que puede variar entre 0 y 1. El 
comando de PostScript correspondiente es</P>

<P><TT>w x y z setcmykcolor</TT><BR>
</P>

<P>donde <TT>w, x, y, z </TT>son los parámetros de intensidad para las
componentes de color cyan, magenta, amarillo y negro, respectivamente.
Los valores fraccionarios decimales se pueden usar también para los
valores de intensidad. Este comando continúa su efecto sobre todo hasta
que el siguiente comando se ejecuta. Cuando esto ocurre, los nuevos valores 
dominan sobre los anteriores. No hay limitación sobre el número
de veces que se puede usar en un programa. </P>

<P>El tercer comando es el siguiente</P>

<P><TT>x y z sethsbcolor</TT><BR>
</P>

<P>donde <TT>x, y, z </TT>son los valores de los parámetros de intensidad
de tres diferentes propiedades del color. El primero corresponde a 
<TT>color </TT> (hue), que determina la localización del color en el
espectro de la luz. El segundo, <TT>saturación </TT> y el tercero 
<TT>brillo </TT>corresponden a la saturación y brillo del color.
Este formato se prefiere cuando las propiedades a controlar son la 
localización del color en el espectro mediante un bucle, o el brillo y/o 
la saturación. El lector que no esté familiarizado con hsbcolor
puede comprobar el uso de <tt>xfig</tt> bajo linux.</P>

<P>El comando más importante de PostScript para pintar es <TT>fill </TT>
y <TT>closepath </TT>. El siguiente programa de ejemplo, que se supone grabado 
en el fichero <TT>sample6.ps </TT>, clarifica importantes aspectos al pintar
y colorear con PostScript. </P>

<P><TT>1 1 0 0 setcmykcolor<BR>
100 100 moveto<BR>
300 100 lineto<BR>
300 250 lineto<BR>
100 250 lineto<BR>
100 100 lineto<BR>
stroke<BR>
1 0.5 0.8 0 setcmykcolor<BR>
5 setlinewidth<BR>
200 200 moveto<BR>
400 300 lineto<BR>
300 300 lineto<BR>
closepath fill<BR>
stroke<BR>
1 0 0 setrgbcolor<BR>
3 setlinewidth<BR>
200 200 moveto<BR>
100 200 100 0 75 arc<BR>
stroke<BR>
newpath<BR>
400 500 200 20 50 arc<BR>
stroke<BR>
0 0 1 0.2 setcmykcolor<BR>
3 setlinewidth<BR>
200 200 100 0 360 arc<BR>
stroke<BR>
1 0 0 setrgbcolor<BR>
newpath<BR>
2 1 scale<BR>
200 300 50 0 360 arc<BR>
gsave fill grestore stroke<BR>
stroke<BR>
0 1 0 setrgbcolor<BR>
newpath<BR>
1 4 scale<BR>
100 150 40 0 360 arc<BR>
gsave fill grestore stroke</TT><BR>
</P>

<P>donde el comando <TT>closepath </TT> cierra un camino abierto uniendo dos
puntos finales con una línea recta, mientras que <TT>fill </TT>
sirve para llenar el interior del camino cerrado con el color actual. </P>

<P>PostScript puede también crear tonos de gris. Esto se puede hacer
con el siguiente comando</P>

<P><TT>x setgray</TT> </P>

<P>donde <TT>x </TT>es la intensidad del color gris y su valor puede variar
desde 0, que corresponde a negro, hasta 1, que corresponde a blanco.
El siguiente programa grabado bajo el nombre de <TT>sample7.ps </TT>
está hecho de manera que se explique a sí mismo.</P>

<P><TT>0.2 setgray<BR>
10 setlinewidth<BR>
100 700 moveto<BR>
200 0 rlineto<BR>
stroke<BR>
newpath<BR>
0.3 setgray<BR>
100 600 moveto<BR>
200 0 rlineto<BR>
stroke<BR>
newpath<BR>
0.4 setgray<BR>
100 500 moveto<BR>
200 0 rlineto<BR>
stroke<BR>
newpath<BR>
0.5 setgray<BR>
100 400 moveto<BR>
200 0 rlineto<BR>
stroke<BR>
newpath<BR>
0.6 setgray<BR>
100 300 moveto<BR>
200 0 rlineto<BR>
stroke<BR>
newpath<BR>
0.7 setgray<BR>
100 200 moveto<BR>
200 0 rlineto<BR>
stroke<BR>
newpath<BR>
0.8 setgray<BR>
100 100 moveto<BR>
200 0 rlineto<BR>
stroke</TT><BR>
</P>

<P>Antes de finalizar esta presentación, podemos recomendar escribir
programas más complicados para los usuarios que encuentran en PostScript
una interesante herramienta. En los siguientes artículos de esta serie
daremos más detalles sobre el lenguaje PostScript. Todas las preguntas
y recomendaciones serán bienvenidas. </P>

<P>El autor agradece a Oliver Thilmann por sus útiles comentarios 
sobre la organización y presentación de este artículo.</p>


 
          </TD> 
        </TR> 
	 </TABLE> 
 
     <HR size=2 noshade> 
     <P align="right">Traducido por <A href="mailto:lastras@writeme.com"><FONT color="#000000">Hugo Lastras Membrive</font></A> 
      y <A href="mailto:cordin@iti.upv.es">
        <FONT color="#000000">César Ordiñana</font></A></P> 
 
    </TD> 
 
 </TR> 
 
 </TBODY> 
 
<TBODY> 
  <TR> 
    <TD colspan="2"> 
    <A NAME="information"></A>
    <B>Más información</B>:<BR> 
    <UL> 
      <LI>Consulta los libros de Adobe Systems Inc. publicados por Addison-Wesley: 
        <i>PostScript Language </i> <BR>(Tres volumenes: Tutorial and Cookbook, Language Reference, Program Design)</LI>  
     <UL><BR><BR> 
    <TD> 
  </TR> 
</TBODY> 
 
 <TR bgcolor="#660033"> 
   <TD colspan="2" align="center"><FONT face="Helvetica,Arial" color="#FFFFFF"><B> 
         &copy; 1998 Emre Demiralp</B></FONT><BR> 
    <FONT color="#ffffff">Páginas Web mantenidas por
    <A href="mailto:angel@mercury.chem.pitt.edu"><FONT color="#ffffff">Miguel A Sepúlveda</FONT></A></FONT>. 
   </TD> 
 </TR> 
 
 
 
</TABLE> 
 
 
</BODY> 
</HTML> 
 
 
 
 
 
 
