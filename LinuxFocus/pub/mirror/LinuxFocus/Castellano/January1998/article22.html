<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML lang="es">
<HEAD><META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <TITLE>LF vol. 2 1998 Ejecutando Linux en un Alpha PC</TITLE>
 <META name="Author" CONTENT="Bruce Ediger">
 <META name="Keywords" CONTENT="linux alpha installation CPU digital motherboard hardware">
 <META name="Description" CONTENT="Article concerning the installation of Linux on an alpha motherboard">
 <META name="Copyright" CONTENT="&copy; 1998 Bruce Ediger">
 <META name="Translator" CONTENT="">
 <META name="Date" CONTENT="1998-02-05T00:00:00Z">


</HEAD>

<BODY bgcolor="#FFFFFF" text="#000000" link="#ff0033" vlink="#FF3333">

  <MAP name="navegator">
      <AREA shape="rect" coords="0, 0, 65, 28" alt="Ir al Hogar" href="../">
      <AREA shape="rect" coords="66, 0, 124, 28" alt="Ver &Iacute;ndice" href="../indice.html">
      <AREA shape="rect" coords="125, 0, 193, 28" alt="Buscar" href="../search.html">
      <AREA shape="rect" coords="194, 0, 260, 28" alt="Enlaces" href="../links.html">
      <AREA shape="rect" coords="261, 0, 350, 28" alt="Acerda de nosotros" href="../aboutus.html">
  </MAP>




 <TABLE border="0" width="100%" cellspacing="0" cellpadding="0">

 <THEAD>
   <TR align="center">
      <TD colspan="2"><IMG src="../../common/January1998/border-short.jpg" alt="[LinuxFocus Image]" width="407" height="88"></TD>
   </TR>

   <TR align="center">
      <TD colspan="2" bgcolor="#660033"><IMG src="../../common/January1998/Navegator-bar.gif" ismap usemap="#navegator" border="0" width="351" height="28" alt="[Navegation Bar]"></TD>
   </TR>

   <TR align="center">
     <TD colspan="2">     
           <TABLE  border="0" width="75%" cellspacing="0" cellpadding="5">
		<TR bgcolor="#000000">
		   <TD align="center">
		  <A href="../News/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Noticias</B></FONT></A>
		  <A href="../Archives/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Archivos</B></FONT></A>
		  <A href="../Companies/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Compa&ntilde;&iacute;as</B></FONT></A>
		  <A href="../Tips/"><FONT face="Helvetica,Arial" color="#ffffff"><B>&nbsp; Consejos&nbsp;</B></FONT></A> 
               </TD>
            </TR>
            
		<TR>
            <!--   Here goes the Title of the article, authors name and abstract -->
		   <TD align="center">
 			<FONT face="Helvetica,Arial" color="#660066"><H3>Ejecutando Linux en un Alpha PC</H3></FONT>
 			<FONT face="Helvetica,Arial" color="#000000"><H4>por <A href="mailto:bediger@csn.net"><FONT color="#000000">Bruce Ediger</FONT></A></H4></FONT>
                  <HR size="2" noshade>
	         </TD>
            </TR>

           </TABLE>

     </TD>
   </TR>

 </THEAD>



 <TBODY>
  
 <TR>
    <TD valign="top" align="center">

    </TD>
   
    <TD align="center">
       <TABLE border="0" width="80%" cellspacing="0" cellpadding="0">
	      <TR>
		<TD>


		  <P>Siempre  he  poseido  máquinas que no  utilizaban
		  procesadores Intel  o ejecutaban sistemas operativos
		  de Microsoft, desde una  "Radio Shack Color Computer
		  3" ejecutando OS-9 en  1986 hasta una "AT&T 3b1"  en
		  1988, "NeXT M68040  "black" hardware" en 1991, y una
		  "Sun SPARCStation   IPC" en 1995.    A través de  mi
		  experiencia  personal, gente (en   la vida real y en
		  <I>usenet</I>)  me   ha dicho   que el    hardware y
		  software Wintel era   más completo y económico  que,
		  aunque posiblemente no de igual calidad, el hardware
		  propietario que tenía en la mesa de la cocina. </P>

		  <P>Entre Enero y  Marzo de 1997,  monté un ordenador
		  con        un    procesador          Alpha    de  <A
		  HREF="http://www.digital.com/DTJ801/DTJ801SC.TXT"><I>"Digital
		  Equipment Corporation"</I> </A>  y lo hice funcionar
		  bajo   el     sistema          operativo          <A
		  HREF="http://www.azstarnet.com/~axplinux/FAQ.html">Linux</A>.
		  El   ordenador  DEC,  un  <I>"Universal Desktop Box"
		  (UDB)</I>, aunque  no    un Intel   80x86,   utiliza
		  periféricos   de    PC  "estándards    y  fácilmente
		  obtenibles". Ahora    puedo  probar las afirmaciones
		  sobre el      estándard  hardware  Wintel     en  la
		  práctica.    Ésta  es   una    recopilación de    mi
		  experiencia. </P>

		  <BR><B><FONT FACE="Arail, Helvetica"><FONT SIZE=+0>Resumen</FONT></FONT></B>

<P>Obtener ordenadores o piezas de  los mismos que <STRONG>no</STRONG>
son   considerados  del "stock"  es difícil,   pero  no imposible. Las
tiendas de ordenadores, tanto las grandes como las pequeñas del estilo
"hágaselo   usted     mismo"      sólo  quieren    vender     sistemas
completos. Vendedores y asesores en  todas las tiendas de  informática
desconocen otra   cosa   que  no sean    los  sistemas  completos  que
venden. Los precios del hardware de los PC  estándard no son tan bajos
como los "expertos" o  defensores de <I>Usenet</I>  intentaron hacerme
creer.</P>




           <H3><FONT face="Helvetica,Arial" color="#660033">Mi experiencia previa con <I>Freeware</I> y <I>Hardware</I></FONT></H3>



<P>Antes de leer mi historia, debe ser advertido de que no soy ningún novato. He trabajado
como programador en los pasados 6 años, principalmente en una amplia variedad de entornos Unix. 
Una de mis máquinas (SPARCStation IPC) está funcionando con otro Unix de libre distribución 
<A HREF="http://www.netbsd.org">NetBSD</A>, por lo que tengo algo de experiencia en cuanto a los
problemas que estos sistemas operativos suelen tener. Los ordenadores que poseo no son los
llamados "estándard", o hardware de masas por lo que yo me encargo del mantenimiento y actualización
de los mismos.</P>


<BR><B><FONT FACE="Arail, Helvetica"><FONT SIZE=+0>La Historia</FONT></FONT></B>

<P>Obtuve el mencionado <I>Digital Equipment Corporation VX40A-F2 Universal Desktop Box (UDB) de 
<STRONG>Starship/Computer Guys</STRONG></I>. Lo pedí vía on-line a través de <STRONG>www.onsale.com</STRONG>.
A pesar de que recibí los artículos que aboné, no estoy muy seguro de recomendar onsale.com.
He recibido numerosos mensajes (correo electrónico) debido a que Strarship o Onsale.com cedió su
listado de direcciones de correo a empresas de publicidad sin escrupulos.</P>

<P>El UDB era algo triste. No tenía memoria, disco, monitor no teclado. Venía con ratón, CD-ROMs con
Red Hat Linux/Alpha 4.0 y un conjunto muy reducido de instrucciones. </P>

<P>Tras recibir el UDB procedí a obtener el resto de componentes que necesitaba para convertirlo
en un ordenador útil. El primer episodio fué la memoria.</P>

<P>Me puse en contacto con varias tiendas de componentes usados y de "bricolage" informático en el
área del metro de Denver para encontrar SIMMs de 36 contactos, 70 nanosegundos o menos y paridad par.
Todos ellos me informaron sobre los precios. Un sabado volví dispuesto a adquirirlos. En 3 de las tiendas, 
obtuve exactamente el mismo tratamiento: pregunté por la memoria, miraron el precio, me dijeron que les llevara 
mi PC para poder instalarme los SIMMs. Les mostré la documentación del DEC, diciéndoles justo lo que quería y 
firmé mi derecho a devolver la memoria en mal estado. Inconpetentes, cada vendedor fué a su trastienda, sólo para
descrubrir que no tenía los SIMMs que el UDB necesitaba en su stock.</P> 

<P>Adquirí los SIMMs que necesitaba por correo de la empresa <STRONG>Memory Shippers</STRONG> de San Francisco,
California. Pude instalarla sin problemas, a pesar de los echos de las tiendas de piezas usadas de Denver.</P>

<P>Fuí a la tienda local de PCs <STRONG>Computer City</STRONG> para adquirir un teclado tipo PS/2. 
Las tiendas de componentes usados, incompetentes no sólo para venderme los SIMMs, tampoco quisieron venderme
un teclado. Había una sorprendente exposición de teclados en Computer City, cada uno etiquetado con una serie
de palabras sin sentido. Fuí capaz de localizar dos símbolos que decían "PS/2 compatible", pero sólo las cajas
que había debajo de estas marcas tenían etiquetas que decían "No PS/2 Compatible", a pesar de la "no ayuda" 
de la gente de ventas de Computer City. Aparentemente poner en un polo de color amarillo pastel de Computer City
causa una bajada sobre 20 puntos en el coeficiente intelectual. El teclado que obtuve fué uno de precio medio. Los más
económicos son únicamente "AT Compatibles".</P>

<P>Descubrí que el UDB debía tener un monitor de tipo SVGA "multi-synch" (multifrecuencia) debido a sus
capacidades integradas de vídeo. Ninguno de mis monitores son de este tipo. Durante la búsqueda de memoria
y de un teclado obtuve información sobre los precios de los monitores disponibles. </P>


<P>Durante 1996, compré un monitor de 19 pulgadas original <A HREF="http://www.sun.com">Sun Microsystems</A> a
través de un foro de usenet por 350 dólares, por lo que me sorprendió ver monitores de 17 pulgadas desde 450 dolares. 
Los monitores nuevos en las tiendas eran algo más caros.</P>


<P>Finalmente decidí que  compraría uno de  14 o 15 pulgadas, teniendo
las  mismas aventuras que durante la  adquisición de la memoria.  Tras
buscar en una trastienda de una tienda de componentes usados, deseaban
venderme el  monitor que  el técnico estaba  usando. Otra  tienda  del
mismo  tipo sólo  vendía monitores  de  17 pulgadas   o superiores. La
tercera sólo  tenía <STRONG>un</STRONG> monitor a  la venta (aparte de
los  sistemas  completos   que  vendían),   un <STRONG>Compaq</STRONG>
"Presario 1410".   Este monitor  es   aparentemente como un  elefante,
debido a  que los altavoces solo  funcionan  con ordenadores  Compaq o
algo  similar.  Como usuario  durante   largo tiempo  de  NeXT,  estoy
familiarizado con la falta de beneficios del sonido, por lo que no era
un factor determinante en mi decisión.</P>

<P>Digital Equipment   Corporation    dejó de fabricar  la   línea  de
productos  del UDB (alias  "Multia") en   algún  momento de  1996 pero
tienen                           el                                 <A
HREF="http://www.brouhaha.com/~eric/computers/udb.html">manual     del
usuario</A> disponible via ftp. Esto no es tan  bueno como suena, dado
que no contiene diagramas que muestren la posición  de los jumpers que
controlan aspectos  del comportamiento de la máquina. Afortunadamente,
Red Hat  ha    hecho su lista    de  correo pública  y   fácil  de  <A
HREF="http://www.redhat.com/support/mailing-lists/archives/axp-list/search.cgi">consultar</A>.</P>

<P>Armado con la pobremente redactada documentación de "Starship Computer", (la
compañía de la que obtuve el UDB) y numerosos extractos de documentación del manual de Digital, 
la lista de correo de Red Hat y otras páginas web, fuí capaz de arrancar la máquina con el 
MILO mini-loader. El "SRM" PROM de arranque no sincroniza el monitor, por lo que parte del arranque es
a ciegas. Tras esto, fuí capaz de instalar Red Hat Linux para Alpha, 4.0 en un disco SCSI Fujitsu
modelo M1606SAU. Tenía una unidad de CD-ROM Toshiba XM-3301TA que había conseguido hacer funcionar con
el arranque PROM de la Sun SPARC, que requiere sectores de 512 bytes.
Usé esta unidad para instalar Red Hat desde los CDs. Encontré curioso que el hardware y el software
funcionase con un CD-ROM modificado y de 5 años. </P>

<P>Una dificultad que encontre fué el tener que utilizar "fdisk" para construir
una partición del tipo MS-DOS. Parece increible que Digital fabrique PROMs de arranque 
que requieran un sistema de ficheros "FAT" para arrancar, pero es así. También encontré
que las particiones debían empezar en un número de cilindro múltiplo de 4.</P> 

<P> La segunda dificultado que encontré fué que las pobres instrucciones de Starship/Computer Guys
asumían que el disco duro era el dispisitivo SCSI 0. La experiencia con la PROM de Sun me permitió 
localizar donde la PROM del UDB asumía esto.</P>


<P>Me llevó dos ciclos completos de instalación el obener un Linux trabajando satisfactoriamente. 
Realicé una seleccion incorrecta de paquetes a instalar la primera vez. 
Pensé que tener el sistema en funcionamiento era primordial. 
LLevar esta instalación a funcionar con el soporte para redes fué facil.
Ejecutar el soporte para redes cuando el sistema no está configurado es difícil. Opté por reinstalar
como una máquina en red (<I>networked workstation</I>).</P>

<P>Debe haber algo erróneo en el código para redes de Linux. La instalación por defecto causa
la parada del proceso de arranque del sistema, pero hay algo más: cada 3.5 segundos, el kernel de Linux
para Alpha lanza un paquete de 46 bytes a si mismo. La trama ethernet tiene la dirección MAC de la máquina
como origen y destino. Puede que esté destinado a chequear que todo está bien, pero es muy confuso.</P>

<P>Tras arrancar el sistema desde el disco duro, el resto del proceso de instalación fué
moderadamente difícil. Tuve que buscar en la lista de correo de Red Hat detalles sobre como
evitar la parada del sistema durante el arranque, y como enfrentarme al fichero de configuraicón del XFree86.
Haber comprado un monitor de 14 pulgadas fué un error, todo es muy pequeño. </P>

<P>Rápidamente encontré un error del procesador Alpha de 64 bits. 
Quise mantener todos los relojes de mi máquina sincronizados, parecía que 'rdate' era
un aforma barata y fácil de hacer esto. Estaba ya utilizándolo en otras dos máquinas, y parecía
fácil compilar y usar alternativad como NTP (Instalé u administré NTP en el pasado).</P>

<P>Compilar 'rdate' desde los fuentes para NetBSD 1.1 fué sencillo.
Insistía en decirme que la hora en mis otras máquinas (SPARC IPC y M68040 NeXT) era algo así como 1861.
Resultó ser una "feature" de la extensión del signo del procesador Alpha: el protocolo 'rdate' se supone que
devuelve un valor de 32 bits, ordenado en bytes "de red", complemento a dos, correspondiente al numero de 
segundos desde el 1 de Enero de 1990 a las 12:00 AM.
El código de 'rdate' utiliza la rutina de la librería ntohl() para poner los bytes en el orden adecuado. Esto finalizaba
poniendo el bit 32 a '1'. Este valor se interpretaba como un valor de signo cuando era cargado por los registros del 
procesador Alpha. El bit '1' en la posición 32 hacía el número negativo. </P>

</ol>

           <H3><FONT face="Helvetica,Arial" color="#660033">Coste de la adquisición</FONT></H3>

<TABLE>
<TR>
<TD>&nbsp;</TD>  <TD>Precio(US$) </TD>   <TD>Envio(US$)</TD>
</TR>

<TR>
<TD> UDB incompleto:  </TD> <TD>365.00</TD> <TD>40.00  (con rat&oacute;n y RH 4.0)</TD>
</TR>

<TR>
<TD>dos, 32-Mb SIMMs  </TD> <TD>162.00</TD> <TD>34.50</TD>
</TR>

<TR>
<TD>Teclado PS/2 </TD> <TD>37.54 </TD> <TD></TD>
</TR>

<TR>
<TD>Monitor Compaq Presario</TD> <TD>321.58</TD> <TD></TD>
</TR>
    
<TR>
<TD COLSPAN=3> <HR SIZE=1 NOSHADE> </TD>
</TR>

<TR>
<TD>&nbsp;</TD> <TD>886.12</TD><TD>74.50 = $960.62 (1997 US$)</TD>
</TR>

</TABLE>

<P>Habrá observado que no está incluido el disco duro Fujitsu M1606SAU-512, el soporte externo y
el cableado, lo tenía ya. La instalación de Red Hat necesita dos discos a partir de las imágenes contenidas en los
CDs. Es, asimismo, necesario tener un ordenador con una unidad de CD-ROM y de disquete 
para pasar estas dificultades.</P> 




           <H3><FONT face="Helvetica,Arial" color="#660033">Estimaci&oacute;n del Tiempo Usado</FONT></H3>

<P>Creo que gasté entre 35 y 45 horas en este proyecto, repartidos entre 3 meses.
Pienso que en un entorno comporativo (de 9 a 5), el mismo proyecto podría haber costado el doble de horas. 
Como estaba realizándolo en mi tiempo libre, podía, por ejemplo, comenzar el prceso de instalación e ir a preparar la comida.
En un entorno de trabajo, a menudo debes enfrentarte a una tarea a pesar que
no está yendo bien. </P>

<BR>
          </TD>
        </TR>
	 </TABLE>

     <HR size=2 noshade>


    </TD>

 </TR>

 </TBODY>

<TBODY>
  <TR>
    <TD colspan="2">
    <B>Para más informatión</B>:<BR>

<A HREF="http://www.redhat.com/support/mailing-lists/archives/axp-list/">Archivo de la lista de correo sobre Red Hat para Alpha</A><BR>
<A HREF="http://www.redhat.com/support/mailing-lists/archives/axp-list/search.cgi">Búsqueda en el archivo de la lista anterior</A><BR>
<A HREF="http://www.azstarnet.com/~axplinux/FAQ.html">Linux/Alpha Preguntas más frecuentes (FAQs)</A><BR>
<A HREF="http://www.annex.co.uk/systems/udbspec.html">Información sobre el hardware del UDB </A><BR>
<A HREF="http://www.brouhaha.com/~eric/computers/udb.html">más información sobre el hardware UDB</A><BR>
<A HREF="http://www.conline.com/~cbbrowne/alpha.html">Testimonio Personal</A><BR>
<A HREF="http://www.partner.digital.com/www-swdev/pages/Home/TECH/documents/alpha_cookbook/cook.htm">Alpha Compiler Cookbook</A><BR>
<A HREF="http://www.digital.com/info/DTJ800/">
"Digital Technical Journal Vol 4, no 4", ejemplar especial sobre la arquitectura Alpha
</A><BR>
<A HREF="http://www.vcnet.com/bms/default.html">Porque se debe boicotear a Microsoft</A><p>
<A HREF=mailto:bediger@csn.net>Envíame tus comentarios</A>
    <TD>
  </TR>
</TBODY>

 <TR bgcolor="#660033">
   <TD colspan="2" align="center"><FONT face="Helvetica,Arial" color="#FFFFFF"><B>
         &copy; 1998 Bruce Ediger</B></FONT><BR>
    <FONT color="#ffffff">P&aacute;ginas web mantenidas por 
    <A href="mailto:angel@mercury.chem.pitt.edu"><FONT color="#ffffff">Miguel A Sepulveda</FONT></A></FONT>.
   </TD>
 </TR>



</TABLE>


</BODY>
</HTML>






