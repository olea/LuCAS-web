<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from uucp.texi on 7 November 1999 -->

<TITLE>Taylor UUCP</TITLE>
</HEAD>
<BODY>
<H1>Taylor UUCP</H1>
<H2>Version 1.06</H2>
<ADDRESS>Ian Lance Taylor <CODE>&#60;<A HREF="mailto:ian@airs.com">ian@airs.com</A>&#62;</CODE></ADDRESS>
<P>
<P><HR><P>
<H1>Table of Contents</H1>
<UL>
<LI><A NAME="TOC1" HREF="uucp.html#SEC1">Taylor UUCP Copying Conditions</A>
<LI><A NAME="TOC2" HREF="uucp.html#SEC2">Introduction to Taylor UUCP</A>
<LI><A NAME="TOC3" HREF="uucp.html#SEC3">Invoking the UUCP Programs</A>
<UL>
<LI><A NAME="TOC4" HREF="uucp.html#SEC4">Standard Options</A>
<LI><A NAME="TOC5" HREF="uucp.html#SEC5">Invoking uucp</A>
<UL>
<LI><A NAME="TOC6" HREF="uucp.html#SEC6">uucp Description</A>
<LI><A NAME="TOC7" HREF="uucp.html#SEC7">uucp Options</A>
</UL>
<LI><A NAME="TOC8" HREF="uucp.html#SEC8">Invoking uux</A>
<UL>
<LI><A NAME="TOC9" HREF="uucp.html#SEC9">uux Description</A>
<LI><A NAME="TOC10" HREF="uucp.html#SEC10">uux Options</A>
<LI><A NAME="TOC11" HREF="uucp.html#SEC11">uux Examples</A>
</UL>
<LI><A NAME="TOC12" HREF="uucp.html#SEC12">Invoking uustat</A>
<UL>
<LI><A NAME="TOC13" HREF="uucp.html#SEC13">uustat Description</A>
<LI><A NAME="TOC14" HREF="uucp.html#SEC14">uustat Options</A>
<LI><A NAME="TOC15" HREF="uucp.html#SEC15">uustat Examples</A>
</UL>
<LI><A NAME="TOC16" HREF="uucp.html#SEC16">Invoking uuname</A>
<LI><A NAME="TOC17" HREF="uucp.html#SEC17">Invoking uulog</A>
<LI><A NAME="TOC18" HREF="uucp.html#SEC18">Invoking uuto</A>
<LI><A NAME="TOC19" HREF="uucp.html#SEC19">Invoking uupick</A>
<LI><A NAME="TOC20" HREF="uucp.html#SEC20">Invoking cu</A>
<UL>
<LI><A NAME="TOC21" HREF="uucp.html#SEC21">cu Description</A>
<LI><A NAME="TOC22" HREF="uucp.html#SEC22">cu Commands</A>
<LI><A NAME="TOC23" HREF="uucp.html#SEC23">cu Variables</A>
<LI><A NAME="TOC24" HREF="uucp.html#SEC24">cu Options</A>
</UL>
<LI><A NAME="TOC25" HREF="uucp.html#SEC25">Invoking uucico</A>
<UL>
<LI><A NAME="TOC26" HREF="uucp.html#SEC26">uucico Description</A>
<LI><A NAME="TOC27" HREF="uucp.html#SEC27">uucico Options</A>
</UL>
<LI><A NAME="TOC28" HREF="uucp.html#SEC28">Invoking uuxqt</A>
<LI><A NAME="TOC29" HREF="uucp.html#SEC29">Invoking uuchk</A>
<LI><A NAME="TOC30" HREF="uucp.html#SEC30">Invoking uuconv</A>
<LI><A NAME="TOC31" HREF="uucp.html#SEC31">Invoking uusched</A>
</UL>
<LI><A NAME="TOC32" HREF="uucp.html#SEC32">Installing Taylor UUCP</A>
<UL>
<LI><A NAME="TOC33" HREF="uucp.html#SEC33">Compiling Taylor UUCP</A>
<LI><A NAME="TOC34" HREF="uucp.html#SEC34">Testing the Compilation</A>
<LI><A NAME="TOC35" HREF="uucp.html#SEC35">Installing the Binaries</A>
<LI><A NAME="TOC36" HREF="uucp.html#SEC36">Configuring Taylor UUCP</A>
<LI><A NAME="TOC37" HREF="uucp.html#SEC37">Testing the Installation</A>
</UL>
<LI><A NAME="TOC38" HREF="uucp.html#SEC38">Using Taylor UUCP</A>
<UL>
<LI><A NAME="TOC39" HREF="uucp.html#SEC39">Calling Other Systems</A>
<LI><A NAME="TOC40" HREF="uucp.html#SEC40">Accepting Calls</A>
<LI><A NAME="TOC41" HREF="uucp.html#SEC41">Using UUCP for Mail and News.</A>
<UL>
<LI><A NAME="TOC42" HREF="uucp.html#SEC42">Sending mail or news via UUCP</A>
<LI><A NAME="TOC43" HREF="uucp.html#SEC43">Receiving mail or news via UUCP</A>
</UL>
<LI><A NAME="TOC44" HREF="uucp.html#SEC44">The Spool Directory Layout</A>
<UL>
<LI><A NAME="TOC45" HREF="uucp.html#SEC45">System Spool Directories</A>
<LI><A NAME="TOC46" HREF="uucp.html#SEC46">Status Directory</A>
<LI><A NAME="TOC47" HREF="uucp.html#SEC47">Execution Subdirectories</A>
<LI><A NAME="TOC48" HREF="uucp.html#SEC48">Other Spool Subdirectories</A>
<LI><A NAME="TOC49" HREF="uucp.html#SEC49">Lock Files in the Spool Directory</A>
</UL>
<LI><A NAME="TOC50" HREF="uucp.html#SEC50">Cleaning the Spool Directory</A>
</UL>
<LI><A NAME="TOC51" HREF="uucp.html#SEC51">Taylor UUCP Configuration Files</A>
<UL>
<LI><A NAME="TOC52" HREF="uucp.html#SEC52">Configuration File Overview</A>
<LI><A NAME="TOC53" HREF="uucp.html#SEC53">Configuration File Format</A>
<LI><A NAME="TOC54" HREF="uucp.html#SEC54">Examples of Configuration Files</A>
<UL>
<LI><A NAME="TOC55" HREF="uucp.html#SEC55">config File Examples</A>
<LI><A NAME="TOC56" HREF="uucp.html#SEC56">Leaf Example</A>
<LI><A NAME="TOC57" HREF="uucp.html#SEC57">Gateway Example</A>
</UL>
<LI><A NAME="TOC58" HREF="uucp.html#SEC58">Time Strings</A>
<LI><A NAME="TOC59" HREF="uucp.html#SEC59">Chat Scripts</A>
<LI><A NAME="TOC60" HREF="uucp.html#SEC60">The Main Configuration File</A>
<UL>
<LI><A NAME="TOC61" HREF="uucp.html#SEC61">Miscellaneous config File Commands</A>
<LI><A NAME="TOC62" HREF="uucp.html#SEC62">Configuration File Names</A>
<LI><A NAME="TOC63" HREF="uucp.html#SEC63">Log File Names</A>
<LI><A NAME="TOC64" HREF="uucp.html#SEC64">Debugging Levels</A>
</UL>
<LI><A NAME="TOC65" HREF="uucp.html#SEC65">The System Configuration File</A>
<UL>
<LI><A NAME="TOC66" HREF="uucp.html#SEC66">Defaults and Alternates</A>
<LI><A NAME="TOC67" HREF="uucp.html#SEC67">Naming the System</A>
<LI><A NAME="TOC68" HREF="uucp.html#SEC68">Calling Out</A>
<UL>
<LI><A NAME="TOC69" HREF="uucp.html#SEC69">When to Call</A>
<LI><A NAME="TOC70" HREF="uucp.html#SEC70">Placing the Call</A>
<LI><A NAME="TOC71" HREF="uucp.html#SEC71">Logging In</A>
</UL>
<LI><A NAME="TOC72" HREF="uucp.html#SEC72">Accepting a Call</A>
<LI><A NAME="TOC73" HREF="uucp.html#SEC73">Protocol Selection</A>
<LI><A NAME="TOC74" HREF="uucp.html#SEC74">File Transfer Control</A>
<LI><A NAME="TOC75" HREF="uucp.html#SEC75">Miscellaneous sys File Commands</A>
<LI><A NAME="TOC76" HREF="uucp.html#SEC76">Default sys File Values</A>
</UL>
<LI><A NAME="TOC77" HREF="uucp.html#SEC77">The Port Configuration File</A>
<LI><A NAME="TOC78" HREF="uucp.html#SEC78">The Dialer Configuration File</A>
<LI><A NAME="TOC79" HREF="uucp.html#SEC79">UUCP Over TCP</A>
<UL>
<LI><A NAME="TOC80" HREF="uucp.html#SEC80">Connecting to Another System Over TCP</A>
<LI><A NAME="TOC81" HREF="uucp.html#SEC81">Running a TCP Server</A>
</UL>
<LI><A NAME="TOC82" HREF="uucp.html#SEC82">Security</A>
</UL>
<LI><A NAME="TOC83" HREF="uucp.html#SEC83">UUCP Protocol Internals</A>
<UL>
<LI><A NAME="TOC84" HREF="uucp.html#SEC84">UUCP Protocol Sources</A>
<LI><A NAME="TOC85" HREF="uucp.html#SEC85">UUCP Grades</A>
<LI><A NAME="TOC86" HREF="uucp.html#SEC86">UUCP Lock Files</A>
<LI><A NAME="TOC87" HREF="uucp.html#SEC87">Execution File Format</A>
<LI><A NAME="TOC88" HREF="uucp.html#SEC88">UUCP Protocol</A>
<UL>
<LI><A NAME="TOC89" HREF="uucp.html#SEC89">The Initial Handshake</A>
<LI><A NAME="TOC90" HREF="uucp.html#SEC90">UUCP Protocol Commands</A>
<UL>
<LI><A NAME="TOC91" HREF="uucp.html#SEC91">The S Command</A>
<LI><A NAME="TOC92" HREF="uucp.html#SEC92">The R Command</A>
<LI><A NAME="TOC93" HREF="uucp.html#SEC93">The X Command</A>
<LI><A NAME="TOC94" HREF="uucp.html#SEC94">The E Command</A>
<LI><A NAME="TOC95" HREF="uucp.html#SEC95">The H Command</A>
</UL>
<LI><A NAME="TOC96" HREF="uucp.html#SEC96">The Final Handshake</A>
</UL>
<LI><A NAME="TOC97" HREF="uucp.html#SEC97">UUCP <SAMP>`g'</SAMP> Protocol</A>
<LI><A NAME="TOC98" HREF="uucp.html#SEC98">UUCP <SAMP>`f'</SAMP> Protocol</A>
<LI><A NAME="TOC99" HREF="uucp.html#SEC99">UUCP <SAMP>`t'</SAMP> Protocol</A>
<LI><A NAME="TOC100" HREF="uucp.html#SEC100">UUCP <SAMP>`e'</SAMP> Protocol</A>
<LI><A NAME="TOC101" HREF="uucp.html#SEC101">UUCP <SAMP>`G'</SAMP> Protocol</A>
<LI><A NAME="TOC102" HREF="uucp.html#SEC102">UUCP <SAMP>`i'</SAMP> Protocol</A>
<LI><A NAME="TOC103" HREF="uucp.html#SEC103">UUCP <SAMP>`j'</SAMP> Protocol</A>
<LI><A NAME="TOC104" HREF="uucp.html#SEC104">UUCP <SAMP>`x'</SAMP> Protocol</A>
<LI><A NAME="TOC105" HREF="uucp.html#SEC105">UUCP <SAMP>`y'</SAMP> Protocol</A>
<LI><A NAME="TOC106" HREF="uucp.html#SEC106">UUCP <SAMP>`d'</SAMP> Protocol</A>
<LI><A NAME="TOC107" HREF="uucp.html#SEC107">UUCP <SAMP>`h'</SAMP> Protocol</A>
<LI><A NAME="TOC108" HREF="uucp.html#SEC108">UUCP <SAMP>`v'</SAMP> Protocol</A>
</UL>
<LI><A NAME="TOC109" HREF="uucp.html#SEC109">Hacking Taylor UUCP</A>
<UL>
<LI><A NAME="TOC110" HREF="uucp.html#SEC110">System Dependence</A>
<LI><A NAME="TOC111" HREF="uucp.html#SEC111">Naming Conventions</A>
<LI><A NAME="TOC112" HREF="uucp.html#SEC112">Patches</A>
</UL>
<LI><A NAME="TOC113" HREF="uucp.html#SEC113">Acknowledgements</A>
<LI><A NAME="TOC114" HREF="uucp.html#SEC114">Concept Index</A>
<LI><A NAME="TOC115" HREF="uucp.html#SEC115">Configuration File Index</A>
</UL>
<P><HR><P>


<H1><A NAME="SEC1" HREF="uucp.html#TOC1">Taylor UUCP Copying Conditions</A></H1>

<P>
This package is covered by the GNU Public License.  See the file
<TT>`COPYING'</TT> for details.  If you would like to do something with this
package that you feel is reasonable, but you feel is prohibited by the
license, contact me to see if we can work it out.


<P>
The rest of this section is some descriptive text from the Free Software
Foundation.


<P>
All the programs, scripts and documents relating to Taylor UUCP are
<EM>free</EM>; this means that everyone is free to use them and free to
redistribute them on a free basis.  The Taylor UUCP-related programs are
not in the public domain; they are copyrighted and there are
restrictions on their distribution, but these restrictions are designed
to permit everything that a good cooperating citizen would want to do.
What is not allowed is to try to prevent others from further sharing any
version of these programs that they might get from you.


<P>
Specifically, we want to make sure that you have the right to give away
copies of the programs that relate to Taylor UUCP, that you receive
source code or else can get it if you want it, that you can change these
programs or use pieces of them in new free programs, and that you know
you can do these things.


<P>
To make sure that everyone has such rights, we have to forbid you to
deprive anyone else of these rights.  For example, if you distribute
copies of the Taylor UUCP related programs, you must give the recipients
all the rights that you have.  You must make sure that they, too,
receive or can get the source code.  And you must tell them their
rights.


<P>
Also, for our own protection, we must make certain that everyone finds
out that there is no warranty for the programs that relate to Taylor
UUCP.  If these programs are modified by someone else and passed on, we
want their recipients to know that what they have is not what we
distributed, so that any problems introduced by others will not reflect
on our reputation.


<P>
The precise conditions of the licenses for the programs currently being
distributed that relate to Taylor UUCP are found in the General Public
Licenses that accompany them.




<H1><A NAME="SEC2" HREF="uucp.html#TOC2">Introduction to Taylor UUCP</A></H1>

<P>
General introductions to UUCP are available, and perhaps one day I will
write one.  In the meantime, here is a very brief one that concentrates
on the programs provided by Taylor UUCP.


<P>
Taylor UUCP is a complete UUCP package.  It is covered by the GNU Public
License, which means that the source code is always available.  It is
composed of several programs; most of the names of these programs are
based on earlier UUCP packages.


<DL COMPACT>

<DT><CODE>uucp</CODE>
<DD>
The <CODE>uucp</CODE> program is used to copy file between systems.  It is
similar to the standard Unix <CODE>cp</CODE> program, except that you can
refer to a file on a remote system by using <SAMP>`system!'</SAMP> before the
file name.  For example, to copy the file <TT>`notes.txt'</TT> to the system
<SAMP>`airs'</SAMP>, you would say <SAMP>`uucp notes.txt airs!~/notes.txt'</SAMP>.  In
this example <SAMP>`~'</SAMP> is used to name the UUCP public directory on
<SAMP>`airs'</SAMP>.  For more details, see section <A HREF="uucp.html#SEC5">Invoking uucp</A>.

<DT><CODE>uux</CODE>
<DD>
The <CODE>uux</CODE> program is used to request the execution of a program on
a remote system.  This is how mail and news are transferred over UUCP.
As with <CODE>uucp</CODE>, programs and files on remote systems may be named
by using <SAMP>`system!'</SAMP>.  For example, to run the <CODE>rnews</CODE> program
on <SAMP>`airs'</SAMP>, passing it standard input, you would say <SAMP>`uux -
airs!rnews'</SAMP>.  The <SAMP>`-'</SAMP> means to read standard input and set things
up such that when <CODE>rnews</CODE> runs on <SAMP>`airs'</SAMP> it will receive the
same standard input.  For more details, see section <A HREF="uucp.html#SEC8">Invoking uux</A>.

</DL>

<P>
Neither <CODE>uucp</CODE> nor <CODE>uux</CODE> actually do any work immediately.
Instead, they queue up requests for later processing.  They then start a
daemon process which processes the requests and calls up the appropriate
systems.  Normally the system will also start the daemon periodically to
check if there is any work to be done.  The advantage of this approach
is that it all happens automatically.  You don't have to sit around
waiting for the files to be transferred.  The disadvantage is that if
anything goes wrong it might be a while before anybody notices.


<DL COMPACT>

<DT><CODE>uustat</CODE>
<DD>
The <CODE>uustat</CODE> program does many things.  By default it will simply
list all the jobs you have queued with <CODE>uucp</CODE> or <CODE>uux</CODE> that
have not yet been processed.  You can use <CODE>uustat</CODE> to remove any of
your jobs from the queue.  You can also it use it to show the status of
the UUCP system in various ways, such as showing the connection status
of all the remote systems your system knows about.  The system
administrator can use <CODE>uustat</CODE> to automatically discard old jobs
while sending mail to the user who requested them.  For more details,
see section <A HREF="uucp.html#SEC12">Invoking uustat</A>.

<DT><CODE>uuname</CODE>
<DD>
The <CODE>uuname</CODE> program by default lists all the remote systems your
system knows about.  You can also use it to get the name of your local
system.  It is mostly useful for shell scripts.  For more details, see
section <A HREF="uucp.html#SEC16">Invoking uuname</A>.

<DT><CODE>uulog</CODE>
<DD>
The <CODE>uulog</CODE> program can be used to display entries in the UUCP log
file.  It can select the entries for a particular system or a particular
user.  You can use it to see what has happened to your queued jobs in
the past.  For more details, see section <A HREF="uucp.html#SEC17">Invoking uulog</A>.

<DT><CODE>uuto</CODE>
<DD>
<DT><CODE>uupick</CODE>
<DD>
<CODE>uuto</CODE> is a simple shell script interface to <CODE>uucp</CODE>.  It will
transfer a file, or the contents of a directory, to a remote system, and
notify a particular user on the remote system when it arrives.  The
remote user can then retrieve the file(s) with <CODE>uupick</CODE>.  For more
details, see section <A HREF="uucp.html#SEC18">Invoking uuto</A>, and see section <A HREF="uucp.html#SEC19">Invoking uupick</A>.

<DT><CODE>cu</CODE>
<DD>
The <CODE>cu</CODE> program can be used to call up another system and
communicate with it as though you were directly connected.  It can also
do simple file transfers, though it does not provide any error checking.
For more details, section <A HREF="uucp.html#SEC20">Invoking cu</A>.

</DL>

<P>
These eight programs just described, <CODE>uucp</CODE>, <CODE>uux</CODE>,
<CODE>uuto</CODE>, <CODE>uupick</CODE>, <CODE>uustat</CODE>, <CODE>uuname</CODE>, <CODE>uulog</CODE>,
and <CODE>cu</CODE> are the user programs provided by Taylor UUCP.
<CODE>uucp</CODE>, <CODE>uux</CODE>, and <CODE>uuto</CODE> add requests to the work queue,
<CODE>uupick</CODE> extracts files from the UUCP public directory,
<CODE>uustat</CODE> examines the work queue, <CODE>uuname</CODE> examines the
configuration files, <CODE>uulog</CODE> examines the log files, and <CODE>cu</CODE>
just uses the UUCP configuration files.


<P>
The real work is actually done by two daemon processes, which are
normally run automatically rather than by a user.


<DL COMPACT>

<DT><CODE>uucico</CODE>
<DD>
The <CODE>uucico</CODE> daemon is the program which actually calls the remote
system and transfers files and requests.  <CODE>uucico</CODE> is normally
started automatically by <CODE>uucp</CODE> and <CODE>uux</CODE>.  Most systems will
also start it periodically to make sure that all work requests are
handled.  <CODE>uucico</CODE> checks the queue to see what work needs to be
done, and then calls the appropriate systems.  If the call fails,
perhaps because the phone line is busy, <CODE>uucico</CODE> leaves the
requests in the queue and goes on to the next system to call.  It is
also possible to force <CODE>uucico</CODE> to call a remote system even if
there is no work to be done for it, so that it can pick up any work that
may be queued up remotely.  For more details, see section <A HREF="uucp.html#SEC25">Invoking uucico</A>.

<DT><CODE>uuxqt</CODE>
<DD>
The <CODE>uuxqt</CODE> daemon processes execution requests made by the
<CODE>uux</CODE> program on remote systems.  It also processes requests made
on the local system which require files from a remote system.  It is
normally started by <CODE>uucico</CODE>.  For more details, see section <A HREF="uucp.html#SEC28">Invoking uuxqt</A>.

</DL>

<P>
Suppose you, on the system <SAMP>`bantam'</SAMP>, want to copy a file to the
system <SAMP>`airs'</SAMP>.  You would run the <CODE>uucp</CODE> command locally, with
a command like <SAMP>`uucp notes.txt airs!~/notes.txt'</SAMP>.  This would queue
up a request on <SAMP>`bantam'</SAMP> for <SAMP>`airs'</SAMP>, and would then start the
<CODE>uucico</CODE> daemon.  <CODE>uucico</CODE> would see that there was a request
for <SAMP>`airs'</SAMP> and attempt to call it.  When the call succeeded,
another copy of <CODE>uucico</CODE> would be started on <SAMP>`airs'</SAMP>.  The two
copies of <CODE>uucico</CODE> would tell each other what they had to do and
transfer the file from <SAMP>`bantam'</SAMP> to <SAMP>`airs'</SAMP>.  When the file
transfer was complete the <CODE>uucico</CODE> on <SAMP>`airs'</SAMP> would move it
into the UUCP public directory.


<P>
UUCP is often used to transfer mail.  This is normally done
automatically by mailer programs.  When <SAMP>`bantam'</SAMP> has a mail message
to send to <SAMP>`ian'</SAMP> at <SAMP>`airs'</SAMP>, it executes <SAMP>`uux - airs!rmail
ian'</SAMP> and writes the mail message to the <CODE>uux</CODE> process as standard
input.  The <CODE>uux</CODE> program, running on <SAMP>`bantam'</SAMP>, will read the
standard input and store it, as well as the <CODE>rmail</CODE> request itself,
on the work queue for <SAMP>`airs'</SAMP>.  <CODE>uux</CODE> will then start the
<CODE>uucico</CODE> daemon.  The <CODE>uucico</CODE> daemon will call up
<SAMP>`airs'</SAMP>, just as in the <CODE>uucp</CODE> example, and transfer the work
request and the mail message.  The <CODE>uucico</CODE> daemon on <SAMP>`airs'</SAMP>
will put the files on a local work queue.  When the communication
session is over, the <CODE>uucico</CODE> daemon on <SAMP>`airs'</SAMP> will start the
<CODE>uuxqt</CODE> daemon.  <CODE>uuxqt</CODE> will see the request on the work
queue, and will run <SAMP>`rmail ian'</SAMP> with the mail message as standard
input.  The <CODE>rmail</CODE> program, which is not part of the UUCP package,
is then responsible for either putting the message in the right mailbox
on <SAMP>`airs'</SAMP> or forwarding the message on to another system.


<P>
Taylor UUCP comes with a few other programs that are useful when
installing and configuring UUCP.


<DL COMPACT>

<DT><CODE>uuchk</CODE>
<DD>
The <CODE>uuchk</CODE> program reads the UUCP configuration files and displays
a rather lengthy description of what it finds.  This is useful when
configuring UUCP to make certain that the UUCP package will do what you
expect it to do.  For more details, see section <A HREF="uucp.html#SEC29">Invoking uuchk</A>.

<DT><CODE>uuconv</CODE>
<DD>
The <CODE>uuconv</CODE> program can be used to convert UUCP configuration
files from one format to another.  This can be useful for administrators
converting from an older UUCP package.  Taylor UUCP is able to read and
use old configuration file formats, but some new features can not be
selected using the old formats.  For more details, see section <A HREF="uucp.html#SEC30">Invoking uuconv</A>.

<DT><CODE>uusched</CODE>
<DD>
The <CODE>uusched</CODE> script is provided for compatibility with older UUCP
releases.  It starts <CODE>uucico</CODE> to call, one at a time, all the
systems for which work has been queued.  For more details, see
section <A HREF="uucp.html#SEC31">Invoking uusched</A>.

<DT><CODE>tstuu</CODE>
<DD>
The <CODE>tstuu</CODE> program is a test harness for the UUCP package; it can
help check that the package has been configured and compiled correctly.
However, it uses pseudo-terminals, which means that it is less portable
than the rest of the package.  If it works, it can be useful when
initially installing Taylor UUCP.  For more details, see section <A HREF="uucp.html#SEC34">Testing the Compilation</A>.

</DL>



<H1><A NAME="SEC3" HREF="uucp.html#TOC3">Invoking the UUCP Programs</A></H1>

<P>
This chapter describes how to run the UUCP programs.




<H2><A NAME="SEC4" HREF="uucp.html#TOC4">Standard Options</A></H2>

<P>
All of the UUCP programs support a few standard options.


<DL COMPACT>

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
Turn on particular debugging types.  The following types are recognized:
<SAMP>`abnormal'</SAMP>, <SAMP>`chat'</SAMP>, <SAMP>`handshake'</SAMP>, <SAMP>`uucp-proto'</SAMP>,
<SAMP>`proto'</SAMP>, <SAMP>`port'</SAMP>, <SAMP>`config'</SAMP>, <SAMP>`spooldir'</SAMP>,
<SAMP>`execute'</SAMP>, <SAMP>`incoming'</SAMP>, <SAMP>`outgoing'</SAMP>.  Not all types of
debugging are effective for all programs.  See the <CODE>debug</CODE>
configuration command for details (see section <A HREF="uucp.html#SEC64">Debugging Levels</A>).

Multiple types may be given, separated by commas, and the <SAMP>`--debug'</SAMP>
option may appear multiple times.  A number may also be given, which
will turn on that many types from the foregoing list; for example,
<SAMP>`--debug 2'</SAMP> is equivalent to <SAMP>`--debug abnormal,chat'</SAMP>.  To turn
on all types of debugging, use <SAMP>`-x all'</SAMP>.

The <CODE>uulog</CODE> program uses <SAMP>`-X'</SAMP> rather than <SAMP>`-x'</SAMP> to select
the debugging type; for <CODE>uulog</CODE>, <SAMP>`-x'</SAMP> has a different meaning,
for reasons of historical compatibility.

<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config file'</SAMP>
<DD>
Set the main configuration file to use.  See section <A HREF="uucp.html#SEC60">The Main Configuration File</A>.  When this
option is used, the programs will revoke any setuid privileges.

<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
Report version information and exit.

<DT><SAMP>`--help'</SAMP>
<DD>
Print a help message and exit.
</DL>



<H2><A NAME="SEC5" HREF="uucp.html#TOC5">Invoking uucp</A></H2>



<H3><A NAME="SEC6" HREF="uucp.html#TOC6">uucp Description</A></H3>


<PRE>
uucp [options] <TT>`source-file'</TT> <TT>`destination-file'</TT>
uucp [options] <TT>`source-file'</TT>... <TT>`destination-directory'</TT>
</PRE>

<P>
The <CODE>uucp</CODE> command copies files between systems.  Each <TT>`file'</TT>
argument is either a file name on the local machine or is of the form
<SAMP>`system!file'</SAMP>.  The latter is interpreted as being on a remote
system.


<P>
When <CODE>uucp</CODE> is used with two non-option arguments, the contents of
the first file are copied to the second.  With more than two non-option
arguments, each source file is copied into the destination directory.


<P>
A file may be transferred to or from <SAMP>`system2'</SAMP> via <SAMP>`system1'</SAMP>
by using <SAMP>`system1!system2!file'</SAMP>.


<P>
Any file name that does not begin with <SAMP>`/'</SAMP> or <SAMP>`~'</SAMP> will be
prepended with the current directory (unless the <SAMP>`-W'</SAMP> or
<SAMP>`--noexpand'</SAMP> options are used).  For example, if you are in the
directory <SAMP>`/home/ian'</SAMP>, then <SAMP>`uucp foo remote!bar'</SAMP> is
equivalent to <SAMP>`uucp /home/ian/foo remote!/home/ian/bar'</SAMP>.  Note that
the resulting file name may not be valid on a remote system.


<P>
A file name beginning with a simple <SAMP>`~'</SAMP> starts at the UUCP public
directory; a file name beginning with <SAMP>`~name'</SAMP> starts at the home
directory of the named user.  The <SAMP>`~'</SAMP> is interpreted on the
appropriate system.  Note that some shells will interpret an initial
<SAMP>`~'</SAMP> before <CODE>uucp</CODE> sees it; to avoid this the <SAMP>`~'</SAMP> must be
quoted.


<P>
The shell metacharacters <SAMP>`?'</SAMP> <SAMP>`*'</SAMP> <SAMP>`['</SAMP> and <SAMP>`]'</SAMP> are
interpreted on the appropriate system, assuming they are quoted to
prevent the shell from interpreting them first.


<P>
The file copy does not take place immediately, but is queued up for the
<CODE>uucico</CODE> daemon; the daemon is started immediately unless the
<SAMP>`-r'</SAMP> or <SAMP>`--nouucico'</SAMP> option is given.  The next time the
remote system is called, the file(s) will be copied.  See section <A HREF="uucp.html#SEC25">Invoking uucico</A>.


<P>
The file mode is not preserved, except for the execute bit.  The
resulting file is owned by the uucp user.




<H3><A NAME="SEC7" HREF="uucp.html#TOC7">uucp Options</A></H3>

<P>
The following options may be given to <CODE>uucp</CODE>.


<DL COMPACT>

<DT><SAMP>`-c'</SAMP>
<DD>
<DT><SAMP>`--nocopy'</SAMP>
<DD>
Do not copy local source files to the spool directory.  If they are
removed before being processed by the <CODE>uucico</CODE> daemon, the copy
will fail.  The files must be readable by the <CODE>uucico</CODE> daemon, and
by the invoking user.

<DT><SAMP>`-C'</SAMP>
<DD>
<DT><SAMP>`--copy'</SAMP>
<DD>
Copy local source files to the spool directory.  This is the default.

<DT><SAMP>`-d'</SAMP>
<DD>
<DT><SAMP>`--directories'</SAMP>
<DD>
Create all necessary directories when doing the copy.  This is the
default.

<DT><SAMP>`-f'</SAMP>
<DD>
<DT><SAMP>`--nodirectories'</SAMP>
<DD>
If any necessary directories do not exist for the destination file name,
abort the copy.

<DT><SAMP>`-R'</SAMP>
<DD>
<DT><SAMP>`--recursive'</SAMP>
<DD>
If any of the source file names are directories, copy their contents
recursively to the destination (which must itself be a directory).

<DT><SAMP>`-g grade'</SAMP>
<DD>
<DT><SAMP>`--grade grade'</SAMP>
<DD>
Set the grade of the file transfer command.  Jobs of a higher grade are
executed first.  Grades run <KBD>0</KBD> to <KBD>9</KBD>, <KBD>A</KBD> to <KBD>Z</KBD>,
<KBD>a</KBD> to <KBD>z</KBD>, from high to low.  See section <A HREF="uucp.html#SEC69">When to Call</A>.

<DT><SAMP>`-m'</SAMP>
<DD>
<DT><SAMP>`--mail'</SAMP>
<DD>
Report completion or failure of the file transfer by sending mail.

<DT><SAMP>`-n user'</SAMP>
<DD>
<DT><SAMP>`--notify user'</SAMP>
<DD>
Report completion or failure of the file transfer by sending mail to the
named user on the destination system.

<DT><SAMP>`-r'</SAMP>
<DD>
<DT><SAMP>`--nouucico'</SAMP>
<DD>
Do not start the <CODE>uucico</CODE> daemon immediately; merely queue up the
file transfer for later execution.

<DT><SAMP>`-j'</SAMP>
<DD>
<DT><SAMP>`--jobid'</SAMP>
<DD>
Print the jobid on standard output.  The job may be later cancelled by
passing this jobid to the <SAMP>`-kill'</SAMP> switch of <CODE>uustat</CODE>.
See section <A HREF="uucp.html#SEC12">Invoking uustat</A>.

It is possible for some complex operations to produce more than one
jobid, in which case each will be printed on a separate line.  For
example

<PRE>
uucp sys1!~user1/file1 sys2!~user2/file2 ~user3
</PRE>

will generate two separate jobs, one for the system <SAMP>`sys1'</SAMP> and one
for the system <SAMP>`sys2'</SAMP>.

<DT><SAMP>`-W'</SAMP>
<DD>
<DT><SAMP>`--noexpand'</SAMP>
<DD>
Do not prepend remote relative file names with the current directory.

<DT><SAMP>`-t'</SAMP>
<DD>
<DT><SAMP>`--uuto'</SAMP>
<DD>
This option is used by the <CODE>uuto</CODE> shell script; see section <A HREF="uucp.html#SEC18">Invoking uuto</A>.  It causes <CODE>uucp</CODE> to interpret the final argument as
<SAMP>`system!user'</SAMP>.  The file(s) are sent to
<SAMP>`~/receive/<VAR>user</VAR>/<VAR>local</VAR>'</SAMP> on the remote system, where
<VAR>user</VAR> is from the final argument and <VAR>local</VAR> is the local UUCP
system name.  Also, <CODE>uucp</CODE> will act as though <SAMP>`--notify user'</SAMP>
were specified.

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config file'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.
</DL>



<H2><A NAME="SEC8" HREF="uucp.html#TOC8">Invoking uux</A></H2>



<H3><A NAME="SEC9" HREF="uucp.html#TOC9">uux Description</A></H3>


<PRE>
uux [options] command
</PRE>

<P>
The <CODE>uux</CODE> command is used to execute a command on a remote system,
or to execute a command on the local system using files from remote
systems.  The command is not executed immediately; the request is queued
until the <CODE>uucico</CODE> daemon calls the system and transfers the
necessary files.  The daemon is started automatically unless one of the
<SAMP>`-r'</SAMP> or <SAMP>`--nouucico'</SAMP> options is given.


<P>
The actual command execution is done by the <CODE>uuxqt</CODE> daemon on the
appropriate system.


<P>
File arguments can be gathered from remote systems to the execution
system, as can standard input.  Standard output may be directed to a
file on a remote system.


<P>
The command name may be preceded by a system name followed by an
exclamation point if it is to be executed on a remote system.  An empty
system name is taken as the local system.


<P>
Each argument that contains an exclamation point is treated as naming a
file.  The system which the file is on is before the exclamation point,
and the file name on that system follows it.  An empty system name is
taken as the local system; this form must be used to transfer a file to
a command being executed on a remote system.  If the file name is not
absolute, the current working directory will be prepended to it; the
result may not be meaningful on the remote system.  A file name may
begin with <SAMP>`~/'</SAMP>, in which case it is relative to the UUCP public
directory on the appropriate system.  A file name may begin with
<SAMP>`~name/'</SAMP>, in which case it is relative to the home directory of the
named user on the appropriate system.


<P>
Standard input and output may be redirected as usual; the file names
used may contain exclamation points to indicate that they are on remote
systems.  Note that the redirection characters must be quoted so that
they are passed to <CODE>uux</CODE> rather than interpreted by the shell.
Append redirection (<SAMP>`&#62;&#62;'</SAMP>) does not work.


<P>
All specified files are gathered together into a single directory
before execution of the command begins.  This means that each file
must have a distinct name.  For example,

<PRE>
uux 'sys1!diff sys2!~user1/foo sys3!~user2/foo &#62;!foo.diff'
</PRE>

<P>
will fail because both files will be copied to <SAMP>`sys1'</SAMP> and stored
under the name <TT>`foo'</TT>.


<P>
Arguments may be quoted by parentheses to avoid interpretation of
exclamation points.  This is useful when executing the <CODE>uucp</CODE>
command on a remote system.


<P>
Most systems restrict the commands which may be executed using
<SAMP>`uux'</SAMP>.  Many permit only the execution of <SAMP>`rmail'</SAMP> and
<SAMP>`rnews'</SAMP>.


<P>
A request to execute an empty command (e.g., <SAMP>`uux sys!'</SAMP>) will
create a poll file for the specified system; see section <A HREF="uucp.html#SEC39">Calling Other Systems</A> for an example of why this might be useful.




<H3><A NAME="SEC10" HREF="uucp.html#TOC10">uux Options</A></H3>

<P>
The following options may be given to <CODE>uux</CODE>.


<DL COMPACT>

<DT><SAMP>`-'</SAMP>
<DD>
<DT><SAMP>`-p'</SAMP>
<DD>
<DT><SAMP>`--stdin'</SAMP>
<DD>
Read standard input up to end of file, and use it as the standard input
for the command to be executed.

<DT><SAMP>`-c'</SAMP>
<DD>
<DT><SAMP>`--nocopy'</SAMP>
<DD>
Do not copy local files to the spool directory.  This is the default.
If they are removed before being processed by the <CODE>uucico</CODE> daemon,
the copy will fail.  The files must be readable by the <CODE>uucico</CODE>
daemon, as well as the by the invoker of <CODE>uux</CODE>.

<DT><SAMP>`-C'</SAMP>
<DD>
<DT><SAMP>`--copy'</SAMP>
<DD>
Copy local files to the spool directory.

<DT><SAMP>`-l'</SAMP>
<DD>
<DT><SAMP>`--link'</SAMP>
<DD>
Link local files into the spool directory.  If a file can not be linked
because it is on a different device, it will be copied unless one of the
<SAMP>`-c'</SAMP> or <SAMP>`--nocopy'</SAMP> options also appears (in other words, use
of <SAMP>`--link'</SAMP> switches the default from <SAMP>`--nocopy'</SAMP> to
<SAMP>`--copy'</SAMP>).  If the files are changed before being processed by the
<CODE>uucico</CODE> daemon, the changed versions will be used.  The files must
be readable by the <CODE>uucico</CODE> daemon, as well as by the invoker of
<CODE>uux</CODE>.

<DT><SAMP>`-g grade'</SAMP>
<DD>
<DT><SAMP>`--grade grade'</SAMP>
<DD>
Set the grade of the file transfer command.  Jobs of a higher grade are
executed first.  Grades run <KBD>0</KBD> to <KBD>9</KBD>, <KBD>A</KBD> to <KBD>Z</KBD>,
<KBD>a</KBD> to <KBD>z</KBD>, from high to low.  See section <A HREF="uucp.html#SEC69">When to Call</A>.

<DT><SAMP>`-n'</SAMP>
<DD>
<DT><SAMP>`--notification=no'</SAMP>
<DD>
Do not send mail about the status of the job, even if it fails.

<DT><SAMP>`-z'</SAMP>
<DD>
<DT><SAMP>`--notification=error'</SAMP>
<DD>
Send mail about the status of the job if an error occurs.  For many
<CODE>uuxqt</CODE> daemons, including the Taylor UUCP <CODE>uuxqt</CODE>, this is
the default action; for those, <SAMP>`--notification=error'</SAMP> will have no
effect.  However, some <CODE>uuxqt</CODE> daemons will send mail if the job
succeeds, unless the <SAMP>`--notification=error'</SAMP> option is used.  Some
other <CODE>uuxqt</CODE> daemons will not send mail even if the job fails,
unless the <SAMP>`--notification=error'</SAMP> option is used.

<DT><SAMP>`-a address'</SAMP>
<DD>
<DT><SAMP>`--requestor address'</SAMP>
<DD>
Report job status, as controlled by the <SAMP>`--notification'</SAMP> option, to
the specified mail address.

<DT><SAMP>`-r'</SAMP>
<DD>
<DT><SAMP>`--nouucico'</SAMP>
<DD>
Do not start the <CODE>uucico</CODE> daemon immediately; merely queue up the
execution request for later processing.

<DT><SAMP>`-j'</SAMP>
<DD>
<DT><SAMP>`--jobid'</SAMP>
<DD>
Print the jobid on standard output.  A jobid will be generated for each
file copy operation required to execute the command.  These file copies
may be later cancelled by passing the jobid to the <SAMP>`-kill'</SAMP> switch
of <CODE>uustat</CODE>.  See section <A HREF="uucp.html#SEC12">Invoking uustat</A>.  Cancelling any file copies
will make it impossible to complete execution of the job.

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.
</DL>



<H3><A NAME="SEC11" HREF="uucp.html#TOC11">uux Examples</A></H3>

<P>
Here are some examples of using <CODE>uux</CODE>.



<PRE>
uux -z - sys1!rmail user1
</PRE>

<P>
This will execute the command <SAMP>`rmail user1'</SAMP> on the system
<SAMP>`sys1'</SAMP>, giving it as standard input whatever is given to <CODE>uux</CODE>
as standard input.  If a failure occurs, mail will be sent to the user
who ran the command.



<PRE>
uux 'diff -c sys1!~user1/file1 sys2!~user2/file2 &#62;!file.diff'
</PRE>

<P>
This will fetch the two named files from system <SAMP>`sys1'</SAMP> and system
<SAMP>`sys2'</SAMP> and execute <SAMP>`diff'</SAMP>, putting the result in
<TT>`file.diff'</TT> in the current directory on the local system.  The
current directory must be writable by the <CODE>uuxqt</CODE> daemon for this
to work.



<PRE>
uux 'sys1!uucp ~user1/file1 (sys2!~user2/file2)'
</PRE>

<P>
Execute <CODE>uucp</CODE> on the system <SAMP>`sys1'</SAMP> copying <TT>`file1'</TT> (on
system <SAMP>`sys1'</SAMP>) to <SAMP>`sys2'</SAMP>.  This illustrates the use of
parentheses for quoting.




<H2><A NAME="SEC12" HREF="uucp.html#TOC12">Invoking uustat</A></H2>



<H3><A NAME="SEC13" HREF="uucp.html#TOC13">uustat Description</A></H3>


<PRE>
uustat -a
uustat --all
uustat [-eKRiMNQ] [-sS system] [-uU user] [-cC command] [-oy hours]
       [-B lines] [--executions] [--kill-all] [--rejuvenate-all]
       [--prompt] [--mail] [--notify] [--no-list] [--system system]
       [--not-system system] [--user user] [--not-user user]
       [--command command] [--not-command command] [--older-than hours]
       [--younger-than hours] [--mail-lines lines]
uustat [-kr jobid] [--kill jobid] [--rejuvenate jobid]
uustat -q [-sS system] [-oy hours] [--system system]
       [--not-system system ] [--older-than hours] [--younger-than hours]
uustat --list [-sS system] [-oy hours] [--system system ]
       [--not-system system] [--older-than hours] [--younger-than hours]
uustat -m
uustat --status
uustat -p
uustat --ps
</PRE>

<P>
The <CODE>uustat</CODE> command can display various types of status
information about the UUCP system.  It can also be used to cancel or
rejuvenate requests made by <CODE>uucp</CODE> or <CODE>uux</CODE>.


<P>
With no options, <CODE>uustat</CODE> displays all jobs queued up for the
invoking user, as if given the <SAMP>`--user'</SAMP> option with the appropriate
argument.


<P>
If any of the <SAMP>`-a'</SAMP>, <SAMP>`--all'</SAMP>, <SAMP>`-e'</SAMP>, <SAMP>`--executions'</SAMP>,
<SAMP>`-s'</SAMP>, <SAMP>`--system'</SAMP>, <SAMP>`-S'</SAMP>, <SAMP>`--not-system'</SAMP>, <SAMP>`-u'</SAMP>,
<SAMP>`--user'</SAMP>, <SAMP>`-U'</SAMP>, <SAMP>`--not-user'</SAMP>, <SAMP>`-c'</SAMP>,
<SAMP>`--command'</SAMP>, <SAMP>`-C'</SAMP>, <SAMP>`--not-command'</SAMP>, <SAMP>`-o'</SAMP>,
<SAMP>`--older-than'</SAMP>, <SAMP>`-y'</SAMP>, or <SAMP>`--younger-than'</SAMP> options are
given, then all jobs which match the combined specifications are
displayed.


<P>
The <SAMP>`-K'</SAMP> or <SAMP>`--kill-all'</SAMP> option may be used to kill off a
selected group of jobs, such as all jobs more than 7 days old.




<H3><A NAME="SEC14" HREF="uucp.html#TOC14">uustat Options</A></H3>

<P>
The following options may be given to <CODE>uustat</CODE>.


<DL COMPACT>

<DT><SAMP>`-a'</SAMP>
<DD>
<DT><SAMP>`--all'</SAMP>
<DD>
List all queued file transfer requests.

<DT><SAMP>`-e'</SAMP>
<DD>
<DT><SAMP>`--executions'</SAMP>
<DD>
List queued execution requests rather than queued file transfer
requests.  Queued execution requests are processed by <CODE>uuxqt</CODE>
rather than <CODE>uucico</CODE>.  Queued execution requests may be waiting for
some file to be transferred from a remote system.  They are created by
an invocation of <CODE>uux</CODE>.

<DT><SAMP>`-s system'</SAMP>
<DD>
<DT><SAMP>`--system system'</SAMP>
<DD>
List all jobs queued up for the named system.  These options may be
specified multiple times, in which case all jobs for all the named
systems will be listed.  If used with <SAMP>`--list'</SAMP>, only the systems
named will be listed.

<DT><SAMP>`-S system'</SAMP>
<DD>
<DT><SAMP>`--not-system system'</SAMP>
<DD>
List all jobs queued for systems other than the one named.  These
options may be specified multiple times, in which case no jobs from any
of the specified systems will be listed.  If used with <SAMP>`--list'</SAMP>,
only the systems not named will be listed.  These options may not be
used with <SAMP>`-s'</SAMP> or <SAMP>`--system'</SAMP>.

<DT><SAMP>`-u user'</SAMP>
<DD>
<DT><SAMP>`--user user'</SAMP>
<DD>
List all jobs queued up for the named user.  These options may be
specified multiple times, in which case all jobs for all the named users
will be listed.

<DT><SAMP>`-U user'</SAMP>
<DD>
<DT><SAMP>`--not-user user'</SAMP>
<DD>
List all jobs queued up for users other than the one named.  These
options may be specified multiple times, in which case no jobs from any
of the specified users will be listed.  These options may not be used
with <SAMP>`-u'</SAMP> or <SAMP>`--user'</SAMP>.

<DT><SAMP>`-c command'</SAMP>
<DD>
<DT><SAMP>`--command command'</SAMP>
<DD>
List all jobs requesting the execution of the named command.  If
<SAMP>`command'</SAMP> is <SAMP>`ALL'</SAMP> this will list all jobs requesting the
execution of some command (as opposed to simply requesting a file
transfer).  These options may be specified multiple times, in which case
all jobs requesting any of the commands will be listed.

<DT><SAMP>`-C command'</SAMP>
<DD>
<DT><SAMP>`--not-command command'</SAMP>
<DD>
List all jobs requesting execution of some command other than the named
command, or, if <SAMP>`command'</SAMP> is <SAMP>`ALL'</SAMP>, list all jobs that simply
request a file transfer (as opposed to requesting the execution of some
command).  These options may be specified multiple times, in which case
no job requesting one of the specified commands will be listed.  These
options may not be used with <SAMP>`-c'</SAMP> or <SAMP>`--command'</SAMP>.

<DT><SAMP>`-o hours'</SAMP>
<DD>
<DT><SAMP>`--older-than hours'</SAMP>
<DD>
List all queued jobs older than the given number of hours.  If used with
<SAMP>`--list'</SAMP>, only systems whose oldest job is older than the given
number of hours will be listed.

<DT><SAMP>`-y hours'</SAMP>
<DD>
<DT><SAMP>`--younger-than hours'</SAMP>
<DD>
List all queued jobs younger than the given number of hours.  If used
with <SAMP>`--list'</SAMP>, only systems whose oldest job is younger than the
given number of hours will be listed.

<DT><SAMP>`-k jobid'</SAMP>
<DD>
<DT><SAMP>`--kill jobid'</SAMP>
<DD>
Kill the named job.  The job id is shown by the default output format,
as well as by the <SAMP>`-j'</SAMP> or <SAMP>`--jobid'</SAMP> options to <CODE>uucp</CODE> or
<CODE>uux</CODE>.  A job may only be killed by the user who created the job,
or by the UUCP administrator, or the superuser.  The <SAMP>`-k'</SAMP> or
<SAMP>`--kill'</SAMP> options may be used multiple times on the command line to
kill several jobs.

<DT><SAMP>`-r jobid'</SAMP>
<DD>
<DT><SAMP>`--rejuvenate jobid'</SAMP>
<DD>
Rejuvenate the named job.  This will mark it as having been invoked at
the current time, affecting the output of the <SAMP>`-o'</SAMP>,
<SAMP>`--older-than'</SAMP>, <SAMP>`-y'</SAMP>, or <SAMP>`--younger-than'</SAMP> options,
possibly preserving it from any automated cleanup daemon.  The job id is
shown by the default output format, as well as by the <SAMP>`-j'</SAMP> or
<SAMP>`--jobid'</SAMP> options to <CODE>uucp</CODE> or <CODE>uux</CODE>.  A job may only be
rejuvenated by the user who created the job, or by the UUCP
administrator, or the superuser.  The <SAMP>`-r'</SAMP> or <SAMP>`--rejuvenate'</SAMP>
options may be used multiple times on the command line to rejuvenate
several jobs.

<DT><SAMP>`-q'</SAMP>
<DD>
<DT><SAMP>`--list'</SAMP>
<DD>
Display the status of commands, executions and conversations for all
remote systems for which commands or executions are queued.  The
<SAMP>`-s'</SAMP>, <SAMP>`--system'</SAMP>, <SAMP>`-S'</SAMP>, <SAMP>`--not-system'</SAMP>, <SAMP>`-o'</SAMP>,
<SAMP>`--older-than'</SAMP>, <SAMP>`-y'</SAMP>, and <SAMP>`--younger-than'</SAMP> options may be
used to restrict the systems which are listed.  Systems for which no
commands or executions are queued will never be listed.

<DT><SAMP>`-m'</SAMP>
<DD>
<DT><SAMP>`--status'</SAMP>
<DD>
Display the status of conversations for all remote systems.

<DT><SAMP>`-p'</SAMP>
<DD>
<DT><SAMP>`--ps'</SAMP>
<DD>
Display the status of all processes holding UUCP locks on systems or
ports.

<DT><SAMP>`-i'</SAMP>
<DD>
<DT><SAMP>`--prompt'</SAMP>
<DD>
For each listed job, prompt whether to kill the job or not.  If the
first character of the input line is <KBD>y</KBD> or <KBD>Y</KBD>, the job will be
killed.

<DT><SAMP>`-K'</SAMP>
<DD>
<DT><SAMP>`--kill-all'</SAMP>
<DD>
Automatically kill each listed job.  This can be useful for automatic
cleanup scripts, in conjunction with the <SAMP>`--mail'</SAMP> and
<SAMP>`--notify'</SAMP> options.

<DT><SAMP>`-R'</SAMP>
<DD>
<DT><SAMP>`--rejuvenate-all'</SAMP>
<DD>
Automatically rejuvenate each listed job.  This may not be used with
<SAMP>`--kill-all'</SAMP>.

<DT><SAMP>`-M'</SAMP>
<DD>
<DT><SAMP>`--mail'</SAMP>
<DD>
For each listed job, send mail to the UUCP administrator.  If the job is
killed (due to <SAMP>`--kill-all'</SAMP>, or <SAMP>`--prompt'</SAMP> with an affirmative
response) the mail will indicate that.  A comment specified by the
<SAMP>`--comment'</SAMP> option may be included.  If the job is an execution,
the initial portion of its standard input will be included in the mail
message; the number of lines to include may be set with the
<SAMP>`--mail-lines'</SAMP> option (the default is 100).  If the standard input
contains null characters, it is assumed to be a binary file and is not
included.

<DT><SAMP>`-N'</SAMP>
<DD>
<DT><SAMP>`--notify'</SAMP>
<DD>
For each listed job, send mail to the user who requested the job.  The
mail is identical to that sent by the <SAMP>`-M'</SAMP> or <SAMP>`--mail'</SAMP>
options.

<DT><SAMP>`-W comment'</SAMP>
<DD>
<DT><SAMP>`--comment comment'</SAMP>
<DD>
Specify a comment to be included in mail sent with the <SAMP>`-M'</SAMP>,
<SAMP>`--mail'</SAMP>, <SAMP>`-N'</SAMP>, or <SAMP>`--notify'</SAMP> options.

<DT><SAMP>`-B lines'</SAMP>
<DD>
<DT><SAMP>`--mail-lines lines'</SAMP>
<DD>
When the <SAMP>`-M'</SAMP>, <SAMP>`--mail'</SAMP>, <SAMP>`-N'</SAMP>, or <SAMP>`--notify'</SAMP> options
are used to send mail about an execution with standard input, this
option controls the number of lines of standard input to include in the
message.  The default is 100.

<DT><SAMP>`-Q'</SAMP>
<DD>
<DT><SAMP>`--no-list'</SAMP>
<DD>
Do not actually list the job, but only take any actions indicated by the
<SAMP>`-i'</SAMP>, <SAMP>`--prompt'</SAMP>, <SAMP>`-K'</SAMP>, <SAMP>`--kill-all'</SAMP>, <SAMP>`-M'</SAMP>,
<SAMP>`--mail'</SAMP>, <SAMP>`-N'</SAMP> or <SAMP>`--notify'</SAMP> options.

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config file'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.
</DL>



<H3><A NAME="SEC15" HREF="uucp.html#TOC15">uustat Examples</A></H3>


<PRE>
uustat --all
</PRE>

<P>
Display status of all jobs.  A sample output line is as follows:

<PRE>
bugsA027h bugs ian 04-01 13:50 Executing rmail ian@airs.com (sending 12 bytes)
</PRE>

<P>
The format is

<PRE>
jobid system user queue-date command (size)
</PRE>

<P>
The jobid may be passed to the <SAMP>`--kill'</SAMP> or <SAMP>`--rejuvenate'</SAMP>
options.  The size indicates how much data is to be transferred to the
remote system, and is absent for a file receive request.  The
<SAMP>`--system'</SAMP>, <SAMP>`--not-system'</SAMP>, <SAMP>`--user'</SAMP>, <SAMP>`--not-user'</SAMP>,
<SAMP>`--command'</SAMP>, <SAMP>`--not-command'</SAMP>, <SAMP>`--older-than'</SAMP>, and
<SAMP>`--younger-than'</SAMP> options may be used to control which jobs are
listed.



<PRE>
uustat --executions
</PRE>

<P>
Display status of queued up execution requests.  A sample output line
is as follows:

<PRE>
bugs bugs!ian 05-20 12:51 rmail ian
</PRE>

<P>
The format is

<PRE>
system requestor queue-date command
</PRE>

<P>
The <SAMP>`--system'</SAMP>, <SAMP>`--not-system'</SAMP>, <SAMP>`--user'</SAMP>,
<SAMP>`--not-user'</SAMP>, <SAMP>`--command'</SAMP>, <SAMP>`--not-command'</SAMP>,
<SAMP>`--older-than'</SAMP>, and <SAMP>`--younger-than'</SAMP> options may be used to
control which requests are listed.



<PRE>
uustat --list
</PRE>

<P>
Display status for all systems with queued up commands.  A sample
output line is as follows:

<PRE>
bugs            4C (1 hour)   0X (0 secs) 04-01 14:45 Dial failed
</PRE>

<P>
This indicates the system, the number of queued commands, the age of the
oldest queued command, the number of queued local executions, the age of
the oldest queued execution, the date of the last conversation, and the
status of that conversation.



<PRE>
uustat --status
</PRE>

<P>
Display conversation status for all remote systems.  A sample output
line is as follows:

<PRE>
bugs           04-01 15:51 Conversation complete
</PRE>

<P>
This indicates the system, the date of the last conversation, and the
status of that conversation.  If the last conversation failed,
<CODE>uustat</CODE> will indicate how many attempts have been made to call the
system.  If the retry period is currently preventing calls to that
system, <CODE>uustat</CODE> also displays the time when the next call will be
permitted.



<PRE>
uustat --ps
</PRE>

<P>
Display the status of all processes holding UUCP locks.  The output
format is system dependent, as <CODE>uustat</CODE> simply invokes <CODE>ps</CODE> on
each process holding a lock.



<PRE>
uustat -c rmail -o 168 -K -Q -M -N -W "Queued for over 1 week"
</PRE>

<P>
This will kill all <SAMP>`rmail'</SAMP> commands that have been queued up
waiting for delivery for over 1 week (168 hours).  For each such
command, mail will be sent both to the UUCP administrator and to the
user who requested the rmail execution.  The mail message sent will
include the string given by the <SAMP>`-W'</SAMP> option.  The <SAMP>`-Q'</SAMP> option
prevents any of the jobs from being listed on the terminal, so any
output from the program will be error messages.




<H2><A NAME="SEC16" HREF="uucp.html#TOC16">Invoking uuname</A></H2>


<PRE>
uuname [-a] [--aliases]
uuname -l
uuname --local
</PRE>

<P>
By default, the <CODE>uuname</CODE> program simply lists the names of all the
remote systems mentioned in the UUCP configuration files.


<P>
The <CODE>uuname</CODE> program may also be used to print the UUCP name of the
local system.


<P>
The <CODE>uuname</CODE> program is mainly for use by shell scripts.


<P>
The following options may be given to <CODE>uuname</CODE>.


<DL COMPACT>

<DT><SAMP>`-a'</SAMP>
<DD>
<DT><SAMP>`--aliases'</SAMP>
<DD>
List all aliases for remote systems, as well as their canonical names.
Aliases may be specified in the <TT>`sys'</TT> file (see section <A HREF="uucp.html#SEC67">Naming the System</A>).

<DT><SAMP>`-l'</SAMP>
<DD>
<DT><SAMP>`--local'</SAMP>
<DD>
Print the UUCP name of the local system, rather than listing the names
of all the remote systems.

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config file'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.
</DL>



<H2><A NAME="SEC17" HREF="uucp.html#TOC17">Invoking uulog</A></H2>


<PRE>
uulog [-#] [-n lines] [-sf system] [-u user] [-DSF] [--lines lines]
      [--system system] [--user user] [--debuglog] [--statslog]
      [--follow] [--follow=system]
</PRE>

<P>
The <CODE>uulog</CODE> program may be used to display the UUCP log file.
Different options may be used to select which parts of the file to
display.


<DL COMPACT>

<DT><SAMP>`-#'</SAMP>
<DD>
<DT><SAMP>`-n lines'</SAMP>
<DD>
<DT><SAMP>`--lines lines'</SAMP>
<DD>
Here <SAMP>`#'</SAMP> is a number; e.g., <SAMP>`-10'</SAMP>.  The specified number of
lines is displayed from the end of the log file.  The default is to
display the entire log file, unless the <SAMP>`-f'</SAMP>, <SAMP>`-F'</SAMP>, or
<SAMP>`--follow'</SAMP> options are used, in which case the default is to
display 10 lines.

<DT><SAMP>`-s system'</SAMP>
<DD>
<DT><SAMP>`--system system'</SAMP>
<DD>
Display only log entries pertaining to the specified system.

<DT><SAMP>`-u user'</SAMP>
<DD>
<DT><SAMP>`--user user'</SAMP>
<DD>
Display only log entries pertaining to the specified user.

<DT><SAMP>`-D'</SAMP>
<DD>
<DT><SAMP>`--debuglog'</SAMP>
<DD>
Display the debugging log file.

<DT><SAMP>`-S'</SAMP>
<DD>
<DT><SAMP>`--statslog'</SAMP>
<DD>
Display the statistics log file.

<DT><SAMP>`-F'</SAMP>
<DD>
<DT><SAMP>`--follow'</SAMP>
<DD>
Keep displaying the log file forever, printing new lines as they are
appended to the log file.

<DT><SAMP>`-f system'</SAMP>
<DD>
<DT><SAMP>`--follow=system'</SAMP>
<DD>
Keep displaying the log file forever, displaying only log entries
pertaining to the specified system.

<DT><SAMP>`-X type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config file'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.  Note that <CODE>uulog</CODE> specifies the debugging
type using <SAMP>`-X'</SAMP> rather than the usual <SAMP>`-x'</SAMP>.
</DL>

<P>
The operation of <CODE>uulog</CODE> depends to some degree upon the type of
log files generated by the UUCP programs.  This is a compile time
option.  If the UUCP programs have been compiled to use HDB style log
files, <CODE>uulog</CODE> changes in the following ways:



<UL>
<LI>

The new options <SAMP>`-x'</SAMP> and <SAMP>`--uuxqtlog'</SAMP> may be used to list the
<CODE>uuxqt</CODE> log file.

<LI>

It is no longer possible to omit all arguments: one of <SAMP>`-s'</SAMP>,
<SAMP>`--system'</SAMP>, <SAMP>`-f'</SAMP>, <SAMP>`--follow=system'</SAMP>, <SAMP>`-D'</SAMP>,
<SAMP>`--debuglog'</SAMP>, <SAMP>`-S'</SAMP>, <SAMP>`--statslog'</SAMP>, <SAMP>`-x'</SAMP>, or
<SAMP>`--uuxqtlog'</SAMP> must be used.

<LI>

The option <SAMP>`--system ANY'</SAMP> may be used to list log file entries
which do not pertain to any particular system.
</UL>



<H2><A NAME="SEC18" HREF="uucp.html#TOC18">Invoking uuto</A></H2>


<PRE>
uuto files... system!user
</PRE>

<P>
The <CODE>uuto</CODE> program may be used to conveniently send files to a
particular user on a remote system.  It will arrange for mail to be sent
to the remote user when the files arrive on the remote system, and he or
she may easily retrieve the files using the <CODE>uupick</CODE> program
(see section <A HREF="uucp.html#SEC19">Invoking uupick</A>).  Note that <CODE>uuto</CODE> does not provide any
security--any user on the remote system can examine the files.


<P>
The last argument specifies the system and user name to which to send
the files.  The other arguments are the files or directories to be sent.


<P>
The <CODE>uuto</CODE> program is actually just a trivial shell script which
invokes the <CODE>uucp</CODE> program with the appropriate arguments.  Any
option which may be given to <CODE>uucp</CODE> may also be given to
<CODE>uuto</CODE>.  See section <A HREF="uucp.html#SEC5">Invoking uucp</A>.




<H2><A NAME="SEC19" HREF="uucp.html#TOC19">Invoking uupick</A></H2>


<PRE>
uupick [-s system] [--system system]
</PRE>

<P>
The <CODE>uupick</CODE> program is used to conveniently retrieve files
transferred by the <CODE>uuto</CODE> program.


<P>
For each file transferred by <CODE>uuto</CODE>, <CODE>uupick</CODE> will display the
source system, the file name, and whether the name refers to a regular
file or a directory.  It will then wait for the user to specify an
action to take.  One of the following commands must be entered:


<DL COMPACT>

<DT><SAMP>`q'</SAMP>
<DD>
Quit out of <CODE>uupick</CODE>.

<DT><SAMP>`RETURN'</SAMP>
<DD>
Skip the file.

<DT><SAMP>`m [directory]'</SAMP>
<DD>
Move the file or directory to the specified directory.  If no directory
is specified, the file is moved to the current directory.

<DT><SAMP>`a [directory]'</SAMP>
<DD>
Move all files from this system to the specified directory.  If no
directory is specified, the files are moved to the current directory.

<DT><SAMP>`p'</SAMP>
<DD>
List the file on standard output.

<DT><SAMP>`d'</SAMP>
<DD>
Delete the file.

<DT><SAMP>`! [command]'</SAMP>
<DD>
Execute <SAMP>`command'</SAMP> as a shell escape.
</DL>

<P>
The <SAMP>`-s'</SAMP> or <SAMP>`--system'</SAMP> option may be used to restrict
<CODE>uupick</CODE> to only present files transferred from a particular
system.  The <CODE>uupick</CODE> program also supports the standard UUCP
program options; see section <A HREF="uucp.html#SEC4">Standard Options</A>.




<H2><A NAME="SEC20" HREF="uucp.html#TOC20">Invoking cu</A></H2>



<H3><A NAME="SEC21" HREF="uucp.html#TOC21">cu Description</A></H3>


<PRE>
cu [options] [system | phone | "dir"]
</PRE>

<P>
The <CODE>cu</CODE> program is used to call up another system and act as a
dial in terminal.  It can also do simple file transfers with no error
checking.


<P>
The <CODE>cu</CODE> program takes a single non-option argument.


<P>
If the argument is the string <SAMP>`dir'</SAMP> cu will make a direct
connection to the port.  This may only be used by users with write
access to the port, as it permits reprogramming the modem.


<P>
Otherwise, if the argument begins with a digit, it is taken to be a
phone number to call.


<P>
Otherwise, it is taken to be the name of a system to call.


<P>
The <SAMP>`-z'</SAMP> or <SAMP>`--system'</SAMP> options may be used to name a system
beginning with a digit, and the <SAMP>`-c'</SAMP> or <SAMP>`--phone'</SAMP> options may
be used to name a phone number that does not begin with a digit.


<P>
The <CODE>cu</CODE> program locates a port to use in the UUCP configuration
files.  If a simple system name is given, it will select a port
appropriate for that system.  The <SAMP>`-p'</SAMP>, <SAMP>`--port'</SAMP>, <SAMP>`-l'</SAMP>,
<SAMP>`--line'</SAMP>, <SAMP>`-s'</SAMP>, and <SAMP>`--speed'</SAMP> options may be used to
control the port selection.


<P>
When a connection is made to the remote system, <CODE>cu</CODE> forks into two
processes.  One reads from the port and writes to the terminal, while
the other reads from the terminal and writes to the port.




<H3><A NAME="SEC22" HREF="uucp.html#TOC22">cu Commands</A></H3>

<P>
The <CODE>cu</CODE> program provides several commands that may be used during
the conversation.  The commands all begin with an escape character,
which by default is <KBD>~</KBD> (tilde).  The escape character is only
recognized at the beginning of a line.  To send an escape character to
the remote system at the start of a line, it must be entered twice.  All
commands are either a single character or a word beginning with <KBD>%</KBD>
(percent sign).


<P>
The <CODE>cu</CODE> program recognizes the following commands.


<DL COMPACT>

<DT><SAMP>`~.'</SAMP>
<DD>
Terminate the conversation.

<DT><SAMP>`~! command'</SAMP>
<DD>
Run command in a shell.  If command is empty, starts up a shell.

<DT><SAMP>`~$ command'</SAMP>
<DD>
Run command, sending the standard output to the remote system.

<DT><SAMP>`~| command'</SAMP>
<DD>
Run command, taking the standard input from the remote system.

<DT><SAMP>`~+ command'</SAMP>
<DD>
Run command, taking the standard input from the remote system and
sending the standard output to the remote system.

<DT><SAMP>`~#, ~%break'</SAMP>
<DD>
Send a break signal, if possible.

<DT><SAMP>`~c directory, ~%cd directory'</SAMP>
<DD>
Change the local directory.

<DT><SAMP>`~&#62; file'</SAMP>
<DD>
Send a file to the remote system.  This just dumps the file over the
communication line.  It is assumed that the remote system is expecting
it.

<DT><SAMP>`~&#60;'</SAMP>
<DD>
Receive a file from the remote system.  This prompts for the local file
name and for the remote command to execute to begin the file transfer.
It continues accepting data until the contents of the <SAMP>`eofread'</SAMP>
variable are seen.

<DT><SAMP>`~p from to'</SAMP>
<DD>
<DT><SAMP>`~%put from to'</SAMP>
<DD>
Send a file to a remote Unix system.  This runs the appropriate
commands on the remote system.

<DT><SAMP>`~t from to'</SAMP>
<DD>
<DT><SAMP>`~%take from to'</SAMP>
<DD>
Retrieve a file from a remote Unix system.  This runs the appropriate
commands on the remote system.

<DT><SAMP>`~s variable value'</SAMP>
<DD>
Set a <CODE>cu</CODE> variable to the given value.  If value is not given, the
variable is set to <SAMP>`true'</SAMP>.

<DT><SAMP>`~! variable'</SAMP>
<DD>
Set a <CODE>cu</CODE> variable to <SAMP>`false'</SAMP>.

<DT><SAMP>`~z'</SAMP>
<DD>
Suspend the cu session.  This is only supported on some systems.  On
systems for which <KBD>^Z</KBD> may be used to suspend a job, <SAMP>`~^Z'</SAMP> will
also suspend the session.

<DT><SAMP>`~%nostop'</SAMP>
<DD>
Turn off XON/XOFF handling.

<DT><SAMP>`~%stop'</SAMP>
<DD>
Turn on XON/XOFF handling.

<DT><SAMP>`~v'</SAMP>
<DD>
List all the variables and their values.

<DT><SAMP>`~?'</SAMP>
<DD>
List all commands.
</DL>



<H3><A NAME="SEC23" HREF="uucp.html#TOC23">cu Variables</A></H3>

<P>
The <CODE>cu</CODE> program also supports several variables.  They may be
listed with the <SAMP>`~v'</SAMP> command, and set with the <SAMP>`~s'</SAMP> or
<SAMP>`~!'</SAMP>  commands.


<DL COMPACT>

<DT><SAMP>`escape'</SAMP>
<DD>
The escape character.  The default is <KBD>~</KBD> (tilde).

<DT><SAMP>`delay'</SAMP>
<DD>
If this variable is true, <CODE>cu</CODE> will delay for a second, after
recognizing the escape character, before printing the name of the local
system.  The default is true.

<DT><SAMP>`eol'</SAMP>
<DD>
The list of characters which are considered to finish a line.  The
escape character is only recognized after one of these is seen.  The
default is <KBD>carriage return</KBD>, <KBD>^U</KBD>, <KBD>^C</KBD>, <KBD>^O</KBD>,
<KBD>^D</KBD>, <KBD>^S</KBD>, <KBD>^Q</KBD>, <KBD>^R</KBD>.

<DT><SAMP>`binary'</SAMP>
<DD>
Whether to transfer binary data when sending a file.  If this is false,
then newlines in the file being sent are converted to carriage returns.
The default is false.

<DT><SAMP>`binary-prefix'</SAMP>
<DD>
A string used before sending a binary character in a file transfer, if
the <SAMP>`binary'</SAMP> variable is true.  The default is <SAMP>`^V'</SAMP>.

<DT><SAMP>`echo-check'</SAMP>
<DD>
Whether to check file transfers by examining what the remote system
echoes back.  This probably doesn't work very well.  The default is
false.

<DT><SAMP>`echonl'</SAMP>
<DD>
The character to look for after sending each line in a file.  The
default is carriage return.

<DT><SAMP>`timeout'</SAMP>
<DD>
The timeout to use, in seconds, when looking for a character, either
when doing echo checking or when looking for the <SAMP>`echonl'</SAMP>
character.  The default is 30.

<DT><SAMP>`kill'</SAMP>
<DD>
The character to use delete a line if the echo check fails.  The default
is <KBD>^U</KBD>.

<DT><SAMP>`resend'</SAMP>
<DD>
The number of times to resend a line if the echo check continues to
fail.  The default is 10.

<DT><SAMP>`eofwrite'</SAMP>
<DD>
The string to write after sending a file with the <SAMP>`~&#62;'</SAMP> command.
The default is <SAMP>`^D'</SAMP>.

<DT><SAMP>`eofread'</SAMP>
<DD>
The string to look for when receiving a file with the <SAMP>` ~&#60;'</SAMP>
command.  The default is <SAMP>`$'</SAMP>, which is intended to be a typical
shell prompt.

<DT><SAMP>`verbose'</SAMP>
<DD>
Whether to print accumulated information during a file transfer.  The
default is true.
</DL>



<H3><A NAME="SEC24" HREF="uucp.html#TOC24">cu Options</A></H3>

<P>
The following options may be given to <CODE>cu</CODE>.


<DL COMPACT>

<DT><SAMP>`-e'</SAMP>
<DD>
<DT><SAMP>`--parity=even'</SAMP>
<DD>
Use even parity.

<DT><SAMP>`-o'</SAMP>
<DD>
<DT><SAMP>`--parity=odd'</SAMP>
<DD>
Use odd parity.

<DT><SAMP>`--parity=none'</SAMP>
<DD>
Use no parity.  No parity is also used if both <SAMP>`-e'</SAMP> and <SAMP>`-o'</SAMP>
are given.

<DT><SAMP>`-h'</SAMP>
<DD>
<DT><SAMP>`--halfduplex'</SAMP>
<DD>
Echo characters locally (half-duplex mode).

<DT><SAMP>`--nostop'</SAMP>
<DD>
Turn off XON/XOFF handling (it is on by default).

<DT><SAMP>`-E char'</SAMP>
<DD>
<DT><SAMP>`--escape char'</SAMP>
<DD>
Set the escape character.  Initially <KBD>~</KBD> (tilde).  To eliminate the
escape character, use <SAMP>`-E "'</SAMP>.

<DT><SAMP>`-z system'</SAMP>
<DD>
<DT><SAMP>`--system system'</SAMP>
<DD>
The system to call.

<DT><SAMP>`-c phone-number'</SAMP>
<DD>
<DT><SAMP>`--phone phone-number'</SAMP>
<DD>
The phone number to call.

<DT><SAMP>`-p port'</SAMP>
<DD>
<DT><SAMP>`-a port'</SAMP>
<DD>
<DT><SAMP>`--port port'</SAMP>
<DD>
Name the port to use.

<DT><SAMP>`-l line'</SAMP>
<DD>
<DT><SAMP>`--line line'</SAMP>
<DD>
Name the line to use by giving a device name.  This may be used to dial
out on ports that are not listed in the UUCP configuration files.  Write
access to the device is required.

<DT><SAMP>`-s speed'</SAMP>
<DD>
<DT><SAMP>`-#'</SAMP>
<DD>
<DT><SAMP>`--speed speed'</SAMP>
<DD>
The speed (baud rate) to use.  Here, <SAMP>`-#'</SAMP> means an actual number;
e.g., <SAMP>`-9600'</SAMP>.

<DT><SAMP>`-n'</SAMP>
<DD>
<DT><SAMP>`--prompt'</SAMP>
<DD>
Prompt for the phone number to use.

<DT><SAMP>`-d'</SAMP>
<DD>
Enter debugging mode.  Equivalent to <SAMP>`--debug all'</SAMP>.

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config file'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.
</DL>



<H2><A NAME="SEC25" HREF="uucp.html#TOC25">Invoking uucico</A></H2>



<H3><A NAME="SEC26" HREF="uucp.html#TOC26">uucico Description</A></H3>


<PRE>
uucico [options]
</PRE>

<P>
The <CODE>uucico</CODE> daemon processes file transfer requests queued by
<CODE>uucp</CODE> and <CODE>uux</CODE>.  It is started when <CODE>uucp</CODE> or
<CODE>uux</CODE> is run (unless they are given the <SAMP>`-r'</SAMP> or
<SAMP>`--nouucico'</SAMP> options).  It is also typically started periodically
using entries in the <TT>`crontab'</TT> table(s).


<P>
When <CODE>uucico</CODE> is invoked with <SAMP>`-r1'</SAMP>, <SAMP>`--master'</SAMP>,
<SAMP>`-s'</SAMP>, <SAMP>`--system'</SAMP>, or <SAMP>`-S'</SAMP>, the daemon will place a call
to a remote system, running in master mode.  Otherwise the daemon will
start in slave mode, accepting a call from a remote system.  Typically a
special login name will be set up for UUCP which automatically invokes
<CODE>uucico</CODE> when a remote system calls in and logs in under that name.


<P>
When <CODE>uucico</CODE> terminates, it invokes the <CODE>uuxqt</CODE> daemon,
unless the <SAMP>`-q'</SAMP> or <SAMP>`--nouuxqt'</SAMP> options were given;
<CODE>uuxqt</CODE> executes any work orders created by <CODE>uux</CODE> on a remote
system, and any work orders created locally which have received remote
files for which they were waiting.


<P>
If a call fails, <CODE>uucico</CODE> will normally refuse to retry the call
until a certain (configurable) amount of time has passed.  This may be
overriden by the <SAMP>`-f'</SAMP>, <SAMP>`--force'</SAMP>, or <SAMP>`-S'</SAMP> options.


<P>
The <SAMP>`-l'</SAMP>, <SAMP>`--prompt'</SAMP>, <SAMP>`-e'</SAMP>, or <SAMP>`--loop'</SAMP> options may
be used to force <CODE>uucico</CODE> to produce its own prompts of
<SAMP>`login: '</SAMP> and <SAMP>`Password:'</SAMP>.  When another <CODE>uucico</CODE> daemon
calls in, it will see these prompts and log in as usual.  The login name
and password will normally be checked against a separate list kept
specially for <CODE>uucico</CODE>, rather than the <TT>`/etc/passwd'</TT> file
(see section <A HREF="uucp.html#SEC62">Configuration File Names</A>).  It is possible, on some systems, to
configure <CODE>uucico</CODE> to use <TT>`/etc/passwd'</TT>.  The <SAMP>`-l'</SAMP> or
<SAMP>`--prompt'</SAMP> options will prompt once and then exit; in this mode the
UUCP administrator, or the superuser, may use the <SAMP>`-u'</SAMP> or
<SAMP>`--login'</SAMP> option to force a login name, in which case <CODE>uucico</CODE>
will not prompt for one.  The <SAMP>`-e'</SAMP> or <SAMP>`--loop'</SAMP> options will
prompt again after the first session is over; in this mode <CODE>uucico</CODE>
will permanently control a port.


<P>
If <CODE>uucico</CODE> receives a <CODE>SIGQUIT</CODE>, <CODE>SIGTERM</CODE> or
<CODE>SIGPIPE</CODE> signal, it will cleanly abort any current conversation
with a remote system and exit.  If it receives a <CODE>SIGHUP</CODE> signal it
will abort any current conversation, but will continue to place calls to
(if invoked with <SAMP>`-r1'</SAMP> or <SAMP>`--master'</SAMP>) and accept calls from
(if invoked with <SAMP>`-e'</SAMP> or <SAMP>`--loop'</SAMP>) other systems.  If it
receives a <CODE>SIGINT</CODE> signal it will finish the current conversation,
but will not place or accept any more calls.




<H3><A NAME="SEC27" HREF="uucp.html#TOC27">uucico Options</A></H3>

<P>
The following options may be given to <CODE>uucico</CODE>.


<DL COMPACT>

<DT><SAMP>`-r1'</SAMP>
<DD>
<DT><SAMP>`--master'</SAMP>
<DD>
Start in master mode: call out to a remote system.  Implied by
<SAMP>`-s'</SAMP>, <SAMP>`--system'</SAMP>, or <SAMP>`-S'</SAMP>.  If no system is specified,
sequentially call every system for which work is waiting to be done.

<DT><SAMP>`-r0'</SAMP>
<DD>
<DT><SAMP>`--slave'</SAMP>
<DD>
Start in slave mode.  This is the default.

<DT><SAMP>`-s system'</SAMP>
<DD>
<DT><SAMP>`--system system'</SAMP>
<DD>
Call the specified system.

<DT><SAMP>`-S system'</SAMP>
<DD>
Call the specified system, ignoring any required wait.  This is
equivalent to <SAMP>`-s system -f'</SAMP>.

<DT><SAMP>`-f'</SAMP>
<DD>
<DT><SAMP>`--force'</SAMP>
<DD>
Ignore any required wait for any systems to be called.

<DT><SAMP>`-l'</SAMP>
<DD>
<DT><SAMP>`--prompt'</SAMP>
<DD>
Prompt for login name and password using <SAMP>`login: '</SAMP> and
<SAMP>`Password:'</SAMP>.  This allows <CODE>uucico</CODE> to be easily run from
<CODE>inetd</CODE>.  The login name and password are checked against the UUCP
password file, which need not be <TT>`/etc/passwd'</TT>.  The <SAMP>`--login'</SAMP>
option may be used to force a login name, in which cause <CODE>uucico</CODE>
will only prompt for a password.

<DT><SAMP>`-p port'</SAMP>
<DD>
<DT><SAMP>`--port port'</SAMP>
<DD>
Specify a port to call out on or to listen to.

<DT><SAMP>`-e'</SAMP>
<DD>
<DT><SAMP>`--loop'</SAMP>
<DD>
Enter an endless loop of login/password prompts and slave mode daemon
execution.  The program will not stop by itself; you must use
<CODE>kill</CODE> to shut it down.

<DT><SAMP>`-w'</SAMP>
<DD>
<DT><SAMP>`--wait'</SAMP>
<DD>
After calling out (to a particular system when <SAMP>`-s'</SAMP>,
<SAMP>`--system'</SAMP>, or <SAMP>`-S'</SAMP> is specifed, or to all systems which have
work when just <SAMP>`-r1'</SAMP> or <SAMP>`--master'</SAMP> is specifed), begin an
endless loop as with <SAMP>`--loop'</SAMP>.

<DT><SAMP>`-q'</SAMP>
<DD>
<DT><SAMP>`--nouuxqt'</SAMP>
<DD>
Do not start the <CODE>uuxqt</CODE> daemon when finished.

<DT><SAMP>`-c'</SAMP>
<DD>
<DT><SAMP>`--quiet'</SAMP>
<DD>
If no calls are permitted at this time, then don't make the call, but
also do not put an error message in the log file and do not update the
system status (as reported by <CODE>uustat</CODE>).  This can be convenient
for automated polling scripts, which may want to simply attempt to call
every system rather than worry about which particular systems may be
called at the moment.  This option also suppresses the log message
indicating that there is no work to be done.

<DT><SAMP>`-C'</SAMP>
<DD>
<DT><SAMP>`--ifwork'</SAMP>
<DD>
Only call the system named by <SAMP>`-s'</SAMP>, <SAMP>`--system'</SAMP>, or <SAMP>`-S'</SAMP>
if there is work for that system.

<DT><SAMP>`-D'</SAMP>
<DD>
<DT><SAMP>`--nodetach'</SAMP>
<DD>
Do not detach from the controlling terminal.  Normally <CODE>uucico</CODE>
detaches from the terminal before each call out to another system and
before invoking <CODE>uuxqt</CODE>.  This option prevents this.

<DT><SAMP>`-u name'</SAMP>
<DD>
<DT><SAMP>`--login name'</SAMP>
<DD>
Set the login name to use instead of that of the invoking user.  This
option may only be used by the UUCP administrator or the superuser.  If
used with <SAMP>`--prompt'</SAMP>, this will cause <CODE>uucico</CODE> to prompt only
for the password, not the login name.

<DT><SAMP>`-z'</SAMP>
<DD>
<DT><SAMP>`--try-next'</SAMP>
<DD>
If a call fails after the remote system is reached, try the next
alternate rather than simply exiting.

<DT><SAMP>`-i type'</SAMP>
<DD>
<DT><SAMP>`--stdin type'</SAMP>
<DD>
Set the type of port to use when using standard input.  The only
supported port type is TLI, and this is only available on machines which
support the TLI networking interface.  Specifying <SAMP>`-i TLI'</SAMP> causes
<CODE>uucico</CODE> to use TLI calls to perform I/O.

<DT><SAMP>`-X type'</SAMP>
<DD>
Same as the standard option <SAMP>`-x type'</SAMP>.  Provided for historical
compatibility.

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config file'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.
</DL>



<H2><A NAME="SEC28" HREF="uucp.html#TOC28">Invoking uuxqt</A></H2>


<PRE>
uuxqt [-c command] [-s system] [--command command] [--system system]
</PRE>

<P>
The <CODE>uuxqt</CODE> daemon executes commands requested by <CODE>uux</CODE> from
either the local system or from remote systems.  It is started
automatically by the <CODE>uucico</CODE> daemon (unless <CODE>uucico</CODE> is given
the <SAMP>`-q'</SAMP> or <SAMP>`--nouuxqt'</SAMP> options).


<P>
There is normally no need to run <CODE>uuxqt</CODE>, since it will be invoked
by <CODE>uucico</CODE>.  However, <CODE>uuxqt</CODE> can be invoked directly to
provide greater control over the processing of the work queue.


<P>
Multiple invocations of <CODE>uuxqt</CODE> may be run at once, as controlled
by the <CODE>max-uuxqts</CODE> configuration command; see section <A HREF="uucp.html#SEC61">Miscellaneous config File Commands</A>.


<P>
The following options may be given to <CODE>uuxqt</CODE>.


<DL COMPACT>

<DT><SAMP>`-c command'</SAMP>
<DD>
<DT><SAMP>`--command command'</SAMP>
<DD>
Only execute requests for the specified command.  For example,
<SAMP>`uuxqt --command rmail'</SAMP>.

<DT><SAMP>`-s system'</SAMP>
<DD>
<DT><SAMP>`--system system'</SAMP>
<DD>
Only execute requests originating from the specified system.

<DT><SAMP>`-x type'</SAMP>
<DD>
<DT><SAMP>`--debug type'</SAMP>
<DD>
<DT><SAMP>`-I file'</SAMP>
<DD>
<DT><SAMP>`--config'</SAMP>
<DD>
<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--version'</SAMP>
<DD>
<DT><SAMP>`--help'</SAMP>
<DD>
See section <A HREF="uucp.html#SEC4">Standard Options</A>.
</DL>



<H2><A NAME="SEC29" HREF="uucp.html#TOC29">Invoking uuchk</A></H2>


<PRE>
uuchk [-s system] [--system system]
</PRE>

<P>
The <CODE>uuchk</CODE> program displays information read from the UUCP
configuration files.  It should be used to ensure that UUCP has been
configured correctly.


<P>
The <SAMP>`-s'</SAMP> or <SAMP>`--system'</SAMP> options may be used to display the
configuration for just the specified system, rather than for all
systems.  The <CODE>uuchk</CODE> program also supports the standard UUCP
program options; see section <A HREF="uucp.html#SEC4">Standard Options</A>.




<H2><A NAME="SEC30" HREF="uucp.html#TOC30">Invoking uuconv</A></H2>


<PRE>
uuconv -i type -o type [-p program] [--program program]
uuconv --input type --output type [-p program] [--program program]
</PRE>

<P>
The <CODE>uuconv</CODE> program converts UUCP configuration files from one
format to another.  The type of configuration file to read is specified
using the <SAMP>`-i'</SAMP> or <SAMP>`--input'</SAMP> options.  The type of
configuration file to write is specified using the <SAMP>`-o'</SAMP> or
<SAMP>`--output'</SAMP> options.


<P>
The supported configuration file types are <SAMP>`taylor'</SAMP>, <SAMP>`v2'</SAMP>, and
<SAMP>`hdb'</SAMP>.  For a description of the <SAMP>`taylor'</SAMP> configuration files,
see section <A HREF="uucp.html#SEC51">Taylor UUCP Configuration Files</A>.  The other types of configuration files
are used by traditional UUCP packages, and are not described in this
manual.


<P>
An input configuration of type <SAMP>`v2'</SAMP> or <SAMP>`hdb'</SAMP> is read from a
compiled in directory (specified by <SAMP>`oldconfigdir'</SAMP> in
<TT>`Makefile'</TT>).  An input configuration of type <SAMP>`taylor'</SAMP> is read
from a compiled in directory by default, but may be overridden with the
standard <SAMP>`-I'</SAMP> or <SAMP>`--config'</SAMP> options (see section <A HREF="uucp.html#SEC4">Standard Options</A>).


<P>
The output configuration is written to files in the directory in which
<CODE>uuconv</CODE> is run.


<P>
Some information in the input files may not be representable in the
desired output format, in which case <CODE>uuconv</CODE> will silently discard
it.  The output of <CODE>uuconv</CODE> should be carefully checked before it
is used.  The <CODE>uuchk</CODE> program may be used for this purpose; see
section <A HREF="uucp.html#SEC29">Invoking uuchk</A>.


<P>
The <SAMP>`-p'</SAMP> or <SAMP>`--program'</SAMP> option may be used to convert specific
<CODE>cu</CODE> configuration information, rather than the default of only
converting the <CODE>uucp</CODE> configuration information; see section <A HREF="uucp.html#SEC60">The Main Configuration File</A>.


<P>
The <CODE>uuchk</CODE> program also supports the standard UUCP program
options; see section <A HREF="uucp.html#SEC4">Standard Options</A>.




<H2><A NAME="SEC31" HREF="uucp.html#TOC31">Invoking uusched</A></H2>

<P>
The <CODE>uusched</CODE> program is actually just a shell script which invokes
the <CODE>uucico</CODE> daemon.  It is provided for backward compatibility.
It causes <CODE>uucico</CODE> to call all systems for which there is work.
Any option which may be given to <CODE>uucico</CODE> may also be given to
<CODE>uusched</CODE>.  See section <A HREF="uucp.html#SEC25">Invoking uucico</A>.




<H1><A NAME="SEC32" HREF="uucp.html#TOC32">Installing Taylor UUCP</A></H1>

<P>
These are the installation instructions for the Taylor UUCP package.




<H2><A NAME="SEC33" HREF="uucp.html#TOC33">Compiling Taylor UUCP</A></H2>

<P>
If you have a source code distribution, you must first compile it for
your system.  Free versions of Unix, such as Linux, NetBSD, or FreeBSD,
often come with pre-compiled binary distributions of UUCP.  If you are
using a binary distribution, you may skip to the configuration section
(see section <A HREF="uucp.html#SEC36">Configuring Taylor UUCP</A>).


<P>
Follow these steps to compile the source code.



<OL>

<LI>

Take a look at the top of <TT>`Makefile.in'</TT> and set the appropriate
values for your system.  These control where the programs are installed
and which user on the system owns them (normally they will be owned by a
special user <CODE>uucp</CODE> rather than a real person; they should probably
not be owned by <CODE>root</CODE>).

<LI>

Run the shell script <CODE>configure</CODE>.  This script was generated using
the <CODE>autoconf</CODE> program written by David MacKenzie of the Free
Software Foundation.  It takes a while to run.  It will generate the
file <TT>`config.h'</TT> based on <TT>`config.h.in'</TT>, and, for each source
code directory, will generate <TT>`Makefile'</TT> based on
<TT>`Makefile.in'</TT>.

You can pass certain arguments to <CODE>configure</CODE> in the environment.
Because <CODE>configure</CODE> will compile little test programs to see what
is available on your system, you must tell it how to run your compiler.
It recognizes the following environment variables:

<DL COMPACT>

<DT><SAMP>`CC'</SAMP>
<DD>
The C compiler.  If this is not set, then if <CODE>configure</CODE> can find
<SAMP>`gcc'</SAMP> it will use it, otherwise it will use <SAMP>`cc'</SAMP>.
<DT><SAMP>`CFLAGS'</SAMP>
<DD>
Flags to pass to the C compiler when compiling the actual code.  If this
is not set, <CODE>configure</CODE> will use <SAMP>`-g'</SAMP>.
<DT><SAMP>`LDFLAGS'</SAMP>
<DD>
Flags to pass to the C compiler when only linking, not compiling.  If
this is not set, <CODE>configure</CODE> will use the empty string.
<DT><SAMP>`LIBS'</SAMP>
<DD>
Libraries to pass to the C compiler.  If this is not set,
<CODE>configure</CODE> will use the empty string.
<DT><SAMP>`INSTALL'</SAMP>
<DD>
The program to run to install UUCP in the binary directory.  If this is
not set, then if <CODE>configure</CODE> finds the BSD <CODE>install</CODE> program,
it will set this to <SAMP>`install -c'</SAMP>; otherwise, it will use <SAMP>`cp'</SAMP>.
</DL>

Suppose, for example, you want to set the environment variable <SAMP>`CC'</SAMP>
to <SAMP>`rcc'</SAMP>.  If you are using <CODE>sh</CODE>, <CODE>bash</CODE>, or <CODE>ksh</CODE>,
invoke <CODE>configure</CODE> as <SAMP>`CC=rcc configure'</SAMP>.  If you are using
<CODE>csh</CODE>, do <SAMP>`setenv CC rcc; sh configure'</SAMP>.

On some systems you will want to use <SAMP>`LIBS=-lmalloc'</SAMP>.  On Xenix
derived versions of Unix do not use <SAMP>`LIBS=-lx'</SAMP> because this will
bring in the wrong versions of certain routines; if you want to use
<SAMP>`-lx'</SAMP> you must specify <SAMP>`LIBS=-lc -lx'</SAMP>.

If <CODE>configure</CODE> fails for some reason, or if you have a very weird
system, you may have to configure the package by hand.  To do this, copy
the file <TT>`config.h.in'</TT> to <TT>`config.h'</TT> and edit it for your
system.  Then for each source directory (the top directory, and the
subdirectories <TT>`lib'</TT>, <TT>`unix'</TT>, and <TT>`uuconf'</TT>) copy
<TT>`Makefile.in'</TT> to <TT>`Makefile'</TT>, find the words within <KBD>@</KBD>
characters, and set them correctly for your system.

<LI>

Igor V. Semenyuk provided this (lightly edited) note about ISC Unix 3.0.
The <CODE>configure</CODE> script will default to passing <SAMP>`-posix'</SAMP> to
<CODE>gcc</CODE>.  However, using <SAMP>`-posix'</SAMP> changes the environment to
POSIX, and on ISC 3.0, at least, the default for <CODE>POSIX_NO_TRUNC</CODE>
is 1.  This can lead to a problem when <CODE>uuxqt</CODE> executes
<CODE>rmail</CODE>.  <CODE>IDA sendmail</CODE> has dbm configuration files named
<TT>`mailertable.{dir,pag}'</TT>.  Notice these names are 15 characters
long.  When <CODE>uuxqt</CODE> compiled with the <SAMP>`-posix'</SAMP> executes
<CODE>rmail</CODE>, which in turn executes <CODE>sendmail</CODE>, the later is run
under the POSIX environment too.  This leads to <CODE>sendmail</CODE> bombing
out with <SAMP>`'error opening 'M' database: name too long'
(mailertable.dir)'</SAMP>.  It's rather obscure behaviour, and it took me a day
to find out the cause.  I don't use the <SAMP>`-posix'</SAMP> switch; instead, I
run <CODE>gcc</CODE> with <SAMP>`-D_POSIX_SOURCE'</SAMP>, and add <SAMP>`-lcposix'</SAMP> to
<SAMP>`LIBS'</SAMP>.

<LI>

On some versions of BSDI there is a bug in the shell which causes the
default value for <SAMP>`CFLAGS'</SAMP> to be set incorrectly.  If <SAMP>`echo
${CFLAGS--g}'</SAMP> echoes <SAMP>`g'</SAMP> rather than <SAMP>`-g'</SAMP>, then you must set
<SAMP>`CFLAGS'</SAMP> in the environment before running configure.  There is a
patch available from BSDI for this bug.  (Reported by David Vrona).

<LI>

On AIX 3.2.5, and possibly other versions, <SAMP>`cc -E'</SAMP> does not work,
reporting <SAMP>`Option NOROCONST is not valid'</SAMP>.  Test this before
running configure by doing something like <SAMP>`touch /tmp/foo.c; cc -E
/tmp/foo.c'</SAMP>.  This may give a warning about the file being empty, but it
should not give the <SAMP>`Option NOROCONST'</SAMP> warning.  The workaround is
to remove the <SAMP>`,noroconst'</SAMP> entry from the <SAMP>`options'</SAMP> clause in
the <SAMP>`cc'</SAMP> stanza in <TT>`/etc/xlc.cfg'</TT>.  (Reported by Chris Lewis).

<LI>

You should verify that <CODE>configure</CODE> worked correctly by checking
<TT>`config.h'</TT> and the instances of <TT>`Makefile'</TT>.

<LI>

Edit <TT>`policy.h'</TT> for your local system.  The comments explain the
various choices.  The default values are intended to be reasonable, so
you may not have to make any changes.

You must decide what type of configuration files to use; for more
information on the choices, see section <A HREF="uucp.html#SEC36">Configuring Taylor UUCP</A>.

You must also decide what sort of spool directory you want to use.  If
this is a new installation, I recommend <SAMP>`SPOOLDIR_TAYLOR'</SAMP>;
otherwise, select the spool directory corresponding to your existing
UUCP package.

<LI>

Type <SAMP>`make'</SAMP> to compile everything.

The <TT>`tstuu.c'</TT> file is not particularly portable; if you can't
figure out how to compile it you can safely ignore it, as it is only
used for testing.  To use STREAMS pseudo-terminals, tstuu.c must be
compiled with <SAMP>`-DHAVE_STREAMS_PTYS'</SAMP>; this is not determined by the
configure script.

If you have any other problems there is probably a bug in the
<CODE>configure</CODE> script.

<LI>

Please report any problems you have.  That is the only way they will get
fixed for other people.  Supply a patch if you can (see section <A HREF="uucp.html#SEC112">Patches</A>), or
just ask for help.

</OL>



<H2><A NAME="SEC34" HREF="uucp.html#TOC34">Testing the Compilation</A></H2>

<P>
If your system supports pseudo-terminals, and you compiled the code to
support the new style of configuration files (<CODE>HAVE_TAYLOR_CONFIG</CODE>
was set to 1 in <TT>`policy.h'</TT>), you should be able to use the
<CODE>tstuu</CODE> program to test the <CODE>uucico</CODE> daemon.  If your system
supports STREAMS based pseudo-terminals, you must compile tstuu.c with
<SAMP>`-DHAVE_STREAMS_PTYS'</SAMP>.  (The STREAMS based code was contributed by
Marc Boucher).


<P>
To run <CODE>tstuu</CODE>, just type <SAMP>`tstuu'</SAMP> with no arguments.  You must
run it in the compilation directory, since it runs <TT>`./uucp'</TT>,
<TT>`./uux'</TT> and <TT>`./uucico'</TT>.  The <CODE>tstuu</CODE> program will run a
lengthy series of tests (it takes over ten minutes on a slow VAX).  You
will need a fair amount of space available in <TT>`/usr/tmp'</TT>.  You will
probably want to put it in the background.  Do not use <KBD>^Z</KBD>, because
the program traps on <CODE>SIGCHLD</CODE> and winds up dying.  The
<CODE>tstuu</CODE> program will create a directory <TT>`/usr/tmp/tstuu'</TT> and
fill it with configuration files, and create spool directories
<TT>`/usr/tmp/tstuu/spool1'</TT> and <TT>`/usr/tmp/tstuu/spool2'</TT>.


<P>
If your system does not support the <CODE>FIONREAD</CODE> call, the
<SAMP>`tstuu'</SAMP> program will run very slowly.  This may or may not get
fixed in a later version.


<P>
The <CODE>tstuu</CODE> program will finish with an execute file named
<TT>`X.<VAR>something</VAR>'</TT> and a data file named <TT>`D.<VAR>something</VAR>'</TT>
in the directory <TT>`/usr/tmp/tstuu/spool1'</TT> (or, more likely, in
subdirectories, depending on the choice of <CODE>SPOOLDIR</CODE> in
<TT>`policy.h'</TT>).  Two log files will be created in the directory
<TT>`/usr/tmp/tstuu'</TT>.  They will be named <TT>`Log1'</TT> and <TT>`Log2'</TT>,
or, if you have selected <CODE>HAVE_HDB_LOGGING</CODE> in <TT>`policy.h'</TT>,
<TT>`Log1/uucico/test2'</TT> and <TT>`Log2/uucico/test1'</TT>.  There should be
no errors in the log files.


<P>
You can test <CODE>uuxqt</CODE> with <SAMP>`./uuxqt -I /usr/tmp/tstuu/Config1'</SAMP>.
This should leave a command file <TT>`C.<VAR>something</VAR>'</TT> and a data
file <TT>`D.<VAR>something</VAR>'</TT> in <TT>`/usr/tmp/tstuu/spool1'</TT> or in
subdirectories.  Again, there should be no errors in the log file.


<P>
Assuming you compiled the code with debugging enabled, the <SAMP>`-x'</SAMP>
switch can be used to set debugging modes; see the <CODE>debug</CODE> command
for details (see section <A HREF="uucp.html#SEC64">Debugging Levels</A>).  Use <SAMP>`-x all'</SAMP> to turn on
all debugging and generate far more output than you will ever want to
see.  The <CODE>uucico</CODE> daemons will put debugging output in the files
<TT>`Debug1'</TT> and <TT>`Debug2'</TT> in the directory <TT>`/usr/tmp/tstuu'</TT>.
After that, you're pretty much on your own.


<P>
On some systems you can also use <CODE>tstuu</CODE> to test <CODE>uucico</CODE>
against the system <CODE>uucico</CODE>, by using the <SAMP>`-u'</SAMP> switch.  For
this to work, change the definitions of <CODE>ZUUCICO_CMD</CODE> and
<CODE>UUCICO_EXECL</CODE> at the top of <TT>`tstuu.c'</TT> to something
appropriate for your system.  The definitions in <TT>`tstuu.c'</TT> are what
I used for Ultrix 4.0, on which <TT>`/usr/lib/uucp/uucico'</TT> is
particularly obstinate about being run as a child; I was only able to
run it by creating a login name with no password whose shell was
<TT>`/usr/lib/uucp/uucico'</TT>.  Calling login in this way will leave fake
entries in <TT>`wtmp'</TT> and <TT>`utmp'</TT>; if you compile <TT>`tstout.c'</TT>
(in the <TT>`contrib'</TT> directory) as a setuid <CODE>root</CODE> program,
<CODE>tstuu</CODE> will run it to clear those entries out.  On most systems,
such hackery should not be necessary, although on SCO I had to su to
<CODE>root</CODE> (<CODE>uucp</CODE> might also have worked) before I could run
<TT>`/usr/lib/uucp/uucico'</TT>.


<P>
You can test <CODE>uucp</CODE> and <CODE>uux</CODE> (give them the <SAMP>`-r'</SAMP> switch
to keep them from starting <CODE>uucico</CODE>) to make sure they create the
right sorts of files.  Unfortunately, if you don't know what the right
sorts of files are, I'm not going to tell you here.


<P>
If you can not run <CODE>tstuu</CODE>, or if it fails inexplicably, don't
worry about it too much.  On some systems <CODE>tstuu</CODE> will fail because
of problems using pseudo terminals, which will not matter in normal use.
The real test of the package is talking to another system.




<H2><A NAME="SEC35" HREF="uucp.html#TOC35">Installing the Binaries</A></H2>

<P>
You can install the executable files by becoming <CODE>root</CODE> and typing
<SAMP>`make install'</SAMP>.  Or you can look at what <SAMP>`make install'</SAMP> does
and do it by hand.  It tries to preserve your old programs, if any, but
it only does this the first time Taylor UUCP is installed (so that if
you install several versions of Taylor UUCP, you can still go back to
your original UUCP programs).  You can retrieve the original programs by
typing <SAMP>`make uninstall'</SAMP>.


<P>
Note that by default the programs are compiled with debugging
information, and they are not stripped when they are installed.  You may
want to strip the installed programs to save disk space.  For more
information, see your system documentation for the <CODE>strip</CODE> program.


<P>
Of course, simply installing the executable files is not enough.  You
must also arrange for them to be used correctly.




<H2><A NAME="SEC36" HREF="uucp.html#TOC36">Configuring Taylor UUCP</A></H2>

<P>
You will have to decide what types of configuration files you want to
use.  This package supports a new sort of configuration file; see
section <A HREF="uucp.html#SEC51">Taylor UUCP Configuration Files</A>.  It also supports V2 configuration files
(<TT>`L.sys'</TT>, <TT>`L-devices'</TT>, etc.) and HDB configuration files
(<TT>`Systems'</TT>, <TT>`Devices'</TT>, etc.).  No documentation is provided
for V2 or HDB configuration files.  All types of configuration files can
be used at once, if you are so inclined.  Currently using just V2
configuration files is not really possible, because there is no way to
specify a dialer (there are no built in dialers, and the program does
not know how to read <TT>`acucap'</TT> or <TT>`modemcap'</TT>); however, V2
configuration files can be used with a new style dial file (see section <A HREF="uucp.html#SEC78">The Dialer Configuration File</A>), or with a HDB <TT>`Dialers'</TT> file.


<P>
Use of HDB configuration files has two known bugs.  A blank line in the
middle of an entry in the <TT>`Permissions'</TT> file will not be ignored as
it should be.  Dialer programs, as found in some versions of HDB, are
not recognized directly.  If you must use a dialer program, rather than
an entry in <TT>`Devices'</TT>, you must use the <CODE>chat-program</CODE> command
in a new style dial file; see section <A HREF="uucp.html#SEC78">The Dialer Configuration File</A>.  You will have to invoke
the dialer program via a shell script or another program, since an exit
code of 0 is required to recognize success; the <CODE>dialHDB</CODE> program
in the <TT>`contrib'</TT> directory may be used for this purpose.


<P>
The <CODE>uuconv</CODE> (see section <A HREF="uucp.html#SEC30">Invoking uuconv</A>) program can be used to
convert from V2 or HDB configuration files to the new style (it can also
do the reverse translation, if you are so inclined).  It will not do all
of the work, and the results should be carefully checked, but it can be
quite useful.


<P>
If you are installing a new system, you will, of course, have to write
the configuration files; see section <A HREF="uucp.html#SEC51">Taylor UUCP Configuration Files</A> for details on
how to do this.


<P>
After writing the configuration files, use the <CODE>uuchk</CODE> program to
verify that they are what you expect; see section <A HREF="uucp.html#SEC29">Invoking uuchk</A>.




<H2><A NAME="SEC37" HREF="uucp.html#TOC37">Testing the Installation</A></H2>

<P>
After you have written the configuration files, and verified them with
the <CODE>uuchk</CODE> program (see section <A HREF="uucp.html#SEC29">Invoking uuchk</A>), you must check that
UUCP can correctly contact another system.


<P>
Tell <CODE>uucico</CODE> to dial out to the system by using the <SAMP>`-s'</SAMP>
system switch (e.g., <SAMP>`uucico -s uunet'</SAMP>).  The log file should tell
you what happens.  The exact location of the log file depends upon the
settings in <TT>`policy.h'</TT> when you compiled the program, and on the
use of the <CODE>logfile</CODE> command in the <TT>`config'</TT> file.  Typical
locations are <TT>`/usr/spool/uucp/Log'</TT> or a subdirectory under
<TT>`/usr/spool/uucp/.Log'</TT>.


<P>
If you compiled the code with debugging enabled, you can use debugging
mode to get a great deal of information about what sort of data is
flowing back and forth; the various possibilities are described with the
<CODE>debug</CODE> command (see section <A HREF="uucp.html#SEC64">Debugging Levels</A>).  When initially setting
up a connection <SAMP>`-x chat'</SAMP> is probably the most useful (e.g.,
<SAMP>`uucico -s uunet -x chat'</SAMP>); you may also want to use <SAMP>`-x
handshake,incoming,outgoing'</SAMP>.  You can use <SAMP>`-x'</SAMP> multiple times on
one command line, or you can give it comma separated arguments as in the
last example.  Use <SAMP>`-x all'</SAMP> to turn on all possible debugging
information.


<P>
The debugging information is written to a file, normally
<TT>`/usr/spool/uucp/Debug'</TT>, although the default can be changed in
<TT>`policy.h'</TT>, and the <TT>`config'</TT> file can override the default
with the <CODE>debugfile</CODE> command.  The debugging file may contain
passwords and some file contents as they are transmitted over the line,
so the debugging file is only readable by the <CODE>uucp</CODE> user.


<P>
You can use the <SAMP>`-f'</SAMP> switch to force <CODE>uucico</CODE> to call out even
if the last call failed recently; using <SAMP>`-S'</SAMP> when naming a system
has the same effect.  Otherwise the status file (in the <TT>`.Status'</TT>
subdirectory of the main spool directory, normally
<TT>`/usr/spool/uucp'</TT>) (see section <A HREF="uucp.html#SEC46">Status Directory</A>) will prevent too many
attempts from occurring in rapid succession.


<P>
On older System V based systems which do not have the <CODE>setreuid</CODE>
system call, problems may arise if ordinary users can start an execution
of <CODE>uuxqt</CODE>, perhaps indirectly via <CODE>uucp</CODE> or <CODE>uux</CODE>.  UUCP
jobs may wind up executing with a real user ID of the user who invoked
<CODE>uuxqt</CODE>, which can cause problems if the UUCP job checks the real
user ID for security purposes.  On such systems, it is safest to put
<SAMP>`run-uuxqt never'</SAMP> (see section <A HREF="uucp.html#SEC61">Miscellaneous config File Commands</A>) in the
<TT>`config'</TT> file, so that <CODE>uucico</CODE> never starts <CODE>uuxqt</CODE>, and
invoke <CODE>uuxqt</CODE> directly from a <TT>`crontab'</TT> file.


<P>
Please let me know about any problems you have and how you got around
them.  If you do report a problem, please include the version number of
the package you are using, the operating system you are running it on,
and a sample of the debugging file showing the problem (debugging
information is usually what is needed, not just the log file).  General
questions such as "why doesn't <CODE>uucico</CODE> dial out" are impossible
to answer without much more information.




<H1><A NAME="SEC38" HREF="uucp.html#TOC38">Using Taylor UUCP</A></H1>



<H2><A NAME="SEC39" HREF="uucp.html#TOC39">Calling Other Systems</A></H2>
<P>
<A NAME="IDX1"></A>


<P>
By default <CODE>uucp</CODE> and <CODE>uux</CODE> will automatically start up
<CODE>uucico</CODE> to call another system whenever work is queued up.
However, the call may fail, or you may have put in time restrictions
which prevent the call at that time (perhaps because telephone rates are
high) (see section <A HREF="uucp.html#SEC69">When to Call</A>).  Also, a remote system may have work
queued up for your system, but may not be calling you for some reason
(perhaps you have agreed that your system should always place the call).
To make sure that work gets transferred between the systems withing a
reasonable time period, you should arrange to periodically invoke
<CODE>uucico</CODE>.


<P>
These periodic invocations are normally triggered by entries in the
<TT>`crontab'</TT> file.  The exact format of <TT>`crontab'</TT> files, and how
new entries are added, varies from system to system; check your local
documentation (try <SAMP>`man cron'</SAMP>).


<P>
To attempt to call all systems with outstanding work, use the command
<SAMP>`uucico -r1'</SAMP>.  To attempt to call a particular system, use the
command <SAMP>`uucico -s <VAR>system</VAR>'</SAMP>.  To attempt to call a particular
system, but only if there is work for it, use the command <SAMP>`uucico
-C -s <VAR>system</VAR>'</SAMP>.  (see section <A HREF="uucp.html#SEC25">Invoking uucico</A>).


<P>
A common case is to want to try to call a system at a certain time, with
periodic retries if the call fails.  A simple way to do this is to
create an empty UUCP command file, known as a <EM>poll file</EM>.  If a
poll file exists for a system, then <SAMP>`uucico -r1'</SAMP> will place a call
to it.  If the call succeeds, the poll file will be deleted.


<P>
A poll file can be easily created using the <SAMP>`uux'</SAMP> command, by
requesting the execution of an empty command.  To create a poll file for
<VAR>system</VAR>, just do something like this:

<PRE>
uux -r <VAR>system</VAR>!
</PRE>

<P>
The <SAMP>`-r'</SAMP> tells <SAMP>`uux'</SAMP> to not start up <SAMP>`uucico'</SAMP>
immediately.  Of course, if you do want <SAMP>`uucico'</SAMP> to start up right
away, omit the <SAMP>`-r'</SAMP>; if the call fails, the poll file will be left
around to cause a later call.


<P>
For example, I use the following crontab entries locally:



<PRE>
45 * * * * /bin/echo /usr/lib/uucp/uucico -r1 | /bin/su uucpa
40 4,10,15 * * * /usr/bin/uux -r uunet!
</PRE>

<P>
Every hour, at 45 minutes past, this will check if there is any work to
be done, and, if there is, will call the appropriate system.  Also, at
4:40am, 10:40am, and 3:40pm, this will create a poll file file for
<SAMP>`uunet'</SAMP>, forcing the next run of <CODE>uucico</CODE> to call
<SAMP>`uunet'</SAMP>.




<H2><A NAME="SEC40" HREF="uucp.html#TOC40">Accepting Calls</A></H2>
<P>
<A NAME="IDX2"></A>
<A NAME="IDX3"></A>


<P>
To accept calls from another system, you must arrange matters such that
when that system calls in, it automatically invokes <CODE>uucico</CODE> on
your system.


<P>
The most common arrangement is to create a special user name and
password for incoming UUCP calls.  This user name typically uses the
same user ID as the regular <CODE>uucp</CODE> user (Unix permits several user
names to share the same user ID).  The shell for this user name should
be set to <CODE>uucico</CODE>.


<P>
Here is a sample <TT>`/etc/passwd'</TT> line to accept calls from a remote
system named airs:

<PRE>
Uairs:<VAR>password</VAR>:4:8:airs UUCP:/usr/spool/uucp:/usr/lib/uucp/uucico
</PRE>

<P>
The details may vary on your system.  You must use reasonable user and
group ID's.  You must use the correct file name for <CODE>uucico</CODE>.  The
<VAR>password</VAR> must appear in the UUCP configuration files on the remote
system, but will otherwise never be seen or typed by a human.


<P>
Note that <CODE>uucico</CODE> appears as the login shell, and that it will be
run with no arguments.  This means that it will start in slave mode and
accept an incoming connection.  See section <A HREF="uucp.html#SEC25">Invoking uucico</A>.


<P>
On some systems, creating an empty file named <TT>`.hushlogin'</TT> in the
home directory will skip the printing of various bits of information
when the remote <CODE>uucico</CODE> logs in, speeding up the UUCP connection
process.


<P>
For the greatest security, each system which calls in should use a
different user name, each with a different password, and the
<CODE>called-login</CODE> command should be used in the <TT>`sys'</TT> file to
ensure that the correct login name is used.  See section <A HREF="uucp.html#SEC72">Accepting a Call</A>,
and see section <A HREF="uucp.html#SEC82">Security</A>.


<P>
If you never need to dial out from your system, but only accept incoming
calls, you can arrange for <CODE>uucico</CODE> to handle logins itself,
completely controlling the port, by using the <SAMP>`--endless'</SAMP> option.
See section <A HREF="uucp.html#SEC25">Invoking uucico</A>.




<H2><A NAME="SEC41" HREF="uucp.html#TOC41">Using UUCP for Mail and News.</A></H2>
<P>
<A NAME="IDX4"></A>
<A NAME="IDX5"></A>


<P>
Taylor UUCP does not include a mail package.  All Unix systems come with
some sort of mail delivery agent, typically <CODE>sendmail</CODE> or
<CODE>MMDF</CODE>.  Source code is available for some alternative mail
delivery agents, such as <CODE>IDA sendmail</CODE> and <CODE>smail</CODE>.


<P>
Taylor UUCP also does not include a news package.  The two major Unix
news packages are <CODE>C-news</CODE> and <CODE>INN</CODE>.  Both are available in
source code form.


<P>
Configuring and using mail delivery agents is a notoriously complex
topic, and I will not be discussing it here.  Configuring news systems
is usually simpler, but I will not be discussing that either.  I will
merely describe the interactions between the mail and news systems and
UUCP.


<P>
A mail or news system interacts with UUCP in two ways: sending and
receiving.




<H3><A NAME="SEC42" HREF="uucp.html#TOC42">Sending mail or news via UUCP</A></H3>

<P>
When mail is to be sent from your machine to another machine via UUCP,
the mail delivery agent will invoke <CODE>uux</CODE>.  It will generally run a
command such as <SAMP>`uux - <VAR>system</VAR>!rmail <VAR>address</VAR>'</SAMP>, where
<VAR>system</VAR> is the remote system to which the mail is being sent.  It
may pass other options to <CODE>uux</CODE>, such as <SAMP>`-r'</SAMP> or <SAMP>`-g'</SAMP>
(see section <A HREF="uucp.html#SEC8">Invoking uux</A>).


<P>
The news system also invokes <CODE>uux</CODE> in order to transfer articles to
another system.  The only difference is that news will use <CODE>uux</CODE> to
invoke <CODE>rnews</CODE> on the remote system, rather than <CODE>rmail</CODE>.


<P>
You should arrange for your mail and news systems to invoke the Taylor
UUCP version of <CODE>uux</CODE>.  If you only have Taylor UUCP, or if you
simply replace any existing version of <CODE>uux</CODE> with the Taylor UUCP
version, this will probably happen automatically.  However, if you have
two UUCP packages installed on your system, you will probably have to
modify the mail and news configuration files in some way.


<P>
Actually, if both the system UUCP and Taylor UUCP are using the same
spool directory format, the system <CODE>uux</CODE> will probably work fine
with the Taylor <CODE>uucico</CODE> (the reverse is not the case: the Taylor
<CODE>uux</CODE> requires the Taylor <CODE>uucico</CODE>).  However, data transfer
will be somewhat more efficient if the Taylor <CODE>uux</CODE> is used.




<H3><A NAME="SEC43" HREF="uucp.html#TOC43">Receiving mail or news via UUCP</A></H3>

<P>
To receive mail, all that is necessary is for UUCP to invoke
<CODE>rmail</CODE>.  Any mail delivery agent will provide an appropriate
version of <CODE>rmail</CODE>; you must simply make sure that it is in the
command path used by UUCP (it almost certainly already is).  The default
command path is set in <TT>`policy.h'</TT>, and it may be overridden for a
particular system by the <CODE>command-path</CODE> command
(see section <A HREF="uucp.html#SEC75">Miscellaneous sys File Commands</A>).


<P>
Similarly, for news UUCP must be able to invoke <CODE>rnews</CODE>.  Any news
system will provide a version of <CODE>rnews</CODE>, and you must ensure that
is in a directory on the path that UUCP will search.




<H2><A NAME="SEC44" HREF="uucp.html#TOC44">The Spool Directory Layout</A></H2>
<P>
<A NAME="IDX6"></A>


<P>
In general, the layout of the spool directory may be safely ignored.
However, it is documented here for the curious.  This description only
covers the <CODE>SPOOLDIR_TAYLOR</CODE> layout.  The ways in which the other
spool directory layouts differ are described in the source file
<TT>`unix/spool.c'</TT>.


<P>
Directories and files are only created when they are needed, so a
typical system will not have all of the entries described here.




<H3><A NAME="SEC45" HREF="uucp.html#TOC45">System Spool Directories</A></H3>
<P>
<A NAME="IDX7"></A>


<DL COMPACT>

<DT><TT>`<VAR>system</VAR>'</TT>
<DD>
There is a subdirectory of the main spool directory for each remote
system.

<DT><TT>`<VAR>system</VAR>/C.'</TT>
<DD>
This directory stores files describing file transfer commands to be sent
to the <VAR>system</VAR>.  Each file name starts with <TT>`C.<VAR>g</VAR>'</TT>, where
<VAR>g</VAR> is the job grade.  Each file contains one or more commands.  For
details of the commands, see section <A HREF="uucp.html#SEC90">UUCP Protocol Commands</A>.

<DT><TT>`<VAR>system</VAR>/D.'</TT>
<DD>
This directory stores data files.  Files with names like
<TT>`D.<VAR>g</VAR><VAR>ssss</VAR>'</TT>, where <VAR>g</VAR> is the grade and <VAR>ssss</VAR> is
a sequence number, are waiting to be transferred to the <VAR>system</VAR>, as
directed by the files in the <TT>`<VAR>system</VAR>/C.'</TT> directory.  Files
with other names, typically <TT>`D.<VAR>system</VAR><VAR>g</VAR><VAR>ssss</VAR>'</TT>, have
been received from <VAR>system</VAR> and are waiting to be processed by an
execution file in the <TT>`<VAR>system</VAR>/X.'</TT> directory.

<DT><TT>`<VAR>system</VAR>/D.X'</TT>
<DD>
This directory stores data files which will become execution files on
the remote system.  In current practice, this directory rarely exists,
because most simple executions, including typical uses of <CODE>rmail</CODE>
and <CODE>rnews</CODE>, send an <SAMP>`E'</SAMP> command rather than an execution file
(see section <A HREF="uucp.html#SEC94">The E Command</A>).

<DT><TT>`<VAR>system</VAR>/X.'</TT>
<DD>
This directory stores execution files which have been received from
<VAR>system</VAR>.  This directory normally exists, even though the
corresponding <TT>`D.X'</TT> directory does not, because <CODE>uucico</CODE> will
create an execution file on the fly when it receives an <SAMP>`E'</SAMP>
command.

<DT><TT>`<VAR>system</VAR>/SEQF'</TT>
<DD>
This file holds the sequence number of the last job sent to
<VAR>system</VAR>.  The sequence number is used to ensure that file names are
unique in the remote system spool directory.  The file is four bytes
long.  Sequence numbers are composed of digits and the upper case
letters.
</DL>



<H3><A NAME="SEC46" HREF="uucp.html#TOC46">Status Directory</A></H3>

<DL COMPACT>

<DT><TT>`.Status'</TT>
<DD>
<A NAME="IDX8"></A>
<A NAME="IDX9"></A>
This directory holds status files for each remote system.  The name of
the status file is the name of the system which it describes.  Each
status file describes the last conversation with the system.  Running
<CODE>uustat --status</CODE> basically just formats and prints the contents of
the status files (see section <A HREF="uucp.html#SEC15">uustat Examples</A>).

Each status file has a single text line with six fields.

<DL COMPACT>

<DT>code
<DD>
A code indicating the status of the last conversation.  The following
values are defined, though not all are actually used.
<DL COMPACT>

<DT><SAMP>`0'</SAMP>
<DD>
Conversation completed normally.
<DT><SAMP>`1'</SAMP>
<DD>
<CODE>uucico</CODE> was unable to open the port.
<DT><SAMP>`2'</SAMP>
<DD>
The last call to the system failed while dailing.
<DT><SAMP>`3'</SAMP>
<DD>
The last call to the system failed while logging in.
<DT><SAMP>`4'</SAMP>
<DD>
The last call to the system failed during the initial UUCP protocol
handshake (see section <A HREF="uucp.html#SEC89">The Initial Handshake</A>).
<DT><SAMP>`5'</SAMP>
<DD>
The last call to the system failed after the initial handshake.
<DT><SAMP>`6'</SAMP>
<DD>
<CODE>uucico</CODE> is currently talking to the system.
<DT><SAMP>`7'</SAMP>
<DD>
The last call to the system failed because it was the wrong time to call
(this is not used if calling the system is never permitted).
</DL>

<DT>retries
<DD>
The number of retries since the last successful call.

<DT>time of last call
<DD>
The time of the last call, in seconds since the epoch (as returned by
the <CODE>time</CODE> system call).

<DT>wait
<DD>
If the last call failed, this is the number of seconds since the last
call before <CODE>uucico</CODE> may attempt another call.  This is set based
on the retry time; see section <A HREF="uucp.html#SEC69">When to Call</A>.  The <SAMP>`-f'</SAMP> or <SAMP>`-S'</SAMP>
options to <CODE>uucico</CODE> direct it to ignore this wait time; see
section <A HREF="uucp.html#SEC25">Invoking uucico</A>.

<DT>description
<DD>
A text description of the status, corresponding to the code in the first
field.  This may contain spaces.

<DT>system name
<DD>
The name of the remote system.
</DL>
</DL>



<H3><A NAME="SEC47" HREF="uucp.html#TOC47">Execution Subdirectories</A></H3>

<DL COMPACT>

<DT><TT>`.Xqtdir'</TT>
<DD>
<A NAME="IDX10"></A>
When <CODE>uuxqt</CODE> executes a job requested by <CODE>uux</CODE>, it first
changes the working directory to the <TT>`.Xqtdir'</TT> subdirectory.  This
permits the job to create any sort of temporary file without worrying
about overwriting other files in the spool directory.  Any files left
in the <TT>`.Xqtdir'</TT> subdirectory are removed after each execution is
complete.

<DT><TT>`.Xqtdir<VAR>nnnn</VAR>'</TT>
<DD>
When several instances of <CODE>uuxqt</CODE> are executing simultaneously,
each one executes jobs in a separate directory.  The first uses
<TT>`.Xqtdir'</TT>, the second uses <TT>`.Xqtdir0001'</TT>, the third uses
<TT>`.Xqtdir0002'</TT>, and so forth.

<DT><TT>`.Corrupt'</TT>
<DD>
<A NAME="IDX11"></A>
If <CODE>uuxqt</CODE> encounters an execution file which it is unable to
parse, it saves it in the <TT>`.Corrupt'</TT> directory, and sends mail
about it to the UUCP administrator.

<DT><TT>`.Failed'</TT>
<DD>
<A NAME="IDX12"></A>
If <CODE>uuxqt</CODE> executes a job, and the job fails, and there is enough
disk space to hold the command file and all the data files, then
<CODE>uuxqt</CODE> saves the files in the <TT>`.Failed'</TT> directory, and sends
mail about it to the UUCP administrator.
</DL>



<H3><A NAME="SEC48" HREF="uucp.html#TOC48">Other Spool Subdirectories</A></H3>

<DL COMPACT>

<DT><TT>`.Sequence'</TT>
<DD>
<A NAME="IDX13"></A>
This directory holds conversation sequence number files.  These are used
if the <CODE>sequence</CODE> command is used for a system
(see section <A HREF="uucp.html#SEC75">Miscellaneous sys File Commands</A>).  The sequence number for the system
<VAR>system</VAR> is stored in the file <TT>`.Sequence/<VAR>system</VAR>'</TT>.  It is
simply stored as a printable number.

<DT><TT>`.Temp'</TT>
<DD>
<A NAME="IDX14"></A>
This directory holds data files as they are being received from a remote
system, before they are moved to their final destination.  For file send
requests which use a valid temporary file name in the <VAR>temp</VAR> field
of the <SAMP>`S'</SAMP> or <SAMP>`E'</SAMP> command (see section <A HREF="uucp.html#SEC91">The S Command</A>),
<CODE>uucico</CODE> receives the file into
<TT>`.Temp/<VAR>system</VAR>/<VAR>temp</VAR>'</TT>, where <VAR>system</VAR> is the name of
the remote system, and <VAR>temp</VAR> is the temporary file name.  If a
conversation fails during a file transfer, these files are used to
automatically restart the file transfer from the point of failure.

If the <SAMP>`S'</SAMP> or <SAMP>`E'</SAMP> command does not include a temporary file
name, automatic restart is not possible.  In this case, the files are
received into a randomly named file in the <TT>`.Temp'</TT> directory
itself.

<DT><TT>`.Preserve'</TT>
<DD>
<A NAME="IDX15"></A>
This directory holds data files which could not be transferred to a
remote system for some reason (for example, the data file might be
large, and exceed size restrictions imposed by the remote system).  When
a locally requested file transfer fails, <CODE>uucico</CODE> will store the
data file in the <TT>`.Preserve'</TT> directory, and send mail to the
requestor describing the failure and naming the saved file.

<DT><TT>`.Received'</TT>
<DD>
<A NAME="IDX16"></A>
This directory records which files have been received.  If a
conversation fails just after <CODE>uucico</CODE> acknowledges receipt of a
file, it is possible for the acknowledgement to be lost.  If this
happens, the remote system will resend the file.  If the file were an
execution request, and <CODE>uucico</CODE> did not keep track of which files
it had already received, this could lead to the execution being
performed twice.

To avoid this problem, when a conversation fails, <CODE>uucico</CODE> records
each file that has been received, but for which the remote system may
not have received the acknowledgement.  It records this information by
creating an empty file with the name
<TT>`.Received/<VAR>system</VAR>/<VAR>temp</VAR>'</TT>, where <VAR>system</VAR> is the name
of the remote system, and <VAR>temp</VAR> is the <VAR>temp</VAR> field of the
<SAMP>`S'</SAMP> or <SAMP>`E'</SAMP> command from the remote system (see section <A HREF="uucp.html#SEC91">The S Command</A>).  Then, if the remote system offers the file again in the next
conversation, <CODE>uucico</CODE> refuses the send request and deletes the
record in the <TT>`.Received'</TT> directory.  This approach only works for
file sends which use a temporary file name, but this is true of all
execution requests.
</DL>



<H3><A NAME="SEC49" HREF="uucp.html#TOC49">Lock Files in the Spool Directory</A></H3>
<P>
<A NAME="IDX17"></A>


<P>
Lock files for devices and systems are stored in the lock directory,
which may or may not be the same as the spool directory.  The lock
directory is set at compilation time by <CODE>LOCKDIR</CODE> in
<TT>`policy.h'</TT>, which may be overridden by the <CODE>lockdir</CODE> command
in the <TT>`config'</TT> file (see section <A HREF="uucp.html#SEC61">Miscellaneous config File Commands</A>).


<P>
For a description of the names used for device lock files, and the
format of the contents of a lock file, see section <A HREF="uucp.html#SEC86">UUCP Lock Files</A>.


<DL COMPACT>

<DT><TT>`LCK..<VAR>sys</VAR>'</TT>
<DD>
<A NAME="IDX18"></A>
<A NAME="IDX19"></A>
A lock file for a system, where <VAR>sys</VAR> is the system name.  As noted
above, these lock files are kept in the lock directory, which may not be
the spool directory.  These lock files are created by <CODE>uucico</CODE>
while talking to a remote system, and are used to prevent multiple
simultaneous conversations with a system.  

On systems which limit file names to 14 characters, only the first eight
characters of the system name are used in the lock file name.  This
requires that the names of each directly connected remote system be
unique in the first eight characters.

<DT><TT>`LCK.XQT.<VAR>NN</VAR>'</TT>
<DD>
<A NAME="IDX20"></A>
When <CODE>uuxqt</CODE> starts up, it uses lock files to determine how many
other <CODE>uuxqt</CODE> daemons are currently running.  It first tries to
lock <TT>`LCK.XQT.0'</TT>, then <TT>`LCK.XQT.1'</TT>, and so forth.  This is
used to implement the <CODE>max-uuxqts</CODE> command (see section <A HREF="uucp.html#SEC61">Miscellaneous config File Commands</A>).  It is also used to parcel out the <TT>`.Xqtdir'</TT>
subdirectories (see section <A HREF="uucp.html#SEC47">Execution Subdirectories</A>).

<DT><TT>`LXQ.<VAR>cmd</VAR>'</TT>
<DD>
<A NAME="IDX21"></A>
When <CODE>uuxqt</CODE> is invoked with the <SAMP>`-c'</SAMP> or <SAMP>`--command'</SAMP>
option (see section <A HREF="uucp.html#SEC28">Invoking uuxqt</A>), it creates a lock file named after the
command it is executing.  For example, <SAMP>`uuxqt -c rmail'</SAMP> will create
the lock file <TT>`LXQ.rmail'</TT>.  This prevents other <CODE>uuxqt</CODE>
daemons from executing jobs of the specified type.

<DT><TT>`<VAR>system</VAR>/X./L.<VAR>xxx</VAR>'</TT>
<DD>
<A NAME="IDX22"></A>
While <CODE>uuxqt</CODE> is executing a particular job, it creates a lock file
with the same name as the <TT>`X.'</TT> file describing the job, but
replacing the initial <SAMP>`X'</SAMP> with <SAMP>`L'</SAMP>.  This ensures that if
multiple <CODE>uuxqt</CODE> daemons are running, they do not simultaneously
execute the same job.

<DT><TT>`LCK..SEQ'</TT>
<DD>
This lock file is used to control access to the sequence files for each
system (see section <A HREF="uucp.html#SEC45">System Spool Directories</A>).  It is only used on systems
which do not support POSIX file locking using the <CODE>fcntl</CODE> system
call.
</DL>



<H2><A NAME="SEC50" HREF="uucp.html#TOC50">Cleaning the Spool Directory</A></H2>
<P>
<A NAME="IDX23"></A>
<A NAME="IDX24"></A>


<P>
The spool directory may need to be cleaned up periodically.  Under some
circumstances, files may accumulate in various subdirectories, such as
<TT>`.Preserve'</TT> (see section <A HREF="uucp.html#SEC48">Other Spool Subdirectories</A>) or <TT>`.Corrupt'</TT>
(see section <A HREF="uucp.html#SEC47">Execution Subdirectories</A>).


<P>
Also, if a remote system stops calling in, you may want to arrange for
any queued up mail to be returned to the sender.  This can be done using
the <CODE>uustat</CODE> command (see section <A HREF="uucp.html#SEC12">Invoking uustat</A>).


<P>
The <TT>`contrib'</TT> directory includes a simple <TT>`uuclean'</TT> script
which may be used as an example of a clean up script.  It can be run
daily out of <TT>`crontab'</TT>.


<P>
You should periodically trim the UUCP log files, as they will otherwise
grow without limit.  The names of the log files are set in
<TT>`policy.h'</TT>, and may be overridden in the configuration file
(see section <A HREF="uucp.html#SEC60">The Main Configuration File</A>).  By default they are are
<TT>`/usr/spool/uucp/Log'</TT> and <TT>`/usr/spool/uucp/Stats'</TT>.  You may
find the <CODE>savelog</CODE> program in the <TT>`contrib'</TT> directory to be of
use.  There is a manual page for it in <TT>`contrib'</TT> as well.




<H1><A NAME="SEC51" HREF="uucp.html#TOC51">Taylor UUCP Configuration Files</A></H1>

<P>
This chapter describes the configuration files accepted by the Taylor
UUCP package if compiled with <CODE>HAVE_TAYLOR_CONFIG</CODE> set to 1 in
<TT>`policy.h'</TT>.


<P>
The configuration files are normally found in the directory
<VAR>newconfigdir</VAR>, which is defined by the <TT>`Makefile'</TT> variable
<TT>`newconfigdir'</TT>; by default <VAR>newconfigdir</VAR> is
<TT>`/usr/local/conf/uucp'</TT>.  However, the main configuration file,
<TT>`config'</TT>, is the only one which must be in that directory, since it
may specify a different location for any or all of the other files.  You
may run any of the UUCP programs with a different main configuration
file by using the <SAMP>`-I'</SAMP> or <SAMP>`--config'</SAMP> option; this can be
useful when testing a new configuration.  When you use the <SAMP>`-I'</SAMP>
option the programs will revoke any setuid privileges.




<H2><A NAME="SEC52" HREF="uucp.html#TOC52">Configuration File Overview</A></H2>

<P>
UUCP uses several different types of configuration files, each
describing a different kind of information.  The commands permitted in
each file are described in detail below.  This section is a brief
description of some of the different types of files.


<P>
The <TT>`config'</TT> file is the main configuration file.  It describes
general information not associated with a particular remote system, such
as the location of various log files.  There are reasonable defaults for
everything that may be specified in the <TT>`config'</TT> file, so you may
not actually need one on your system.


<P>
There may be only one <TT>`config'</TT> file, but there may be one or more
of each other type of file.  The default is one file for each type, but
more may be listed in the <TT>`config'</TT> file.


<P>
The <TT>`sys'</TT> files are used to describe remote systems.  Each remote
system to which you connect must be listed in a <TT>`sys'</TT> file.  A
<TT>`sys'</TT> file will include information for a system, such as the speed
(baud rate) to use, or when to place calls.


<P>
For each system you wish to call, you must describe one or more ports;
these ports may be defined directly in the <TT>`sys'</TT> file, or they may
be defined in a <TT>`port'</TT> file.


<P>
The <TT>`port'</TT> files are used to describe ports.  A port is a
particular hardware connection on your computer.  You would normally
define as many ports as there are modems attached to your computer.  A
TCP connection is also described using a port.


<P>
The <TT>`dial'</TT> files are used to describe dialers.  Dialer is
essentially another word for modem.  The <TT>`dial'</TT> file describes the
commands UUCP should use to dial out on a particular type of modem.  You
would normally define as many dialers as there are types of modems
attached to your computer.  For example, if you have three Telebit
modems used for UUCP, you would probably define three ports and one
dialer.


<P>
There are other types of configuration files, but these are the
important ones.  The other types are described below.




<H2><A NAME="SEC53" HREF="uucp.html#TOC53">Configuration File Format</A></H2>

<P>
All the configuration files follow a simple line-oriented
<SAMP>`<VAR>keyword</VAR> <VAR>value</VAR>'</SAMP> format.  Empty lines are ignored, as
are leading spaces; unlike HDB, lines with leading spaces are read.  The
first word on each line is a keyword.  The rest of the line is
interpreted according to the keyword.  Most keywords are followed by
numbers, boolean values or simple strings with no embedded spaces.


<P>
The <KBD>#</KBD> character is used for comments.  Everything from a <KBD>#</KBD>
to the end of the line is ignored unless the <KBD>#</KBD> is preceded by a
<KBD>\</KBD> (backslash); if the <KBD>#</KBD> is preceeded by a <KBD>\</KBD>, the
<KBD>\</KBD> is removed but the <KBD>#</KBD> remains in the line.  This can be
useful for a phone number containing a <KBD>#</KBD>.  To enter the sequence
<SAMP>`\#'</SAMP>, use <SAMP>`\\#'</SAMP>.  


<P>
The backslash character may be used to continue lines.  If the last
character in a line is a backslash, the backslash is removed and the
line is continued by the next line.  The second line is attached to the
first with no intervening characters; if you want any whitespace between
the end of the first line and the start of the second line, you must
insert it yourself.


<P>
However, the backslash is not a general quoting character.  For example,
you cannot use it to get an embedded space in a string argument.


<P>
Everything after the keyword must be on the same line.  A <VAR>boolean</VAR>
may be specified as <KBD>y</KBD>, <KBD>Y</KBD>, <KBD>t</KBD>, or <KBD>T</KBD> for true and
<KBD>n</KBD>, <KBD>N</KBD>, <KBD>f</KBD>, or <KBD>F</KBD> for false; any trailing characters
are ignored, so <CODE>true</CODE>, <CODE>false</CODE>, etc., are also acceptable.




<H2><A NAME="SEC54" HREF="uucp.html#TOC54">Examples of Configuration Files</A></H2>

<P>
This section provides few typical examples of configuration files.
There are also sample configuration files in the <TT>`sample'</TT>
subdirectory of the distribution.




<H3><A NAME="SEC55" HREF="uucp.html#TOC55">config File Examples</A></H3>
<P>
<A NAME="IDX25"></A>


<P>
To start with, here are some examples of uses of the main configuration
file, <TT>`config'</TT>.  For a complete description of the commands that
are permitted in <TT>`config'</TT>, see section <A HREF="uucp.html#SEC60">The Main Configuration File</A>.


<P>
In many cases you will not need to create a <TT>`config'</TT> file at all.
The most common reason to create one is to give your machine a special
UUCP name.  Other reasons might be to change the UUCP spool directory,
or to permit any remote system to call in.


<P>
If you have an internal network of machines, then it is likely that the
internal name of your UUCP machine is not the name you want to use when
calling other systems.  For example, here at <TT>`airs.com'</TT> our
mail/news gateway machine is named <TT>`elmer.airs.com'</TT> (it is one of
several machines all named <TT>`<VAR>localname</VAR>.airs.com'</TT>).  If we did
not provide a <TT>`config'</TT> file, then our UUCP name would be
<TT>`elmer'</TT>; however, we actually want it to be <TT>`airs'</TT>.
Therefore, we use the following line in <TT>`config'</TT>:



<PRE>
nodename airs
</PRE>

<P>
<A NAME="IDX26"></A>
<A NAME="IDX27"></A>
The UUCP spool directory name is set in <TT>`policy.h'</TT> when the code is
compiled.  You might at some point decide that it is appropriate to move
the spool directory, perhaps to put it on a different disk partition.
You would use the following commands in <TT>`config'</TT> to change to
directories on the partition <TT>`/uucp'</TT>:



<PRE>
spool /uucp/spool
pubdir /uucp/uucppublic
logfile /uucp/spool/Log
debugfile /uucp/spool/Debug
</PRE>

<P>
You would then move the contents of the current spool directory to
<TT>`/uucp/spool'</TT>.  If you do this, make sure that no UUCP processes
are running while you change <TT>`config'</TT> and move the spool directory.


<P>
<A NAME="IDX28"></A>
Suppose you wanted to permit any system to call in to your system and
request files.  This is generally known as <EM>anonymous UUCP</EM>, since
the systems which call in are effectively anonymous.  By default,
unknown systems are not permitted to call in.  To permit this you must
use the <CODE>unknown</CODE> command in <TT>`config'</TT>.  The <CODE>unknown</CODE>
command is followed by any command that may appear in the system file;
for full details, see section <A HREF="uucp.html#SEC65">The System Configuration File</A>.


<P>
I will show two possible anonymous UUCP configurations.  The first will
let any system call in and download files, but will not permit them to
upload files to your system.



<PRE>
# No files may be transferred to this system
unknown receive-request no
# The public directory is /usr/spool/anonymous
unknown pubdir /usr/spool/anonymous
# Only files in the public directory may be sent (the default anyhow)
unknown remote-send ~
</PRE>

<P>
Setting the public directory is convenient for the systems which call
in.  It permits to request a file by prefixing it with <TT>`~/'</TT>.  For
example, assuming your system is known as <SAMP>`server'</SAMP>, then to
retrieve the file <TT>`/usr/spool/anonymous/INDEX'</TT> a user on a remote
site could just enter <SAMP>`uucp server!~/INDEX ~'</SAMP>; this would transfer
<TT>`INDEX'</TT> from <SAMP>`server'</SAMP>'s public directory to the user's local
public directory.  Note that when using <SAMP>`csh'</SAMP> or <SAMP>`bash'</SAMP> the
<KBD>!</KBD> and the second <KBD>~</KBD> must be quoted.


<P>
The next example will permit remote systems to upload files to a special
directory named <TT>`/usr/spool/anonymous/upload'</TT>.  Permitting a remote
system to upload files permits it to send work requests as well; this
example is careful to prohibit commands from unknown systems.



<PRE>
# No commands may be executed (the list of permitted commands is empty)
unknown commands
# The public directory is /usr/spool/anonymous
unknown pubdir /usr/spool/anonymous
# Only files in the public directory may be sent; users may not download
# files from the upload directory
unknown remote-send ~ !~/upload
# May only upload files into /usr/spool/anonymous/upload
unknown remote-receive ~/upload
</PRE>



<H3><A NAME="SEC56" HREF="uucp.html#TOC56">Leaf Example</A></H3>

<P>
<A NAME="IDX29"></A>
<A NAME="IDX30"></A>
A relatively common simple case is a <EM>leaf site</EM>, a system which
only calls or is called by a single remote site.  Here is a typical
<TT>`sys'</TT> file that might be used in such a case.  For full details on
what commands can appear in the <TT>`sys'</TT> file, see section <A HREF="uucp.html#SEC65">The System Configuration File</A>.


<P>
This is the <TT>`sys'</TT> file that is used at <TT>`airs.com'</TT>.  We use a
single modem to dial out to <TT>`uunet'</TT>.  This example shows how you
can specify the port and dialer information directly in the <TT>`sys'</TT>
file for simple cases.  It also shows the use of the following:


<DL COMPACT>

<DT><CODE>call-login</CODE>
<DD>
Using <CODE>call-login</CODE> and <CODE>call-password</CODE> allows the default
login chat script to be used.  In this case, the login name is specified
in the call-out login file (see section <A HREF="uucp.html#SEC62">Configuration File Names</A>).

<DT><CODE>call-timegrade</CODE>
<DD>
<TT>`uunet'</TT> is requested to not send us news during the daytime.

<DT><CODE>chat-fail</CODE>
<DD>
If the modem returns <SAMP>`BUSY'</SAMP> or <SAMP>`NO CARRIER'</SAMP> the call is
immediately aborted.

<DT><CODE>protocol-parameter</CODE>
<DD>
Since <TT>`uunet'</TT> tends to be slow, the default timeout has been
increased.

</DL>

<P>
This <TT>`sys'</TT> file relies on certain defaults.  It will allow
<TT>`uunet'</TT> to queue up <SAMP>`rmail'</SAMP> and <SAMP>`rnews'</SAMP> commands.  It
will allow users to request files from <TT>`uunet'</TT> into the UUCP public
directory.  It will also allow <TT>`uunet'</TT> to request files from the
UUCP public directory; in fact <TT>`uunet'</TT> never requests files, but
for additional security we could add the line <SAMP>`request false'</SAMP>.



<PRE>
# The following information is for uunet
system uunet

# The login name and password are kept in the callout password file
call-login *
call-password *

# We can send anything at any time.
time any

# During the day we only accept grade `Z' or above; at other times
# (not mentioned here) we accept all grades.  uunet queues up news
# at grade `d', which is lower than `Z'.
call-timegrade Z Wk0755-2305,Su1655-2305

# The phone number.
phone 7389449

# uunet tends to be slow, so we increase the timeout
chat-timeout 120

# We are using a preconfigured Telebit 2500.
port type modem
port device /dev/ttyd0
port speed 19200
port carrier true
port dialer chat "" ATZ\r\d\c OK ATDT\D CONNECT
port dialer chat-fail BUSY
port dialer chat-fail NO\sCARRIER
port dialer complete \d\d+++\d\dATH\r\c
port dialer abort \d\d+++\d\dATH\r\c

# Increase the timeout and the number of retries.
protocol-parameter g timeout 20
protocol-parameter g retries 10
</PRE>



<H3><A NAME="SEC57" HREF="uucp.html#TOC57">Gateway Example</A></H3>

<P>
<A NAME="IDX31"></A>
<A NAME="IDX32"></A>
Many organizations have several local machines which are connected by
UUCP, and a single machine which connects to the outside world.  This
single machine is often referred to as a <EM>gateway</EM> machine.


<P>
For this example I will assume a fairly simple case.  It should still
provide a good general example.  There are three machines, <TT>`elmer'</TT>,
<TT>`comton'</TT> and <TT>`bugs'</TT>.  <TT>`elmer'</TT> is the gateway machine for
which I will show the configuration file.  <TT>`elmer'</TT> calls out to
<TT>`uupsi'</TT>.  As an additional complication, <TT>`uupsi'</TT> knows
<TT>`elmer'</TT> as <TT>`airs'</TT>; this will show how a machine can have one
name on an internal network but a different name to the external world.
<TT>`elmer'</TT> has two modems.  It also has an TCP connection to
<TT>`uupsi'</TT>, but since that is supposed to be reserved for interactive
work (it is, perhaps, only a 9600 baud SLIP line) it will only use it if
the modems are not available.


<P>
A network this small would normally use a single <TT>`sys'</TT> file.
However, for pedagogical purposes I will show two separate <TT>`sys'</TT>
files, one for the local systems and one for <TT>`uupsi'</TT>.  This is done
with the <CODE>sysfile</CODE> command in the <TT>`config'</TT> file.  Here is the
<TT>`config'</TT> file.



<PRE>
# This is config
# The local sys file
sysfile /usr/local/lib/uucp/sys.local
# The remote sys file
sysfile /usr/local/lib/uucp/sys.remote
</PRE>

<P>
Using the defaults feature of the <TT>`sys'</TT> file can greatly simplify
the listing of local systems.  Here is <TT>`sys.local'</TT>.  Note that this
assumes that the local systems are trusted; they are permited to request
any world readable file and to write files into any world writable
directory.



<PRE>
# This is sys.local
# Get the login name and password to use from the call-out file
call-login *
call-password *

# The systems must use a particular login
called-login Ulocal

# Permit sending any world readable file
local-send /
remote-send /

# Permit receiving into any world writable directory
local-receive /
remote-receive /

# Call at any time
time any

# Use port1, then port2
port port1

alternate

port port2

# Now define the systems themselves.  Because of all the defaults we
# used, there is very little to specify for the systems themselves.

system comton
phone 5551212

system bugs
phone 5552424
</PRE>

<P>
The <TT>`sys.remote'</TT> file describes the <TT>`uupsi'</TT> connection.  The
<CODE>myname</CODE> command is used to change the UUCP name to <TT>`airs'</TT>
when talking to <TT>`uupsi'</TT>.



<PRE>
# This is sys.remote
# Define uupsi
system uupsi

# The login name and password are in the call-out file
call-login *
call-password *

# We can call out at any time
time any

# uupsi uses a special login name
called-login Uuupsi

# uuspi thinks of us as `airs'
myname airs

# The phone number
phone 5554848

# We use port2 first, then port1, then TCP

port port2

alternate

port port1

alternate

# We don't bother to make a special entry in the port file for TCP, we
# just describe the entire port right here.  We use a special chat
# script over TCP because the usual one confuses some TCP servers.
port type TCP
address uu.psi.com
chat ogin: \L word: \P
</PRE>

<P>
The ports are defined in the file <TT>`port'</TT> (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>).  For
this example they are both connected to the same type of 2400 baud
Hayes-compatible modem.



<PRE>
# This is port

port port1
type modem
device /dev/ttyd0
dialer hayes
speed 2400

port port2
type modem
device /dev/ttyd1
dialer hayes
speed 2400
</PRE>

<P>
Dialers are described in the <TT>`dial'</TT> file (see section <A HREF="uucp.html#SEC78">The Dialer Configuration File</A>).



<PRE>
# This is dial

dialer hayes

# The chat script used to dial the phone.  \D is the phone number.
chat "" ATZ\r\d\c OK ATDT\D CONNECT

# If we get BUSY or NO CARRIER we abort the dial immediately
chat-fail BUSY
chat-fail NO\sCARRIER

# When the call is over we make sure we hangup the modem.
complete \d\d+++\d\dATH\r\c
abort \d\d+++\d\dATH\r\c
</PRE>



<H2><A NAME="SEC58" HREF="uucp.html#TOC58">Time Strings</A></H2>
<P>
<A NAME="IDX33"></A>


<P>
Several commands use time strings to specify a range of times.  This
section describes how to write time strings.


<P>
A time string may be a list of simple time strings separated with a
vertical bar <SAMP>`|'</SAMP> or a comma <SAMP>`,'</SAMP>.


<P>
Each simple time string must begin with <SAMP>`Su'</SAMP>, <SAMP>`Mo'</SAMP>, <SAMP>`Tu'</SAMP>,
<SAMP>`We'</SAMP>, <SAMP>`Th'</SAMP>, <SAMP>`Fr'</SAMP>, or <SAMP>`Sa'</SAMP>, or <SAMP>`Wk'</SAMP> for any
weekday, or <SAMP>`Any'</SAMP> for any day.


<P>
Following the day may be a range of hours separated with a hyphen using
24 hour time.  The range of hours may cross 0; for example
<SAMP>`2300-0700'</SAMP> means any time except 7 AM to 11 PM.  If no time is
given, calls may be made at any time on the specified day(s).  


<P>
The time string may also be the single word <SAMP>`Never'</SAMP>, which does not
match any time.  The time string may also be a single word with a name
defined in a previous <CODE>timetable</CODE> command (see section <A HREF="uucp.html#SEC61">Miscellaneous config File Commands</A>).


<P>
Here are a few sample time strings with an explanation of what they
mean.


<DL COMPACT>

<DT><SAMP>`Wk2305-0855,Sa,Su2305-1655'</SAMP>
<DD>
This means weekdays before 8:55 AM or after 11:05 PM, any time Saturday,
or Sunday before 4:55 PM or after 11:05 PM.  These are approximately the
times during which night rates apply to phone calls in the U.S.A.  Note
that this time string uses, for example, <SAMP>`2305'</SAMP> rather than
<SAMP>`2300'</SAMP>; this will ensure a cheap rate phone call even if the
computer clock is running up to five minutes ahead of the real time.

<DT><SAMP>`Wk0905-2255,Su1705-2255'</SAMP>
<DD>
This means weekdays from 9:05 AM to 10:55 PM, or Sunday from 5:05 PM to
10:55 PM.  This is approximately the opposite of the previous example.

<DT><SAMP>`Any'</SAMP>
<DD>
This means any day.  Since no time is specified, it means any time on
any day.

</DL>



<H2><A NAME="SEC59" HREF="uucp.html#TOC59">Chat Scripts</A></H2>
<P>
<A NAME="IDX34"></A>


<P>
Chat scripts are used in several different places, such as dialing out
on modems or logging in to remote systems.  Chat scripts are made up of
pairs of strings.  The program waits until it sees the first string,
known as the <EM>expect</EM> string, and then sends out the second string,
the <EM>send</EM> string.


<P>
Each chat script is defined using a set of commands.  These commands
always end in a string beginning with <CODE>chat</CODE>, but may start with
different strings.  For example, in the <TT>`sys'</TT> file there is one set
of commands beginning with <CODE>chat</CODE> and another set beginning with
<CODE>called-chat</CODE>.  The prefixes are only used to disambiguate
different types of chat scripts, and this section ignores the prefixes
when describing the commands.


<DL COMPACT>

<DT><CODE>chat <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX35"></A>

Specify a chat script.  The arguments to the <CODE>chat</CODE> command are
pairs of strings separated by whitespace.  The first string of each pair
is an expect string, the second is a send string.  The program will wait
for the expect string to appear; when it does, the program will send the
send string.  If the expect string does not appear within a certain
number of seconds (as set by the <CODE>chat-timeout</CODE> command), the chat
script fails and, typically, the call is aborted.  If the final expect
string is seen (and the optional final send string has been sent), the
chat script is successful.

An expect string may contain additional subsend and subexpect strings,
separated by hyphens.  If the expect string is not seen, the subsend
string is sent and the chat script continues by waiting for the
subexpect string.  This means that a hyphen may not appear in an expect
string; on an ASCII system, use <SAMP>`\055'</SAMP> instead.

An expect string may simply be <SAMP>`""'</SAMP>, meaning to skip the expect
phase.  Otherwise, the following escape characters may appear in expect
strings:

<DL COMPACT>

<DT><SAMP>`\b'</SAMP>
<DD>
a backspace character
<DT><SAMP>`\n'</SAMP>
<DD>
a newline or line feed character
<DT><SAMP>`\N'</SAMP>
<DD>
a null character (for HDB compatibility)
<DT><SAMP>`\r'</SAMP>
<DD>
a carriage return character
<DT><SAMP>`\s'</SAMP>
<DD>
a space character
<DT><SAMP>`\t'</SAMP>
<DD>
a tab character
<DT><SAMP>`\\'</SAMP>
<DD>
a backslash character
<DT><SAMP>`\<VAR>ddd</VAR>'</SAMP>
<DD>
character <VAR>ddd</VAR>, where <VAR>ddd</VAR> are up to three octal digits
<DT><SAMP>`\x<VAR>ddd</VAR>'</SAMP>
<DD>
character <VAR>ddd</VAR>, where <VAR>ddd</VAR> are hexadecimal digits.
</DL>

As in C, there may be up to three octal digits following a backslash,
but the hexadecimal escape sequence continues as far as possible.  To
follow a hexadecimal escape sequence with a hex digit, interpose a send
string of <SAMP>`""'</SAMP>.

A chat script expect string may also specify a timeout.  This is done by
using the escape sequence <SAMP>`\W<VAR>seconds</VAR>'</SAMP>.  This escape sequence
may only appear at the very end of the expect string.  It temporarily
overrides the timeout set by <CODE>chat-timeout</CODE> (described below) only
for the expect string to which it is attached.

A send string may simply be <SAMP>`""'</SAMP> to skip the send phase.
Otherwise, all of the escape characters legal for expect strings may be
used, and the following escape characters are also permitted:

<DL COMPACT>

<DT><SAMP>`EOT'</SAMP>
<DD>
send an end of transmission character (<KBD>^D</KBD>)
<DT><SAMP>`BREAK'</SAMP>
<DD>
send a break character (may not work on all systems)
<DT><SAMP>`\c'</SAMP>
<DD>
suppress trailing carriage return at end of send string
<DT><SAMP>`\d'</SAMP>
<DD>
delay sending for 1 or 2 seconds
<DT><SAMP>`\e'</SAMP>
<DD>
disable echo checking
<DT><SAMP>`\E'</SAMP>
<DD>
enable echo checking
<DT><SAMP>`\K'</SAMP>
<DD>
same as <SAMP>`BREAK'</SAMP> (for HDB compatibility)
<DT><SAMP>`\p'</SAMP>
<DD>
pause sending for a fraction of a second
</DL>

Some specific types of chat scripts also define additional escape
sequences that may appear in the send string.  For example, the login
chat script defines <SAMP>`\L'</SAMP> and <SAMP>`\P'</SAMP> to send the login name and
password, respectively.

A carriage return will be sent at the end of each send string, unless
the <KBD>\c</KBD> escape sequence appears in the string.  Note that some UUCP
packages use <KBD>\b</KBD> for break, but here it means backspace.

Echo checking means that after writing each character the program will
wait until the character is echoed.  Echo checking must be turned on
separately for each send string for which it is desired; it will be
turned on for characters following <KBD>\E</KBD> and turned off for characters
following <KBD>\e</KBD>.

<DT><CODE>chat-timeout <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX36"></A>

The number of seconds to wait for an expect string in the chat script,
before timing out and sending the next subsend, or failing the chat
script entirely.  The default value is 10 for a login chat or 60 for any
other type of chat.

<DT><CODE>chat-fail <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX37"></A>

If the <VAR>string</VAR> is seen at any time during a chat script, the chat
script is aborted.  The string may not contain any whitespace
characters: escape sequences must be used for them.  Multiple
<CODE>chat-fail</CODE> commands may appear in a single chat script.  The
default is to have none.

This permits a chat script to be quickly aborted if an error string is
seen.  For example, a script used to dial out on a modem might use the
command <SAMP>`chat-fail BUSY'</SAMP> to stop the chat script immediately if the
string <SAMP>`BUSY'</SAMP> was seen.

The <CODE>chat-fail</CODE> strings are considered in the order they are
listed, so if one string is a suffix of another the longer one should be
listed first.  This affects the error message which will be logged.  Of
course, if one string is contained within another, but is not a suffix,
the smaller string will always be found before the larger string could
match.

<DT><CODE>chat-seven-bit <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX38"></A>

If the argument is true, all incoming characters are stripped to seven
bits when being compared to the expect string.  Otherwise all eight bits
are used in the comparison.  The default is true, because some Unix
systems generate parity bits during the login prompt which must be
ignored while running a chat script.  This has no effect on any
<CODE>chat-program</CODE>, which must ignore parity by itself if necessary.

<DT><CODE>chat-program <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX39"></A>

Specify a program to run before executing the chat script.  This program
could run its own version of a chat script, or it could do whatever it
wants.  If both <CODE>chat-program</CODE> and <CODE>chat</CODE> are specified, the
program is executed first followed by the chat script.

The first argument to the <CODE>chat-program</CODE> command is the program
name to run.  The remaining arguments are passed to the program.  The
following escape sequences are recognized in the arguments:

<DL COMPACT>

<DT><KBD>\Y</KBD>
<DD>
port device name
<DT><KBD>\S</KBD>
<DD>
port speed
<DT><KBD>\\</KBD>
<DD>
backslash
</DL>

Some specific uses of <CODE>chat-program</CODE> define additional escape
sequences.

Arguments other than escape sequences are passed exactly as they appear
in the configuration file, except that sequences of whitespace are
compressed to a single space character (this exception may be removed in
the future).

If the <CODE>chat-program</CODE> command is not used, no program is run.

On Unix, the standard input and standard output of the program will be
attached to the port in use.  Anything the program writes to standard
error will be written to the UUCP log file.  No other file descriptors
will be open.  If the program does not exit with a status of 0, it will
be assumed to have failed.  This means that the dialing programs used by
some versions of HDB may not be used directly, but you may be able to
run them via the <CODE>dialHDB</CODE> program in the <TT>`contrib'</TT> directory.

The program will be run as the <CODE>uucp</CODE> user, and the environment
will be that of the process that started <CODE>uucico</CODE>, so care must be
taken to maintain security.

No search path is used to find the program; a full file name must be
given.  If the program is an executable shell script, it will be passed
to <TT>`/bin/sh'</TT> even on systems which are unable to execute shell
scripts.

</DL>

<P>
Here is a simple example of a chat script that might be used to reset a
Hayes compatible modem.



<PRE>
chat "" ATZ OK-ATZ-OK
</PRE>

<P>
The first expect string is <SAMP>`""'</SAMP>, so it is ignored.  The chat script
then sends <SAMP>`ATZ'</SAMP>.  If the modem responds with <SAMP>`OK'</SAMP>, the chat
script finishes.  If 60 seconds (the default timeout) pass before seeing
<SAMP>`OK'</SAMP>, the chat script sends another <SAMP>`ATZ'</SAMP>.  If it then sees
<SAMP>`OK'</SAMP>, the chat script succeeds.  Otherwise, the chat script fails.


<P>
For a more complex chat script example, see section <A HREF="uucp.html#SEC71">Logging In</A>.




<H2><A NAME="SEC60" HREF="uucp.html#TOC60">The Main Configuration File</A></H2>
<P>
<A NAME="IDX40"></A>
<A NAME="IDX41"></A>
<A NAME="IDX42"></A>


<P>
The main configuration file is named <TT>`config'</TT>.


<P>
Since all the values that may be specified in the main configuration
file also have defaults, there need not be a main configuration file at
all.


<P>
Each command in <TT>`config'</TT> may have a program prefix, which is a
separate word appearing at the beginning of the line.  The currently
supported prefixes are <SAMP>`uucp'</SAMP> and <SAMP>`cu'</SAMP>.  Any command prefixed
by <SAMP>`uucp'</SAMP> will not be read by the <CODE>cu</CODE> program.  Any command
prefixed by <SAMP>`cu'</SAMP> will only be read by the <CODE>cu</CODE> program.  For
example, to use a list of systems known only to <CODE>cu</CODE>, list them in
a separate file <TT>`<VAR>file</VAR>'</TT> and put <SAMP>`cu sysfile
<TT>`<VAR>file</VAR>'</TT>'</SAMP> in <TT>`config'</TT>.




<H3><A NAME="SEC61" HREF="uucp.html#TOC61">Miscellaneous config File Commands</A></H3>

<DL COMPACT>

<DT><CODE>nodename <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX43"></A>
<DT><CODE>hostname <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX44"></A>
<DT><CODE>uuname <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX45"></A>
<A NAME="IDX46"></A>
<A NAME="IDX47"></A>

These keywords are equivalent.  They specify the UUCP name of the local
host.  If there is no configuration file, an appropriate system function
will be used to get the host name, if possible.

<DT><CODE>spool <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX48"></A>
<A NAME="IDX49"></A>
<A NAME="IDX50"></A>

Specify the spool directory.  The default is from <TT>`policy.h'</TT>.  This
is where UUCP files are queued.  Status files and various sorts of
temporary files are also stored in this directory and subdirectories of
it.

<DT><CODE>pubdir <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX51"></A>
<A NAME="IDX52"></A>
<A NAME="IDX53"></A>
<A NAME="IDX54"></A>

Specify the public directory.  The default is from <TT>`policy.h'</TT>.
When a file is named using a leading <KBD>~/</KBD>, it is taken from or to
the public directory.  Each system may use a separate public directory
by using the <CODE>pubdir</CODE> command in the system configuration file; see
section <A HREF="uucp.html#SEC75">Miscellaneous sys File Commands</A>.

<DT><CODE>lockdir <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX55"></A>
<A NAME="IDX56"></A>

Specify the directory to place lock files in.  The default is from
<TT>`policy.h'</TT>; see the information in that file.  Normally the lock
directory should be set correctly in <TT>`policy.h'</TT>, and not changed
here.  However, changing the lock directory is sometimes useful for
testing purposes.  This only affects lock files for devices and systems;
it does not affect certain internal lock files which are stored in the
spool directory (see section <A HREF="uucp.html#SEC49">Lock Files in the Spool Directory</A>).

<DT><CODE>unknown <VAR>string</VAR> ...</CODE>
<DD>
<A NAME="IDX57"></A>
<A NAME="IDX58"></A>

The <VAR>string</VAR> and subsequent arguments are treated as though they
appeared in the system file (see section <A HREF="uucp.html#SEC65">The System Configuration File</A>).  They are used to apply
to any unknown systems that may call in, probably to set file transfer
permissions and the like.  If the <CODE>unknown</CODE> command is not used,
unknown systems are not permitted to call in.

<DT><CODE>strip-login <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX59"></A>
<A NAME="IDX60"></A>

If the argument is true, then, when <CODE>uucico</CODE> is doing its own login
prompting with the <SAMP>`-e'</SAMP>, <SAMP>`-l'</SAMP>, or <SAMP>`-w'</SAMP> switches, it will
strip the parity bit when it reads the login name and password.
Otherwise all eight bits will be used when checking the strings against
the UUCP password file.  The default is true, since some other UUCP
packages send parity bits with the login name and password, and few
systems use eight bit characters in the password file.

<DT><CODE>strip-proto <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX61"></A>

If the argument is true, then <CODE>uucico</CODE> will strip the parity bit
from incoming UUCP protocol commands.  Otherwise all eight bits will be
used.  This only applies to commands which are not encapsulated in a
link layer protocol.  The default is true, which should always be
correct unless your UUCP system names use eight bit characters.

<DT><CODE>max-uuxqts <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX62"></A>

Specify the maximum number of <CODE>uuxqt</CODE> processes which may run at
the same time.  Having several <CODE>uuxqt</CODE> processes running at once
can significantly slow down a system, but, since <CODE>uuxqt</CODE> is
automatically started by <CODE>uucico</CODE>, it can happen quite easily.  The
default for <CODE>max-uuxqts</CODE> is 0, which means that there is no limit.
If HDB configuration files are being read and the code was compiled
without <CODE>HAVE_TAYLOR_CONFIG</CODE>, then, if the file <TT>`Maxuuxqts'</TT> in
the configuration directory contains a readable number, it will be used
as the value for <CODE>max-uuxqts</CODE>.

<DT><CODE>run-uuxqt <VAR>string</VAR> or <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX63"></A>

Specify when <CODE>uuxqt</CODE> should be run by <CODE>uucico</CODE>.  This may be a
positive number, in which case <CODE>uucico</CODE> will start a <CODE>uuxqt</CODE>
process whenever it receives the given number of execution files from
the remote system, and, if necessary, at the end of the call.  The
argument may also be one of the strings <SAMP>`once'</SAMP>, <SAMP>`percall'</SAMP>, or
<SAMP>`never'</SAMP>.  The string <SAMP>`once'</SAMP> means that <CODE>uucico</CODE> will
start <CODE>uuxqt</CODE> once at the end of execution.  The string
<SAMP>`percall'</SAMP> means that <CODE>uucico</CODE> will start <CODE>uuxqt</CODE> once per
call that it makes (this is only different from <CODE>once</CODE> when
<CODE>uucico</CODE> is invoked in a way that causes it to make multiple calls,
such as when the <SAMP>`-r1'</SAMP> option is used without the <SAMP>`-s'</SAMP>
option).  The string <SAMP>`never'</SAMP> means that <CODE>uucico</CODE> will never
start <CODE>uuxqt</CODE>, in which case <CODE>uuxqt</CODE> should be periodically
run via some other mechanism.  The default depends upon which type of
configuration files are being used; if <CODE>HAVE_TAYLOR_CONFIG</CODE> is used
the default is <SAMP>`once'</SAMP>, otherwise if <CODE>HAVE_HDB_CONFIG</CODE> is used
the default is <SAMP>`percall'</SAMP>, and otherwise, for <CODE>HAVE_V2_CONFIG</CODE>,
the default is <SAMP>`10'</SAMP>.

<DT><CODE>timetable <VAR>string</VAR> <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX64"></A>

The <CODE>timetable</CODE> defines a timetable that may be used in
subsequently appearing time strings; see section <A HREF="uucp.html#SEC58">Time Strings</A>.  The first
string names the timetable entry; the second is a time string.

The following <CODE>timetable</CODE> commands are predefined.  The NonPeak
timetable is included for compatibility.  It originally described the
offpeak hours of Tymnet and Telenet, but both have since changed their
schedules.


<PRE>
timetable Evening Wk1705-0755,Sa,Su
timetable Night Wk2305-0755,Sa,Su2305-1655
timetable NonPeak Wk1805-0655,Sa,Su
</PRE>

If this command does not appear, then, obviously, no additional
timetables will be defined.

<DT><CODE>v2-files <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX65"></A>

If the code was compiled to be able to read V2 configuration files, a
false argument to this command will prevent them from being read.
This can be useful while testing.  The default is true.

<DT><CODE>hdb-files <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX66"></A>

If the code was compiled to be able to read HDB configuration files, a
false argument to this command will prevent them from being read.
This can be useful while testing.  The default is true.

</DL>



<H3><A NAME="SEC62" HREF="uucp.html#TOC62">Configuration File Names</A></H3>

<DL COMPACT>

<DT><CODE>sysfile <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX67"></A>

Specify the system file(s).  The default is the file <TT>`sys'</TT> in the
directory <VAR>newconfigdir</VAR>.  These files hold information about other
systems with which this system communicates; see section <A HREF="uucp.html#SEC65">The System Configuration File</A>.
Multiple system files may be given on the line, and the <CODE>sysfile</CODE>
command may be repeated; each system file has its own set of defaults.

<DT><CODE>portfile <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX68"></A>

Specify the port file(s).  The default is the file <TT>`port'</TT> in the
directory <VAR>newconfigdir</VAR>.  These files describe ports which are used
to call other systems and accept calls from other systems; see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>.  No port files need be named at all.  Multiple port files may be
given on the line, and the <CODE>portfile</CODE> command may be repeated.

<DT><CODE>dialfile <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX69"></A>

Specify the dial file(s).  The default is the file <TT>`dial'</TT> in the
directory <VAR>newconfigdir</VAR>.  These files describe dialing devices
(modems); see section <A HREF="uucp.html#SEC78">The Dialer Configuration File</A>.  No dial files need be named at all.
Multiple dial files may be given on the line, and the <CODE>dialfile</CODE>
command may be repeated.

<DT><CODE>dialcodefile <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX70"></A>
<A NAME="IDX71"></A>
<A NAME="IDX72"></A>
<A NAME="IDX73"></A>

Specify the dialcode file(s).  The default is the file <TT>`dialcode'</TT>
in the directory <VAR>newconfigdir</VAR>.  These files specify dialcodes that
may be used when sending phone numbers to a modem.  This permits using
the same set of phone numbers in different area-codes or with different
phone systems, by using dialcodes to specify the calling sequence.  When
a phone number goes through dialcode translation, the leading alphabetic
characters are stripped off.  The dialcode files are read line by line,
just like any other configuration file, and when a line is found whose
first word is the same as the leading characters from the phone number,
the second word on the line (which would normally consist of numbers)
replaces the dialcode in the phone number.  No dialcode file need be
used.  Multiple dialcode files may be specified on the line, and the
<CODE>dialcodefile</CODE> command may be repeated; all the dialcode files will
be read in turn until a dialcode is located.

<DT><CODE>callfile <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX74"></A>
<A NAME="IDX75"></A>
<A NAME="IDX76"></A>
<A NAME="IDX77"></A>
<A NAME="IDX78"></A>
<A NAME="IDX79"></A>

Specify the call out login name and password file(s).  The default is
the file <TT>`call'</TT> in the directory <VAR>newconfigdir</VAR>.  If the call
out login name or password for a system are given as <KBD>*</KBD>
(see section <A HREF="uucp.html#SEC71">Logging In</A>), these files are read to get the real login name or
password.  Each line in the file(s) has three words: the system name,
the login name, and the password.  The login name and password may
contain escape sequences like those in a chat script expect string
(see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).  This file is only used when placing calls to
remote systems; the password file described under <CODE>passwdfile</CODE>
below is used for incoming calls.  The intention of the call out file is
to permit the system file to be publically readable; the call out files
must obviously be kept secure.  These files need not be used.  Multiple
call out files may be specified on the line, and the <CODE>callfile</CODE>
command may be repeated; all the files will be read in turn until the
system is found.

<DT><CODE>passwdfile <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX80"></A>
<A NAME="IDX81"></A>
<A NAME="IDX82"></A>
<A NAME="IDX83"></A>
<A NAME="IDX84"></A>
<A NAME="IDX85"></A>

Specify the password file(s) to use for login names when <CODE>uucico</CODE>
is doing its own login prompting, which it does when given the
<SAMP>`-e'</SAMP>, <SAMP>`-l'</SAMP> or <SAMP>`-w'</SAMP> switches.  The default is the file
<TT>`passwd'</TT> in the directory <VAR>newconfigdir</VAR>.  Each line in the
file(s) has two words: the login name and the password (e.g., <CODE>Ufoo
foopas</CODE>).  They may contain escape sequences like those in a chat script
expect string (see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).  The login name is accepted before
the system name is known, so these are independent of which system is
calling in; a particular login may be required for a system by using the
<CODE>called-login</CODE> command in the system file (see section <A HREF="uucp.html#SEC72">Accepting a Call</A>).  These password files are optional, although one must exist if
<CODE>uucico</CODE> is to present its own login prompts.

As a special exception, a colon may be used to separate the login name
from the password, and a colon may be used to terminate the password.
This means that the login name and password may not contain a colon.
This feature, in conjunction with the <CODE>HAVE_ENCRYPTED_PASSWORDS</CODE>
macro in <TT>`policy.h'</TT>, permits using a standard Unix
<TT>`/etc/passwd'</TT> as a UUCP password file, providing the same set of
login names and passwords for both <CODE>getty</CODE> and <CODE>uucico</CODE>.

Multiple password files may be specified on the line, and the
<CODE>passwdfile</CODE> command may be repeated; all the files will be read in
turn until the login name is found.

</DL>



<H3><A NAME="SEC63" HREF="uucp.html#TOC63">Log File Names</A></H3>

<DL COMPACT>

<DT><CODE>logfile <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX86"></A>
<A NAME="IDX87"></A>

Name the log file.  The default is from <TT>`policy.h'</TT>.  Logging
information is written to this file.  If <CODE>HAVE_HDB_LOGGING</CODE> is
defined in <TT>`policy.h'</TT>, then by default a separate log file is used
for each system; using this command to name a log file will cause all
the systems to use it.

<DT><CODE>statfile <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX88"></A>
<A NAME="IDX89"></A>

Name the statistics file.  The default is from <TT>`policy.h'</TT>.
Statistical information about file transfers is written to this file.

<DT><CODE>debugfile <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX90"></A>
<A NAME="IDX91"></A>

Name the file to which all debugging information is written.  The
default is from <TT>`policy.h'</TT>.  This command is only effective if the
code has been compiled to include debugging (this is controlled by the
<CODE>DEBUG</CODE> macro in <TT>`policy.h'</TT>).  If debugging is on, messages
written to the log file are also written to the debugging file to make
it easier to keep the order of actions straight.  The debugging file is
different from the log file because information such as passwords can
appear in it, so it must be not be publically readable.

</DL>



<H3><A NAME="SEC64" HREF="uucp.html#TOC64">Debugging Levels</A></H3>

<DL COMPACT>

<DT><CODE>debug <VAR>string</VAR> ...</CODE>
<DD>
<A NAME="IDX92"></A>

Set the debugging level.  This command is only effective if the code has
been compiled to include debugging.  The default is to have no
debugging.  The arguments are strings which name the types of debugging
to be turned on.  The following types of debugging are defined:

<DL COMPACT>

<DT><SAMP>`abnormal'</SAMP>
<DD>
Output debugging messages for abnormal situations, such as recoverable errors.
<DT><SAMP>`chat'</SAMP>
<DD>
Output debugging messages for chat scripts.
<DT><SAMP>`handshake'</SAMP>
<DD>
Output debugging messages for the initial handshake.
<DT><SAMP>`uucp-proto'</SAMP>
<DD>
Output debugging messages for the UUCP session protocol.
<DT><SAMP>`proto'</SAMP>
<DD>
Output debugging messages for the individual link protocols.
<DT><SAMP>`port'</SAMP>
<DD>
Output debugging messages for actions on the communication port.
<DT><SAMP>`config'</SAMP>
<DD>
Output debugging messages while reading the configuration files.
<DT><SAMP>`spooldir'</SAMP>
<DD>
Output debugging messages for actions in the spool directory.
<DT><SAMP>`execute'</SAMP>
<DD>
Output debugging messages whenever another program is executed.
<DT><SAMP>`incoming'</SAMP>
<DD>
List all incoming data in the debugging file.
<DT><SAMP>`outgoing'</SAMP>
<DD>
List all outgoing data in the debugging file.
<DT><SAMP>`all'</SAMP>
<DD>
All of the above.
</DL>

The debugging level may also be specified as a number.  A 1 will set
<SAMP>`chat'</SAMP> debugging, a 2 will set both <SAMP>`chat'</SAMP> and
<SAMP>`handshake'</SAMP> debugging, and so on down the possibilities.  Currently
an 11 will turn on all possible debugging, since there are 11 types of
debugging messages listed above; more debugging types may be added in
the future.  The <CODE>debug</CODE> command may be used several times in the
configuration file; every debugging type named will be turned on.  When
running any of the programs, the <SAMP>`-x'</SAMP> switch (actually, for
<CODE>uulog</CODE> it's the <SAMP>`-X'</SAMP> switch) may be used to turn on
debugging.  The argument to the <SAMP>`-x'</SAMP> switch is one of the strings
listed above, or a number as described above, or a comma separated list
of strings (e.g.,  <SAMP>`-x chat,handshake'</SAMP>).  The <SAMP>`-x'</SAMP> switch may
also appear several times on the command line, in which case all named
debugging types will be turned on.  The <SAMP>`-x'</SAMP> debugging is in
addition to any debugging specified by the <CODE>debug</CODE> command; there
is no way to cancel debugging information.  The debugging level may also
be set specifically for calls to or from a specific system with the
<CODE>debug</CODE> command in the system file (see section <A HREF="uucp.html#SEC75">Miscellaneous sys File Commands</A>).

The debugging messages are somewhat idiosyncratic; it may be necessary
to refer to the source code for additional information in some cases.

</DL>



<H2><A NAME="SEC65" HREF="uucp.html#TOC65">The System Configuration File</A></H2>
<P>
<A NAME="IDX93"></A>
<A NAME="IDX94"></A>
<A NAME="IDX95"></A>


<P>
By default there is a single system configuration, named <TT>`sys'</TT> in
the directory <VAR>newconfigdir</VAR>.  This may be overridden by the
<CODE>sysfile</CODE> command in the main configuration file; see
section <A HREF="uucp.html#SEC62">Configuration File Names</A>.


<P>
These files describe all remote systems known to the UUCP package.




<H3><A NAME="SEC66" HREF="uucp.html#TOC66">Defaults and Alternates</A></H3>

<P>
The first set of commands in the file, up to the first <CODE>system</CODE>
command, specify defaults to be used for all systems in that file.  Each
<TT>`sys'</TT> file uses a different set of defaults.


<P>
Subsequently, each set of commands from <CODE>system</CODE> up to the next
<CODE>system</CODE> command describe a particular system.  Default values may
be overridden for specific systems.


<P>
Each system may then have a series of alternate choices to use when
calling out or calling in.  The first set of commands for a particular
system, up to the first <CODE>alternate</CODE> command, provide the first
choice.  Subsequently, each set of commands from <CODE>alternate</CODE> up to
the next <CODE>alternate</CODE> command describe an alternate choice for
calling out or calling in.


<P>
When a system is called, the commands before the first <CODE>alternate</CODE>
are used to select a phone number, port, and so forth; if the call fails
for some reason, the commands between the first <CODE>alternate</CODE> and the
second are used, and so forth.  Well, not quite.  Actually, each
succeeding alternate will only be used if it is different in some
relevant way (different phone number, different chat script, etc.).  If
you want to force the same alternate to be used again (to retry a phone
call more than once, for example), enter the phone number (or any other
relevant field) again to make it appear different.


<P>
The alternates can also be used to give different permissions to an
incoming call based on the login name.  This will only be done if the
first set of commands, before the first <CODE>alternate</CODE> command, uses
the <CODE>called-login</CODE> command.  The list of alternates will be
searched, and the first alternate with a matching <CODE>called-login</CODE>
command will be used.  If no alternates match, the call will be
rejected.


<P>
The <CODE>alternate</CODE> command may also be used in the file-wide defaults
(the set of commands before the first <CODE>system</CODE> command).  This
might be used to specify a list of ports which are available for all
systems (for an example of this, see section <A HREF="uucp.html#SEC57">Gateway Example</A>) or to
specify permissions based on the login name used by the remote system
when it calls in.  The first alternate for each system will default to
the first alternate for the file-wide defaults (as modified by the
commands used before the first <CODE>alternate</CODE> command for this
system), the second alternate for each system to the second alternate
for the file-wide defaults (as modified the same way), and so forth.  If
a system specifies more alternates than the file-wide defaults, the
trailing ones will default to the last file-wide default alternate.  If
a system specifies fewer alternates than the file-wide defaults, the
trailing file-wide default alternates will be used unmodified.  The
<CODE>default-alternates</CODE> command may be used to modify this behaviour.


<P>
This can all get rather confusing, although it's easier to use than to
describe concisely; the <CODE>uuchk</CODE> program may be used to ensure that
you are getting what you want.




<H3><A NAME="SEC67" HREF="uucp.html#TOC67">Naming the System</A></H3>

<DL COMPACT>

<DT><CODE>system <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX96"></A>

Specify the remote system name.  Subsequent commands up to the next
<CODE>system</CODE> command refer to this system.

<DT><CODE>alternate [<VAR>string</VAR>]</CODE>
<DD>
<A NAME="IDX97"></A>

Start an alternate set of commands (see section <A HREF="uucp.html#SEC66">Defaults and Alternates</A>).
An optional argument may be used to name the alternate.  This name will
be recorded in the log file if the alternate is used to call the system.
There is no way to name the first alternate (the commands before the
first <CODE>alternate</CODE> command).

<DT><CODE>default-alternates <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX98"></A>

If the argument is false, any remaining default alternates (from the
defaults specified at the top of the current system file) will not be
used.  The default is true.

<DT><CODE>alias <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX99"></A>

Specify an alias for the current system.  The alias may be used by local
<CODE>uucp</CODE> and <CODE>uux</CODE> commands, as well as by the remote system
(which can be convenient if a remote system changes its name).  The
default is to have no aliases.

<DT><CODE>myname <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX100"></A>

Specifies a different system name to use when calling the remote system.
Also, if <CODE>called-login</CODE> is used and is not <SAMP>`ANY'</SAMP>, then, when a
system logs in with that login name, <VAR>string</VAR> is used as the local
system name.  Because the local system name must be determined before
the remote system has identified itself, using <CODE>myname</CODE> and
<CODE>called-login</CODE> together for any system will set the local name for
that login; this means that each locally used system name must have a
unique login name associated with it.  This allows a system to have
different names for an external and an internal network.  The default is
to not use a special local name.

</DL>



<H3><A NAME="SEC68" HREF="uucp.html#TOC68">Calling Out</A></H3>

<P>
This section describes commands used when placing a call to another
system.




<H4><A NAME="SEC69" HREF="uucp.html#TOC69">When to Call</A></H4>

<DL COMPACT>

<DT><CODE>time <VAR>string</VAR> [<VAR>number</VAR>]</CODE>
<DD>
<A NAME="IDX101"></A>

Specify when the system may be called.  The first argument is a time
string; see section <A HREF="uucp.html#SEC58">Time Strings</A>.  The optional second argument specifies
a retry time in minutes.  If a call made during a time that matches the
time string fails, no more calls are permitted until the retry time has
passed.  By default an exponentially increasing retry time is used:
after each failure the next retry period is longer.  A retry time
specified in the <CODE>time</CODE> command is always a fixed amount of time.

The <CODE>time</CODE> command may appear multiple times in a single alternate,
in which case if any time string matches the system may be called.  When
the <CODE>time</CODE> command is used for a particular system, any <CODE>time</CODE>
or <CODE>timegrade</CODE> commands that appeared in the system defaults are
ignored.

The default time string is <SAMP>`Never'</SAMP>.

<DT><CODE>timegrade <VAR>character</VAR> <VAR>string</VAR> [<VAR>number</VAR>]</CODE>
<DD>
<A NAME="IDX102"></A>
<A NAME="IDX103"></A>

The <VAR>character</VAR> specifies a grade.  It must be a single letter or
digit.  The <VAR>string</VAR> is a time string (see section <A HREF="uucp.html#SEC58">Time Strings</A>).  All
jobs of grade <VAR>character</VAR> or higher (where <KBD>0</KBD> &#62; <KBD>9</KBD> &#62;
<KBD>A</KBD> &#62; <KBD>Z</KBD> &#62; <KBD>a</KBD> &#62; <KBD>z</KBD>) may be run at the specified time.
An ordinary <CODE>time</CODE> command is equivalent to using <CODE>timegrade</CODE>
with a grade of <KBD>z</KBD>, permitting all jobs.  If there are no jobs of a
sufficiently high grade according to the time string, the system will
not be called.  Giving the <SAMP>`-s'</SAMP> switch to <CODE>uucico</CODE> to force it
to call a system causes it to assume there is a job of grade <KBD>0</KBD>
waiting to be run.

The optional third argument specifies a retry time in minutes.  See the
<CODE>time</CODE> command, above, for more details.

Note that the <CODE>timegrade</CODE> command serves two purposes: 1) if there
is no job of sufficiently high grade the system will not be called, and
2) if the system is called anyway (because the <SAMP>`-s'</SAMP> switch was
given to <CODE>uucico</CODE>) only jobs of sufficiently high grade will be
transferred.  However, if the other system calls in, the
<CODE>timegrade</CODE> commands are ignored, and jobs of any grade may be
transferred (but see <CODE>call-timegrade</CODE> and <CODE>called-timegrade</CODE>,
below).  Also, the <CODE>timegrade</CODE> command will not prevent the other
system from transferring any job it chooses, regardless of who placed
the call.

The <CODE>timegrade</CODE> command may appear multiple times without using
<CODE>alternate</CODE>.  When the <CODE>timegrade</CODE> command is used for a
particular system, any <CODE>time</CODE> or <CODE>timegrade</CODE> commands that
appeared in the system defaults are ignored.

If this command does not appear, there are no restrictions on what grade
of work may be done at what time.

<DT><CODE>max-retries <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX104"></A>

Gives the maximum number of times this system may be retried.  If this
many calls to the system fail, it will be called at most once a day
whatever the retry time is.  The default is 26.

<DT><CODE>success-wait <VAR>number</VAR></CODE>
<DD>
A retry time, in seconds, which applies after a successful call.  This
can be used to put a limit on how frequently the system is called.  For
example, an argument of 1800 means that the system will not be called
more than once every half hour.  The default is 0, which means that
there is no limit.

<DT><CODE>call-timegrade <VAR>character</VAR> <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX105"></A>

The <VAR>character</VAR> is a single character <KBD>A</KBD> to <KBD>Z</KBD>, <KBD>a</KBD> to
<KBD>z</KBD>, or <KBD>0</KBD> to <KBD>9</KBD> and specifies a grade.  The <VAR>string</VAR>
is a time string (see section <A HREF="uucp.html#SEC58">Time Strings</A>).  If a call is placed to the
other system during a time which matches the time string, the remote
system will be requested to only run jobs of grade <VAR>character</VAR> or
higher.  Unfortunately, there is no way to guarantee that the other
system will obey the request (this UUCP package will, but there are
others which will not); moreover, job grades are historically somewhat
arbitrary, so specifying a grade will only be meaningful if the other
system cooperates in assigning grades.  This grade restriction only
applies when the other system is called, not when the other system calls
in.

The <CODE>call-timegrade</CODE> command may appear multiple times without
using <CODE>alternate</CODE>.  If this command does not appear, or if none of
the time strings match, the remote system will be allowed to send
whatever grades of work it chooses.

<DT><CODE>called-timegrade <VAR>character</VAR> <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX106"></A>

The <VAR>character</VAR> is a single character <KBD>A</KBD> to <KBD>Z</KBD>, <KBD>a</KBD> to
<KBD>z</KBD>, or <KBD>0</KBD> to <KBD>9</KBD> and specifies a grade.  The <VAR>string</VAR>
is a time string (see section <A HREF="uucp.html#SEC58">Time Strings</A>).  If a call is received from the
other system during a time which matches the time string, only jobs of
grade <VAR>character</VAR> or higher will be sent to the remote system.  This
allows the job grade to be set for incoming calls, overriding any
request made by the remote uucico.  As noted above, job grades are
historically somewhat arbitrary, so specifying a grade will only be
meaningful if the other system cooperates in assigning grades.  This
grade restriction only applies to jobs on the local system; it does not
affect the jobs transferred by the remote system.  This grade
restriction only applies when the other system calls in, not when the
other system is called.

The <CODE>called-timegrade</CODE> command may appear multiple times.  If this
command does not appear, or if none of the time strings match, any grade
may be sent to the remote system upon receiving a call.

</DL>



<H4><A NAME="SEC70" HREF="uucp.html#TOC70">Placing the Call</A></H4>

<DL COMPACT>

<DT><CODE>speed <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX107"></A>
<DT><CODE>baud <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX108"></A>

Specify the speed (the term <EM>baud</EM> is technically incorrect, but
widely understood) at which to call the system.  This will try all
available ports with that speed until an unlocked port is found.  The
ports are defined in the port file.  If both <CODE>speed</CODE> and
<CODE>port</CODE> commands appear, both are used when selecting a port.  To
allow calls at more than one speed, the <CODE>alternate</CODE> command must be
used (see section <A HREF="uucp.html#SEC66">Defaults and Alternates</A>).  If this command does not
appear, there is no default; the speed may be specified in the port
file, but if it is not then the natural speed of the port will be used
(whatever that means on the system).  Specifying an explicit speed of 0
will request the natural speed of the port (whatever the system sets it
to), overriding any default speed from the defaults at the top of the
file.

<DT><CODE>port <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX109"></A>

Name a particular port or type of port to use when calling the system.
The information for this port is obtained from the port file.  If this
command does not appear, there is no default; a port must somehow be
specified in order to call out (it may be specified implicitly using the
<CODE>speed</CODE> command or explicitly using the next version of
<CODE>port</CODE>).  There may be many ports with the same name; each will be
tried in turn until an unlocked one is found which matches the desired
speed.

<DT><CODE>port <VAR>string</VAR> ...</CODE>
<DD>
If more than one string follows the <CODE>port</CODE> command, the strings are
treated as a command that might appear in the port file (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>).  If a port is named (by using a single string following
<CODE>port</CODE>) these commands are ignored; their purpose is to permit
defining the port completely in the system file rather than always
requiring entries in two different files.  In order to call out, a port
must be specified using some version of the <CODE>port</CODE> command, or by
using the <CODE>speed</CODE> command to select ports from the port file.

<DT><CODE>phone <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX110"></A>
<DT><CODE>address <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX111"></A>

Give a phone number to call (when using a modem port) or a remote host
to contact (when using a TCP or TLI port).  The commands <CODE>phone</CODE>
and <CODE>address</CODE> are equivalent; the duplication is intended to
provide a mnemonic choice depending on the type of port in use.

When used with a modem port, an <KBD>=</KBD> character in the phone number
means to wait for a secondary dial tone (although only some modems
support this); a <KBD>-</KBD> character means to pause while dialing for 1
second (again, only some modems support this).  If the system has more
than one phone number, each one must appear in a different alternate.
The <CODE>phone</CODE> command must appear in order to call out on a modem;
there is no default.

When used with a TCP port, the string names the host to contact.  It may
be a domain name or a numeric Internet address.  If no address is
specified, the system name is used.

When used with a TLI port, the string is treated as though it were an
expect string in a chat script, allowing the use of escape characters
(see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).  The <CODE>dialer-sequence</CODE> command in the port
file may override this address (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>).

When used with a port that not a modem or TCP or TLI, this command is
ignored.

</DL>



<H4><A NAME="SEC71" HREF="uucp.html#TOC71">Logging In</A></H4>
<DL COMPACT>

<DT><CODE>chat <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX112"></A>
<DT><CODE>chat-timeout <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX113"></A>
<DT><CODE>chat-fail <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX114"></A>
<DT><CODE>chat-seven-bit <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX115"></A>
<DT><CODE>chat-program <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX116"></A>

These commands describe a chat script to use when logging on to a remote
system.  This login chat script is run after any chat script defined in
the <TT>`dial'</TT> file (see section <A HREF="uucp.html#SEC78">The Dialer Configuration File</A>).  Chat scripts are explained in
section <A HREF="uucp.html#SEC59">Chat Scripts</A>.

Two additional escape sequences may be used in send strings.

<DL COMPACT>

<DT><SAMP>`\L'</SAMP>
<DD>
Send the login name, as set by the <CODE>call-login</CODE> command.
<DT><SAMP>`\P'</SAMP>
<DD>
Send the password, as set by the <CODE>call-password</CODE> command.
</DL>

Three additional escape sequences may be used with the
<CODE>chat-program</CODE> command.  These are <SAMP>`\L'</SAMP> and <SAMP>`\P'</SAMP>, which
become the login name and password, respectively, and <SAMP>`\Z'</SAMP>, which
becomes the name of the system of being called.

The default chat script is:


<PRE>
chat "" \r\c ogin:-BREAK-ogin:-BREAK-ogin: \L word: \P
</PRE>

This will send a carriage return (the <KBD>\c</KBD> suppresses the additional
trailing carriage return that would otherwise be sent) and waits for the
string <SAMP>`ogin:'</SAMP> (which would be the last part of the <SAMP>`login:'</SAMP>
prompt supplied by a Unix system).  If it doesn't see <SAMP>`ogin:'</SAMP>, it
sends a break and waits for <SAMP>`ogin:'</SAMP> again.  If it still doesn't see
<SAMP>`ogin:'</SAMP>, it sends another break and waits for <SAMP>`ogin:'</SAMP> again.
If it still doesn't see <SAMP>`ogin:'</SAMP>, the chat script aborts and hangs
up the phone.  If it does see <SAMP>`ogin:'</SAMP> at some point, it sends the
login name (as specified by the <CODE>call-login</CODE> command) followed by a
carriage return (since all send strings are followed by a carriage
return unless <KBD>\c</KBD> is used) and waits for the string <SAMP>`word:'</SAMP>
(which would be the last part of the <SAMP>`Password:'</SAMP> prompt supplied by
a Unix system).  If it sees <SAMP>`word:'</SAMP>, it sends the password and a
carriage return, completing the chat script.  The program will then
enter the handshake phase of the UUCP protocol.

This chat script will work for most systems, so you will only be
required to use the <CODE>call-login</CODE> and <CODE>call-password</CODE> commands.
In fact, in the file-wide defaults you could set defaults of
<SAMP>`call-login *'</SAMP> and <SAMP>`call-password *'</SAMP>; you would then just have
to make an entry for each system in the call-out login file.

Some systems seem to flush input after the <SAMP>`login:'</SAMP> prompt, so they
may need a version of this chat script with a <KBD>\d</KBD> before the
<KBD>\L</KBD>.  When using UUCP over TCP, some servers will not be handle the
initial carriage return sent by this chat script; in this case you may
have to specify the simple chat script <SAMP>`ogin: \L word: \P'</SAMP>.

<DT><CODE>call-login <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX117"></A>

Specify the login name to send with <KBD>\L</KBD> in the chat script.  If the
string is <SAMP>`*'</SAMP> (e.g., <SAMP>`call-login *'</SAMP>) the login name will be
fetched from the call out login name and password file
(see section <A HREF="uucp.html#SEC62">Configuration File Names</A>).  The string may contain escape
sequences as though it were an expect string in a chat script
(see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).  There is no default.

<DT><CODE>call-password <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX118"></A>

Specify the password to send with <KBD>\P</KBD> in the chat script.  If the
string is <SAMP>`*'</SAMP> (e.g., <SAMP>`call-password *'</SAMP>) the password will be
fetched from the call-out login name and password file
(see section <A HREF="uucp.html#SEC62">Configuration File Names</A>).  The string may contain escape
sequences as though it were an expect string in a chat script
(see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).  There is no default.

</DL>



<H3><A NAME="SEC72" HREF="uucp.html#TOC72">Accepting a Call</A></H3>

<DL COMPACT>

<DT><CODE>called-login <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX119"></A>

The first <VAR>string</VAR> specifies the login name that the system must use
when calling in.  If it is <SAMP>`ANY'</SAMP> (e.g., <SAMP>`called-login ANY'</SAMP>) any
login name may be used; this is useful to override a file-wide default
and to indicate that future alternates may have different login names.
Case is significant.  The default value is <SAMP>`ANY'</SAMP>.  

Different alternates (see section <A HREF="uucp.html#SEC66">Defaults and Alternates</A>) may use different
<CODE>called-login</CODE> commands, in which case the login name will be used
to select which alternate is in effect; this will only work if the first
alternate (before the first <CODE>alternate</CODE> command) uses the
<CODE>called-login</CODE> command.

Additional strings may be specified after the login name; they are a
list of which systems are permitted to use this login name.  If this
feature is used, then normally the login name will only be given in a
single <CODE>called-login</CODE> command.  Only systems which appear on the
list, or which use an explicit <CODE>called-login</CODE> command, will be
permitted to use that login name.  If the same login name is used more
than once with a list of systems, all the lists are concatenated
together.  This feature permits you to restrict a login name to a
particular set of systems without requiring you to use the
<CODE>called-login</CODE> command for every single system; you can achieve a
similar effect by using a different system file for each permitted login
name with an appropriate <CODE>called-login</CODE> command in the file-wide
defaults.

<DT><CODE>callback <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX120"></A>

If <VAR>boolean</VAR> is true, then when the remote system calls
<CODE>uucico</CODE> will hang up the connection and prepare to call it back.
The default is false.

<DT><CODE>called-chat <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX121"></A>
<DT><CODE>called-chat-timeout <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX122"></A>
<DT><CODE>called-chat-fail <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX123"></A>
<DT><CODE>called-chat-seven-bit <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX124"></A>
<DT><CODE>called-chat-program <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX125"></A>
  
These commands may be used to define a chat script (see section <A HREF="uucp.html#SEC59">Chat Scripts</A>) that is run whenever the local system is called by the system
being defined.  The chat script defined by the <CODE>chat</CODE> command
(see section <A HREF="uucp.html#SEC71">Logging In</A>), on the other hand, is used when the remote system
is called.  This called chat script might be used to set special modem
parameters that are appropriate to a particular system.  It is run after
protocol negotiation is complete, but before the protocol has been
started.  For additional escape sequence which may be used besides those
defined for all chat scripts, see section <A HREF="uucp.html#SEC71">Logging In</A>.  There is no default
called chat script.  If the called chat script fails, the incoming call
will be aborted.

</DL>



<H3><A NAME="SEC73" HREF="uucp.html#TOC73">Protocol Selection</A></H3>

<DL COMPACT>

<DT><CODE>protocol <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX126"></A>

Specifies which protocols to use for the other system, and in which
order to use them.  This would not normally be used.  For example,
<SAMP>`protocol tfg'</SAMP>.

The default depends on the characteristics of the port and the dialer,
as specified by the <CODE>seven-bit</CODE> and <CODE>reliable</CODE> commands.  If
neither the port nor the dialer use either of these commands, the
default is to assume an eight-bit reliable connection.  The commands
<SAMP>`seven-bit true'</SAMP> or <SAMP>`reliable false'</SAMP> might be used in either
the port or the dialer to change this.  Each protocol has particular
requirements that must be met before it will be considered during
negotiation with the remote side.

The <SAMP>`t'</SAMP> and <SAMP>`e'</SAMP> protocols are intended for use over TCP or
some other communication path with end to end reliability, as they do no
checking of the data at all.  They will only be considered on a TCP port
which is both reliable and eight bit.  For technical details, see section <A HREF="uucp.html#SEC99">UUCP <SAMP>`t'</SAMP> Protocol</A>, and section <A HREF="uucp.html#SEC100">UUCP <SAMP>`e'</SAMP> Protocol</A>.

The <SAMP>`i'</SAMP> protocol is a bidirectional protocol.  It requires an
eight-bit connection.  It will run over a half-duplex link, such as
Telebit modems in PEP mode, but for efficient use of such a connection
you must use the <CODE>half-duplex</CODE> command (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>).
See section <A HREF="uucp.html#SEC102">UUCP <SAMP>`i'</SAMP> Protocol</A>.

The <SAMP>`g'</SAMP> protocol is robust, but requires an eight-bit connection.
See section <A HREF="uucp.html#SEC97">UUCP <SAMP>`g'</SAMP> Protocol</A>.

The <SAMP>`G'</SAMP> protocol is the System V Release 4 version of the <SAMP>`g'</SAMP>
protocol.  See section <A HREF="uucp.html#SEC101">UUCP <SAMP>`G'</SAMP> Protocol</A>.

The <SAMP>`a'</SAMP> protocol is a Zmodem like protocol, contributed by Doug
Evans.  It requires an eight-bit connection, but unlike the <SAMP>`g'</SAMP> or
<SAMP>`i'</SAMP> protocol it will work if certain control characters may not be
transmitted.

The <SAMP>`j'</SAMP> protocol is a variant of the <SAMP>`i'</SAMP> protocol which can
avoid certain control characters.  The set of characters it avoids can
be set by a parameter.  While it technically does not require an eight
bit connection (it could be configured to avoid all characters with the
high bit set) it would be very inefficient to use it over one.  It is
useful over a eight-bit connection that will not transmit certain
control characters.  See section <A HREF="uucp.html#SEC103">UUCP <SAMP>`j'</SAMP> Protocol</A>.

The <SAMP>`f'</SAMP> protocol is intended for use with X.25 connections; it
checksums each file as a whole, so any error causes the entire file to
be retransmitted.  It requires a reliable connection, but only uses
seven-bit transmissions.  It is a streaming protocol, so, while it can
be used on a serial port, the port must be completely reliable and flow
controlled; many aren't.  See section <A HREF="uucp.html#SEC98">UUCP <SAMP>`f'</SAMP> Protocol</A>.

The <SAMP>`v'</SAMP> protocol is the <SAMP>`g'</SAMP> protocol as used by the DOS
program UUPC/Extended.  It is provided only so that UUPC/Extended users
can use it; there is no particular reason to select it.  See section <A HREF="uucp.html#SEC108">UUCP <SAMP>`v'</SAMP> Protocol</A>.

The <SAMP>`y'</SAMP> protocol is an efficient streaming protocol.  It does error
checking, but when it detects an error it immediately aborts the
connection.  This requires a reliable, flow controlled, eight-bit
connection.  In practice, it is only useful on a connection that is
nearly always error-free.  Unlike the <SAMP>`t'</SAMP> and <SAMP>`e'</SAMP> protocols,
the connection need not be entirely error-free, so the <SAMP>`y'</SAMP> protocol
can be used on a serial port.  See section <A HREF="uucp.html#SEC105">UUCP <SAMP>`y'</SAMP> Protocol</A>.

The protocols will be considered in the order shown above.  This means
that if neither the <CODE>seven-bit</CODE> nor the <CODE>reliable</CODE> command are
used, the <SAMP>`t'</SAMP> protocol will be used over a TCP connection and the
<SAMP>`i'</SAMP> protocol will be used over any other type of connection
(subject, of course, to what is supported by the remote system; it may
be assumed that all systems support the <SAMP>`g'</SAMP> protocol).

Note that currently specifying both <SAMP>`seven-bit true'</SAMP> and
<SAMP>`reliable false'</SAMP> will not match any protocol.  If this occurs
through a combination of port and dialer specifications, you will have
to use the <CODE>protocol</CODE> command for the system or no protocol will be
selected at all (the only reasonable choice would be <SAMP>`protocol f'</SAMP>).

A protocol list may also be specified for a port (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>),
but, if there is a list for the system, the list for the port is
ignored.

<DT><CODE>protocol-parameter <VAR>character</VAR> <VAR>string</VAR> ...</CODE>
<DD>
<A NAME="IDX127"></A>

<VAR>character</VAR> is a single character specifying a protocol.  The
remaining strings are a command specific to that protocol which will be
executed if that protocol is used.  A typical command is something like
<SAMP>`window 7'</SAMP>.  The particular commands are protocol specific.

The <SAMP>`i'</SAMP> protocol supports the following commands, all of which take
numeric arguments:

<DL COMPACT>

<DT><CODE>window</CODE>
<DD>
The window size to request the remote system to use.  This must be
between 1 and 16 inclusive.  The default is 16.
<DT><CODE>packet-size</CODE>
<DD>
The packet size to request the remote system to use.  This must be
between 1 and 4095 inclusive.  The default is 1024.
<DT><CODE>remote-packet-size</CODE>
<DD>
If this is between 1 and 4095 inclusive, the packet size requested by
the remote system is ignored, and this is used instead.  The default is
0, which means that the remote system's request is honored.
<DT><CODE>sync-timeout</CODE>
<DD>
The length of time, in seconds, to wait for a SYNC packet from the remote
system.  SYNC packets are exchanged when the protocol is started.  The
default is 10.
<DT><CODE>sync-retries</CODE>
<DD>
The number of times to retry sending a SYNC packet before giving up.
The default is 6.
<DT><CODE>timeout</CODE>
<DD>
The length of time, in seconds, to wait for an incoming packet before
sending a negative acknowledgement.  The default is 10.
<DT><CODE>retries</CODE>
<DD>
The number of times to retry sending a packet or a negative
acknowledgement before giving up and closing the connection.  The
default is 6.
<DT><CODE>errors</CODE>
<DD>
The maximum number of errors to permit before closing the connection.
The default is 100.
<DT><CODE>error-decay</CODE>
<DD>
The rate at which to ignore errors.  Each time this many packets are
received, the error count is decreased by one, so that a long connection
with an occasional error will not exceed the limit set by <CODE>errors</CODE>.
The default is 10.
<DT><CODE>ack-frequency</CODE>
<DD>
The number of packets to receive before sending an acknowledgement.  The
default is half the requested window size, which should provide good
performance in most cases.
</DL>

The <SAMP>`g'</SAMP>, <SAMP>`G'</SAMP> and <SAMP>`v'</SAMP> protocols support the following
commands, all of which take numeric arguments, except
<CODE>short-packets</CODE> which takes a boolean argument:

<DL COMPACT>

<DT><CODE>window</CODE>
<DD>
The window size to request the remote system to use.  This must be
between 1 and 7 inclusive.  The default is 7.
<DT><CODE>packet-size</CODE>
<DD>
The packet size to request the remote system to use.  This must be a
power of 2 between 32 and 4096 inclusive.  The default is 64 for the
<SAMP>`g'</SAMP> and <SAMP>`G'</SAMP> protocols and 1024 for the <SAMP>`v'</SAMP> protocol.
Many older UUCP packages do not support packet sizes larger than 64, and
many others do not support packet sizes larger than 128.  Some UUCP
packages will even dump core if a larger packet size is requested.  The
packet size is not a negotiation, and it may be different in each
direction.  If you request a packet size larger than the remote system
supports, you will not be able to send any files.
<DT><CODE>startup-retries</CODE>
<DD>
The number of times to retry the initialization sequence.  The default
is 8.
<DT><CODE>init-retries</CODE>
<DD>
The number of times to retry one phase of the initialization sequence
(there are three phases).  The default is 4.
<DT><CODE>init-timeout</CODE>
<DD>
The timeout in seconds for one phase of the initialization sequence.  The
default is 10.
<DT><CODE>retries</CODE>
<DD>
The number of times to retry sending either a data packet or a request
for the next packet.  The default is 6.
<DT><CODE>timeout</CODE>
<DD>
The timeout in seconds when waiting for either a data packet or an
acknowledgement.  The default is 10.
<DT><CODE>garbage</CODE>
<DD>
The number of unrecognized bytes to permit before dropping the
connection.  This must be larger than the packet size.  The default is
10000.
<DT><CODE>errors</CODE>
<DD>
The number of errors (malformed packets, out of order packets, bad
checksums, or packets rejected by the remote system) to permit before
dropping the connection.  The default is 100.
<DT><CODE>error-decay</CODE>
<DD>
The rate at which to ignore errors.  Each time this many packets are
received, the error count is decreased by one, so that a long connection
with an occasional error will not exceed the limit set by <CODE>errors</CODE>.
The default is 10.
<DT><CODE>remote-window</CODE>
<DD>
If this is between 1 and 7 inclusive, the window size requested by the
remote system is ignored and this is used instead.  This can be useful
when dealing with some poor UUCP packages.  The default is 0, which
means that the remote system's request is honored.
<DT><CODE>remote-packet-size</CODE>
<DD>
If this is between 32 and 4096 inclusive the packet size requested by
the remote system is ignored and this is used instead.  There is
probably no good reason to use this.  The default is 0, which means that
the remote system's request is honored.
<DT><CODE>short-packets</CODE>
<DD>
If this is true, then the code will optimize by sending shorter packets
when there is less data to send.  This confuses some UUCP packages, such
as System V Release 4 (when using the <SAMP>`G'</SAMP> protocol) and Waffle;
when connecting to such a package, this parameter must be set to false.
The default is true for the <SAMP>`g'</SAMP> and <SAMP>`v'</SAMP> protocols and false
for the <SAMP>`G'</SAMP> protocol.
</DL>

The <SAMP>`a'</SAMP> protocol is a Zmodem like protocol contributed by Doug
Evans.  It supports the following commands, all of which take numeric
arguments except for <CODE>escape-control</CODE>, which takes a boolean
argument:

<DL COMPACT>

<DT><CODE>timeout</CODE>
<DD>
Number of seconds to wait for a packet to arrive.  The default is 10.
<DT><CODE>retries</CODE>
<DD>
The number of times to retry sending a packet.  The default is 10.
<DT><CODE>startup-retries</CODE>
<DD>
The number of times to retry sending the initialization packet.  The
default is 4.
<DT><CODE>garbage</CODE>
<DD>
The number of garbage characters to accept before closing the
connection.  The default is 2400.
<DT><CODE>send-window</CODE>
<DD>
The number of characters that may be sent before waiting for an
acknowledgement.  The default is 1024.
<DT><CODE>escape-control</CODE>
<DD>
Whether to escape control characters.  If this is true, the protocol may
be used over a connection which does not transmit certain control
characters, such as <CODE>XON</CODE> or <CODE>XOFF</CODE>.  The connection must
still transmit eight bit characters other than control characters.  The
default is false.
</DL>

The <SAMP>`j'</SAMP> protocol can be used over an eight bit connection that will
not transmit certain control characters.  It accepts the same protocol
parameters that the <SAMP>`i'</SAMP> protocol accepts, as well as one more:

<DL COMPACT>

<DT><CODE>avoid</CODE>
<DD>
A list of characters to avoid.  This is a string which is interpreted as
an escape sequence (see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).  The protocol does not have a
way to avoid printable ASCII characters (byte values from 32 to 126,
inclusive); only ASCII control characters and eight-bit characters may
be avoided.  The default value is <SAMP>`\021\023'</SAMP>; these are the
characters <CODE>XON</CODE> and <CODE>XOFF</CODE>, which many connections use for
flow control.  If the package is configured to use <CODE>HAVE_BSD_TTY</CODE>,
then on some versions of Unix you may have to avoid <SAMP>`\377'</SAMP> as well,
due to the way some implementations of the BSD terminal driver handle
signals.
</DL>

The <SAMP>`f'</SAMP> protocol is intended for use with error-correcting modems
only; it checksums each file as a whole, so any error causes the entire
file to be retransmitted.  It supports the following commands, both of
which take numeric arguments:

<DL COMPACT>

<DT><CODE>timeout</CODE>
<DD>
The timeout in seconds before giving up.  The default is 120.
<DT><CODE>retries</CODE>
<DD>
How many times to retry sending a file.  The default is 2.
</DL>

The <SAMP>`t'</SAMP> and <SAMP>`e'</SAMP> protocols are intended for use over TCP or
some other communication path with end to end reliability, as they do no
checking of the data at all.  They both support a single command, which
takes a numeric argument:

<DL COMPACT>

<DT><CODE>timeout</CODE>
<DD>
The timeout in seconds before giving up.  The default is 120.
</DL>

The <SAMP>`y'</SAMP> protocol is a streaming protocol contributed by Jorge Cwik.
It supports the following commands, both of which take numeric
arguments:

<DL COMPACT>

<DT><CODE>timeout</CODE>
<DD>
The timeout in seconds when waiting for a packet.  The default is 60.
<DT><CODE>packet-size</CODE>
<DD>
The packet size to use.  The default is 1024.
</DL>

The protocol parameters are reset to their default values after each
call.

</DL>



<H3><A NAME="SEC74" HREF="uucp.html#TOC74">File Transfer Control</A></H3>

<DL COMPACT>

<DT><CODE>send-request <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX128"></A>

The <VAR>boolean</VAR> determines whether the remote system is permitted to
request files from the local system.  The default is yes.

<DT><CODE>receive-request <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX129"></A>

The <VAR>boolean</VAR> determines whether the remote system is permitted to
send files to the local system.  The default is yes.

<DT><CODE>request <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX130"></A>

A shorthand command, equivalent to specifying both <SAMP>`send-request
<VAR>boolean</VAR>'</SAMP> and <SAMP>`receive-request <VAR>boolean</VAR>'</SAMP>.

<DT><CODE>call-transfer <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX131"></A>

The <VAR>boolean</VAR> is checked when the local system places the call.  It
determines whether the local system may do file transfers queued up for
the remote system.  The default is yes.

<DT><CODE>called-transfer <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX132"></A>

The <VAR>boolean</VAR> is checked when the remote system calls in.  It
determines whether the local system may do file transfers queued up for
the remote system.  The default is yes.

<DT><CODE>transfer <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX133"></A>

A shorthand command, equivalent to specifying both <SAMP>`call-transfer
<VAR>boolean</VAR>'</SAMP> and <SAMP>`called-transfer <VAR>boolean</VAR>'</SAMP>.

<DT><CODE>call-local-size <VAR>number</VAR> <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX134"></A>

The <VAR>string</VAR> is a time string (see section <A HREF="uucp.html#SEC58">Time Strings</A>).  The
<VAR>number</VAR> is the size in bytes of the largest file that should be
transferred at a time matching the time string, if the local system
placed the call and the request was made by the local system.  This
command may appear multiple times in a single alternate.  If this
command does not appear, or if none of the time strings match, there are
no size restrictions.

With all the size control commands, the size of a file from the remote
system (as opposed to a file from the local system) will only be checked
if the other system is running this package: other UUCP packages will
not understand a maximum size request, nor will they provide the size of
remote files.

<DT><CODE>call-remote-size <VAR>number</VAR> <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX135"></A>

Specify the size in bytes of the largest file that should be transferred
at a given time by remote request, when the local system placed the
call.  This command may appear multiple times in a single alternate.  If
this command does not appear, there are no size restrictions.

<DT><CODE>called-local-size <VAR>number</VAR> <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX136"></A>

Specify the size in bytes of the largest file that should be transferred
at a given time by local request, when the remote system placed the
call.  This command may appear multiple times in a single alternate. If
this command does not appear, there are no size restrictions.

<DT><CODE>called-remote-size <VAR>number</VAR> <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX137"></A>

Specify the size in bytes of the largest file that should be transferred
at a given time by remote request, when the remote system placed the
call.  This command may appear multiple times in a single alternate. If
this command does not appear, there are no size restrictions.

<DT><CODE>local-send <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX138"></A>

Specifies that files in the directories named by the <VAR>strings</VAR> may
be sent to the remote system when requested locally (using <CODE>uucp</CODE>
or <CODE>uux</CODE>).  The directories in the list should be separated by
whitespace.  A <SAMP>`~'</SAMP> may be used for the public directory.  On a Unix
system, this is typically <TT>`/usr/spool/uucppublic'</TT>; the public
directory may be set with the <CODE>pubdir</CODE> command.  Here is an example
of <CODE>local-send</CODE>:


<PRE>
local-send ~ /usr/spool/ftp/pub
</PRE>

Listing a directory allows all files within the directory and all
subdirectories to be sent.  Directories may be excluded by preceding
them with an exclamation point.  For example:


<PRE>
local-send /usr/ftp !/usr/ftp/private ~
</PRE>

means that all files in <TT>`/usr/ftp'</TT> or the public directory may be
sent, except those files in <TT>`/usr/ftp/private'</TT>.  The list of
directories is read from left to right, and the last directory to apply
takes effect; this means that directories should be listed from top
down.  The default is the root directory (i.e., any file at all may be
sent by local request).

<DT><CODE>remote-send <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX139"></A>

Specifies that files in the named directories may be sent to the remote
system when requested by the remote system.  The default is <SAMP>`~'</SAMP>.

<DT><CODE>local-receive <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX140"></A>

Specifies that files may be received into the named directories when
requested by a local user.  The default is <SAMP>`~'</SAMP>.

<DT><CODE>remote-receive <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX141"></A>

Specifies that files may be received into the named directories when
requested by the remote system.  The default is <SAMP>`~'</SAMP>.  On Unix, the
remote system may only request that files be received into directories
that are writeable by the world, regardless of how this is set.

<DT><CODE>forward-to <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX142"></A>

Specifies a list of systems to which files may be forwarded.  The remote
system may forward files through the local system on to any of the
systems in this list.  The string <SAMP>`ANY'</SAMP> may be used to permit
forwarding to any system.  The default is to not permit forwarding to
other systems.  Note that if the remote system is permitted to execute
the <CODE>uucp</CODE> command, it effectively has the ability to forward to
any system.

<DT><CODE>forward-from <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX143"></A>

Specifies a list of systems from which files may be forwarded.  The
remote system may request files via the local system from any of the
systems in this list.  The string <SAMP>`ANY'</SAMP> may be used to permit
forwarding to any system.  The default is to not permit forwarding from
other systems.  Note that if a remote system is permitted to execute the
<CODE>uucp</CODE> command, it effectively has the ability to request files
from any system.

<DT><CODE>forward <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX144"></A>

Equivalent to specifying both <SAMP>`forward-to <VAR>strings</VAR>'</SAMP> and
<SAMP>`forward-from <VAR>strings</VAR>'</SAMP>.  This would normally be used rather
than either of the more specific commands.

</DL>



<H3><A NAME="SEC75" HREF="uucp.html#TOC75">Miscellaneous sys File Commands</A></H3>

<DL COMPACT>

<DT><CODE>sequence <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX145"></A>

If <VAR>boolean</VAR> is true, then conversation sequencing is automatically
used for the remote system, so that if somebody manages to spoof as the
remote system, it will be detected the next time the remote system
actually calls.  This is false by default.

<DT><CODE>command-path <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX146"></A>

Specifies the path (a list of whitespace separated directories) to be
searched to locate commands to execute.  This is only used for commands
requested by <CODE>uux</CODE>, not for chat programs.  The default is from
<TT>`policy.h'</TT>.

<DT><CODE>commands <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX147"></A>

The list of commands which the remote system is permitted to execute
locally.  For example: <SAMP>`commands rnews rmail'</SAMP>.  If the value is
<SAMP>`ALL'</SAMP> (case significant), all commands may be executed.  The
default is <SAMP>`rnews rmail'</SAMP>.

<DT><CODE>free-space <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX148"></A>

Specify the minimum amount of file system space (in bytes) to leave free
after receiving a file.  If the incoming file will not fit, it will be
rejected.  This initial rejection will only work when talking to another
instance of this package, since older UUCP packages do not provide the
file size of incoming files.  Also, while a file is being received,
<CODE>uucico</CODE> will periodically check the amount of free space.  If it
drops below the amount given by the <CODE>free-space</CODE> command, the file
transfer will be aborted.  The default amount of space to leave free is
from <TT>`policy.h'</TT>.  This file space checking may not work on all
systems.

<DT><CODE>pubdir <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX149"></A>

Specifies the public directory that is used when <SAMP>`~'</SAMP> is specifed in
a file transfer or a list of directories.  This essentially overrides
the public directory specified in the main configuration file for this
system only.  The default is the public directory specified in the main
configuration file (which defaults to a value from <TT>`policy.h'</TT>).

<DT><CODE>debug <VAR>string</VAR> ...</CODE>
<DD>
<A NAME="IDX150"></A>

Set additional debugging for calls to or from the system.  This may be
used to debug a connection with a specific system.  It is particularly
useful when debugging incoming calls, since debugging information will
be generated whenever the call comes in.  See the <CODE>debug</CODE> command
in the main configuration file (see section <A HREF="uucp.html#SEC64">Debugging Levels</A>) for more
details.  The debugging information specified here is in addition to
that specified in the main configuration file or on the command line.

<DT><CODE>max-remote-debug <VAR>string</VAR> ...</CODE>
<DD>
<A NAME="IDX151"></A>

When the system calls in, it may request that the debugging level be set
to a certain value.  The <CODE>max-remote-debug</CODE> command may be used to
put a limit on the debugging level which the system may request, to
avoid filling up the disk with debugging information.  Only the
debugging types named in the <CODE>max-remote-debug</CODE> command may be
turned on by the remote system.  To prohibit any debugging, use
<SAMP>`max-remote-debug none'</SAMP>.

</DL>



<H3><A NAME="SEC76" HREF="uucp.html#TOC76">Default sys File Values</A></H3>

<P>
The following are used as default values for all systems; they can be
considered as appearing before the start of the file.



<PRE>
time Never
chat "" \r\c ogin:-BREAK-ogin:-BREAK-ogin: \L word: \P
chat-timeout 10
callback n
sequence n
request y
transfer y
local-send /
remote-send ~
local-receive ~
remove-receive ~
command-path [ from <TT>`policy.h'</TT> ]
commands rnews rmail
max-remote-debug abnormal,chat,handshake
</PRE>



<H2><A NAME="SEC77" HREF="uucp.html#TOC77">The Port Configuration File</A></H2>
<P>
<A NAME="IDX152"></A>
<A NAME="IDX153"></A>
<A NAME="IDX154"></A>


<P>
The port files may be used to name and describe ports.  By default there
is a single port file, named <TT>`port'</TT> in the directory
<VAR>newconfigdir</VAR>.  This may be overridden by the <CODE>portfile</CODE>
command in the main configuration file; see section <A HREF="uucp.html#SEC62">Configuration File Names</A>.


<P>
Any commands in a port file before the first <CODE>port</CODE> command specify
defaults for all ports in the file; however, since the <CODE>type</CODE>
command must appear before all other commands for a port, the defaults
are only useful if all ports in the file are of the same type (this
restriction may be lifted in a later version).  All commands after a
<CODE>port</CODE> command up to the next <CODE>port</CODE> command then describe
that port.  There are different types of ports; each type supports its
own set of commands.  Each command indicates which types of ports
support it.  There may be many ports with the same name; if a system
requests a port by name then each port with that name will be tried
until an unlocked one is found.


<DL COMPACT>

<DT><CODE>port <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX155"></A>

Introduces and names a port.

<DT><CODE>type <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX156"></A>

Define the type of port.  The default is <SAMP>`modem'</SAMP>.  If this command
appears, it must immediately follow the <CODE>port</CODE> command.  The type defines
what commands are subsequently allowed.  Currently the types are:

<DL COMPACT>

<DT><SAMP>`modem'</SAMP>
<DD>
For a modem hookup.
<DT><SAMP>`stdin'</SAMP>
<DD>
For a connection through standard input and standard output, as when
<CODE>uucico</CODE> is run as a login shell.
<DT><SAMP>`direct'</SAMP>
<DD>
For a direct connection to another system.
<DT><SAMP>`tcp'</SAMP>
<DD>
For a connection using TCP.
<DT><SAMP>`tli'</SAMP>
<DD>
For a connection using TLI.
<DT><SAMP>`pipe'</SAMP>
<DD>
For a connection through a pipe running another program.
</DL>

<DT><CODE>protocol <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX157"></A>

Specify a list of protocols to use for this port.  This is just like the
corresponding command for a system (see section <A HREF="uucp.html#SEC73">Protocol Selection</A>).  A
protocol list for a system takes precedence over a list for a port.

<DT><CODE>protocol-parameter <VAR>character</VAR> <VAR>strings</VAR> [ any type ]</CODE>
<DD>
<A NAME="IDX158"></A>

The same command as the <CODE>protocol-parameter</CODE> command used for
systems (see section <A HREF="uucp.html#SEC73">Protocol Selection</A>).  This one takes precedence.

<DT><CODE>seven-bit <VAR>boolean</VAR> [ any type ]</CODE>
<DD>
<A NAME="IDX159"></A>

This is only used during protocol negotiation; if the argument is true,
it forces the selection of a protocol which works across a seven-bit
link.  It does not prevent eight bit characters from being transmitted.
The default is false.

<DT><CODE>reliable <VAR>boolean</VAR> [ any type ]</CODE>
<DD>
<A NAME="IDX160"></A>

This is only used during protocol negotiation; if the argument is
false, it forces the selection of a protocol which works across
an unreliable communication link.  The default is true.  It would
be more common to specify this for a dialer rather than a port.

<DT><CODE>half-duplex <VAR>boolean</VAR> [ any type ]</CODE>
<DD>
<A NAME="IDX161"></A>

If the argument is true, it means that the port only supports
half-duplex connections.  This only affects bidirectional protocols, and
causes them to not do bidirectional transfers.

<DT><CODE>device <VAR>string</VAR> [ modem, direct and tli only ]</CODE>
<DD>
<A NAME="IDX162"></A>

Names the device associated with this port.  If the device is not named,
the port name is taken as the device.  Device names are system
dependent.  On Unix, a modem or direct connection might be something
like <TT>`/dev/ttyd0'</TT>; a TLI port might be <TT>`/dev/inet/tcp'</TT>.

<DT><CODE>speed <VAR>number</VAR> [modem and direct only ]</CODE>
<DD>
<A NAME="IDX163"></A>
<DT><CODE>baud <VAR>number</VAR> [ modem and direct only ]</CODE>
<DD>
<A NAME="IDX164"></A>

The speed this port runs at.  If a system specifies a speed but no port
name, then all ports which match the speed will be tried in order.  If
the speed is not specified here and is not specified by the system, the
natural speed of the port will be used by default.

<DT><CODE>speed-range <VAR>number</VAR> <VAR>number</VAR> [ modem only ]</CODE>
<DD>
<A NAME="IDX165"></A>
<DT><CODE>baud-range <VAR>number</VAR> <VAR>number</VAR> [ modem only ]</CODE>
<DD>
<A NAME="IDX166"></A>

Specify a range of speeds this port can run at.  The first number is the
minimum speed, the second number is the maximum speed.  These numbers
will be used when matching a system which specifies a desired speed.
The simple <CODE>speed</CODE> (or <CODE>baud</CODE>) command is still used to
determine the speed to run at if the system does not specify a speed.
For example, the command <SAMP>`speed-range 300 19200'</SAMP> means that the
port will match any system which uses a speed from 300 to 19200 baud
(and will use the speed specified by the system); this could be combined
with <SAMP>`speed 2400'</SAMP>, which means that when this port is used with a
system that does not specify a speed, the port will be used at 2400
baud.

<DT><CODE>carrier <VAR>boolean</VAR> [ modem and direct only ]</CODE>
<DD>
<A NAME="IDX167"></A>

The argument indicates whether the port supports carrier.  

If a modem port does not support carrier, the carrier detect signal will
never be required on this port, regardless of what the modem chat script
indicates.  The default for a modem port is true.

If a direct port supports carrier, the port will be set to expect
carrier whenever it is used.  The default for a direct port is false.

<DT><CODE>hardflow <VAR>boolean</VAR> [ modem and direct only ]</CODE>
<DD>
<A NAME="IDX168"></A>

The argument indicates whether the port supports hardware flow control.
If it does not, hardware flow control will not be turned on for this
port.  The default is true.  Hardware flow control is only supported on
some systems.

<DT><CODE>dial-device <VAR>string</VAR> [ modem only ]</CODE>
<DD>
<A NAME="IDX169"></A>

Dialing instructions should be output to the named device, rather than
to the normal port device.  The default is to output to the normal port
device.

<DT><CODE>dialer <VAR>string</VAR> [ modem only ]</CODE>
<DD>
<A NAME="IDX170"></A>

Name a dialer to use.  The information is looked up in the dial file.
There is no default.  Some sort of dialer information must be specified
to call out on a modem.

<DT><CODE>dialer <VAR>string</VAR> ... [ modem only ]</CODE>
<DD>
If more than one string follows the <CODE>dialer</CODE> command, the strings
are treated as a command that might appear in the dial file (see section <A HREF="uucp.html#SEC78">The Dialer Configuration File</A>).  If a dialer is named (by using the first form of this command,
described just above), these commands are ignored.  They may be used to
specify dialer information directly in simple situations without needing
to go to a separate file.  There is no default.  Some sort of dialer
information must be specified to call out on a modem.

<DT><CODE>dialer-sequence <VAR>strings</VAR> [ modem or tcp or tli only ]</CODE>
<DD>
<A NAME="IDX171"></A>

Name a sequence of dialers and tokens (phone numbers) to use.  The first
argument names a dialer, and the second argument names a token.  The
third argument names another dialer, and so on.  If there are an odd
number of arguments, the phone number specified with a <CODE>phone</CODE>
command in the system file is used as the final token.  The token is
what is used for <KBD>\D</KBD> or <KBD>\T</KBD> in the dialer chat script.  If the
token in this string is <KBD>\D</KBD>, the system phone number will be used;
if it is <KBD>\T</KBD>, the system phone number will be used after undergoing
dialcodes translation.  A missing final token is taken as <KBD>\D</KBD>.

This command currently does not work if <CODE>dial-device</CODE> is specified;
to handle this correctly will require a more systematic notion of chat
scripts.  Moreover, the <CODE>complete</CODE> and <CODE>abort</CODE> chat scripts,
the protocol parameters, and the <CODE>carrier</CODE> and <CODE>dtr-toggle</CODE>
commands are ignored for all but the first dialer.

This command basically lets you specify a sequence of chat scripts to
use.  For example, the first dialer might get you to a local network and
the second dialer might describe how to select a machine from the local
network.  This lets you break your dialing sequence into simple modules,
and may make it easier to share dialer entries between machines.

This command is to only way to use a chat script with a TCP port.  This
can be useful when using a modem which is accessed via TCP.

When this command is used with a TLI port, then if the first dialer is
<SAMP>`TLI'</SAMP> or <SAMP>`TLIS'</SAMP> the first token is used as the address to
connect to.  If the first dialer is something else, or if there is no
token, the address given by the <CODE>address</CODE> command is used
(see section <A HREF="uucp.html#SEC70">Placing the Call</A>).  Escape sequences in the address are
expanded as they are for chat script expect strings (see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).  The different between <SAMP>`TLI'</SAMP> and <SAMP>`TLIS'</SAMP> is that the
latter implies the command <SAMP>`stream true'</SAMP>.  These contortions are
all for HDB compatibility.  Any subsequent dialers are treated as they
are for a TCP port.

<DT><CODE>lockname <VAR>string</VAR> [ modem and direct only ]</CODE>
<DD>
<A NAME="IDX172"></A>

Give the name to use when locking this port.  On Unix, this is the name
of the file that will be created in the lock directory.  It is used as
is, so on Unix it should generally start with <SAMP>`LCK..'</SAMP>.  For
example, if a single port were named both <TT>`/dev/ttycu0'</TT> and
<TT>`/dev/tty0'</TT> (perhaps with different characteristics keyed on the
minor device number), then the command <CODE>lockname LCK..ttycu0</CODE> could
be used to force the latter to use the same lock file name as the
former.

<DT><CODE>service <VAR>string</VAR> [ tcp only ]</CODE>
<DD>
<A NAME="IDX173"></A>

Name the TCP port number to use.  This may be a number.  If not, it will
be looked up in <TT>`/etc/services'</TT>.  If this is not specified, the
string <SAMP>`uucp'</SAMP> is looked up in <TT>`/etc/services'</TT>.  If it is not
found, port number 540 (the standard UUCP-over-TCP port number) will be
used.

<DT><CODE>push <VAR>strings</VAR> [ tli only ]</CODE>
<DD>
<A NAME="IDX174"></A>

Give a list of modules to push on to the TLI stream.

<DT><CODE>stream <VAR>boolean</VAR> [ tli only ]</CODE>
<DD>
<A NAME="IDX175"></A>

If this is true, and the <CODE>push</CODE> command was not used, the
<SAMP>`tirdwr'</SAMP> module is pushed on to the TLI stream.

<DT><CODE>server-address <VAR>string</VAR> [ tli only ]</CODE>
<DD>
<A NAME="IDX176"></A>

Give the address to use when running as a TLI server.  Escape sequences
in the address are expanded as they are for chat script expect strings
(see section <A HREF="uucp.html#SEC59">Chat Scripts</A>).

The string is passed directly to the TLI <CODE>t_bind</CODE> function.  The
value needed may depend upon your particular TLI implementation.  Check
the manual pages, and, if necessary, try writing some sample programs.

For AT&#38;T 3B2 System V Release 3 using the Wollongong TCP/IP stack, which
is probably typical, the format of TLI string is <SAMP>`SSPPIIII'</SAMP>, where
<SAMP>`SS'</SAMP> is the service number (for TCP, this is 2), <SAMP>`PP'</SAMP> is the
TCP port number, and <SAMP>`IIII'</SAMP> is the Internet address.  For example,
to accept a connection from on port 540 from any interface, use
<SAMP>`server-address \x00\x02\x02\x1c\x00\x00\x00\x00'</SAMP>.  To only accept
connections from a particular interface, replace the last four digits
with the network address of the interface.  (Thanks to Paul Pryor for
the information in this paragraph).

<DT><CODE>command <VAR>strings</VAR> [ pipe only ]</CODE>
<DD>
<A NAME="IDX177"></A>

Give the command, with arguments, to run when using a pipe port type.
When a port of this type is used, the command is executed and
<CODE>uucico</CODE> communicates with it over a pipe.  This permits
<CODE>uucico</CODE> or <CODE>cu</CODE> to communicate with another system which can
only be reached through some unusual means.  A sample use might be
<SAMP>`command /bin/rlogin -E -8 -l <VAR>login</VAR> <VAR>system</VAR>'</SAMP>.  The
command is run with the full privileges of UUCP; it is responsible for
maintaining security.

</DL>



<H2><A NAME="SEC78" HREF="uucp.html#TOC78">The Dialer Configuration File</A></H2>
<P>
<A NAME="IDX178"></A>
<A NAME="IDX179"></A>
<A NAME="IDX180"></A>


<P>
The dialer configuration files define dialers.  By default there is a
single dialer file, named <TT>`dial'</TT> in the directory
<VAR>newconfigdir</VAR>.  This may be overridden by the <CODE>dialfile</CODE>
command in the main configuration file; see section <A HREF="uucp.html#SEC62">Configuration File Names</A>.


<P>
Any commands in the file before the first <CODE>dialer</CODE> command specify
defaults for all the dialers in the file.  All commands after a
<CODE>dialer</CODE> command up to the next <CODE>dialer</CODE> command are
associated with the named dialer.


<DL COMPACT>

<DT><CODE>dialer <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX181"></A>

Introduces and names a dialer.

<DT><CODE>chat <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX182"></A>
<DT><CODE>chat-timeout <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX183"></A>
<DT><CODE>chat-fail <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX184"></A>
<DT><CODE>chat-seven-bit <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX185"></A>
<DT><CODE>chat-program <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX186"></A>

Specify a chat script to be used to dial the phone.  This chat script is
used before the login chat script in the <TT>`sys'</TT> file, if any
(see section <A HREF="uucp.html#SEC71">Logging In</A>).  For full details on chat scripts, see section <A HREF="uucp.html#SEC59">Chat Scripts</A>.

The <CODE>uucico</CODE> daemon will sleep for one second between attempts to
dial out on a modem.  If your modem requires a longer wait period, you
must start your chat script with delays (<SAMP>`\d'</SAMP> in a send string).

The chat script will be read from and sent to the port specified by the
<CODE>dial-device</CODE> command for the port, if there is one.

The following escape addition escape sequences may appear in send
strings:

<DL COMPACT>

<DT><KBD>\D</KBD>
<DD>
send phone number without dialcode translation
<DT><KBD>\T</KBD>
<DD>
send phone number with dialcode translation
<DT><KBD>\M</KBD>
<DD>
do not require carrier
<DT><KBD>\m</KBD>
<DD>
require carrier (fail if not present)
</DL>

See the description of the dialcodes file (see section <A HREF="uucp.html#SEC62">Configuration File Names</A>) for a description of dialcode translation.  If the port does not
support carrier, as set by the <CODE>carrier</CODE> command in the port file,
<KBD>\M</KBD> and <KBD>\m</KBD> are ignored.  If both the port and the dialer
support carrier, as set by the <CODE>carrier</CODE> command in the port file
and the <CODE>carrier</CODE> command in the dialer file, then every chat
script implicitly begins with <KBD>\M</KBD> and ends with <KBD>\m</KBD>.  There is
no default chat script for dialers.

The following additional escape sequences may be used in
<CODE>chat-program</CODE>:

<DL COMPACT>

<DT><KBD>\D</KBD>
<DD>
phone number without dialcode translation
<DT><KBD>\T</KBD>
<DD>
phone number with dialcode translation
</DL>

If the program changes the port in any way (e.g., sets parity) the
changes will be preserved during protocol negotiation, but once the
protocol is selected it will change the port settings.

<DT><CODE>dialtone <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX187"></A>

A string to output when dialing the phone number which causes the modem
to wait for a secondary dial tone.  This is used to translate the
<KBD>=</KBD> character in a phone number.  The default is a comma.

<DT><CODE>pause <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX188"></A>

A string to output when dialing the phone number which causes the modem
to wait for 1 second.  This is used to translate the <KBD>-</KBD> character
in a phone number.  The default is a comma.

<DT><CODE>carrier <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX189"></A>

An argument of true means that the dialer supports the modem carrier
signal.  After the phone number is dialed, <CODE>uucico</CODE> will require
that carrier be on.  One some systems, it will be able to wait for it.
If the argument is false, carrier will not be required.  The default is
true.

<DT><CODE>carrier-wait <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX190"></A>

If the port is supposed to wait for carrier, this may be used to
indicate how many seconds to wait.  The default is 60 seconds.  Only
some systems support waiting for carrier.

<DT><CODE>dtr-toggle <VAR>boolean</VAR> <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX191"></A>

If the first argument is true, then DTR is toggled before using
the modem.  This is only supported on some systems and some ports.  The
second <VAR>boolean</VAR> need not be present; if it is, and it is
true, the program will sleep for 1 second after toggling DTR.
The default is to not toggle DTR.

<DT><CODE>complete-chat <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX192"></A>
<DT><CODE>complete-chat-timeout <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX193"></A>
<DT><CODE>complete-chat-fail <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX194"></A>
<DT><CODE>complete-chat-seven-bit <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX195"></A>
<DT><CODE>complete-chat-program <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX196"></A>

These commands define a chat script (see section <A HREF="uucp.html#SEC59">Chat Scripts</A>) which is run
when a call is finished normally.  This allows the modem to be reset.
There is no default.  No additional escape sequences may be used.

<DT><CODE>complete <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX197"></A>

This is a simple use of <CODE>complete-chat</CODE>.  It is equivalent to
<CODE>complete-chat "" <VAR>string</VAR></CODE>; this has the effect of sending
<VAR>string</VAR> to the modem when a call finishes normally.

<DT><CODE>abort-chat <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX198"></A>
<DT><CODE>abort-chat-timeout <VAR>number</VAR></CODE>
<DD>
<A NAME="IDX199"></A>
<DT><CODE>abort-chat-fail <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX200"></A>
<DT><CODE>abort-chat-seven-bit <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX201"></A>
<DT><CODE>abort-chat-program <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX202"></A>

These commands define a chat script (see section <A HREF="uucp.html#SEC59">Chat Scripts</A>) to be run
when a call is aborted.  They may be used to interrupt and reset the
modem.  There is no default.  No additional escape sequences may be
used.

<DT><CODE>abort <VAR>string</VAR></CODE>
<DD>
<A NAME="IDX203"></A>

This is a simple use of <CODE>abort-chat</CODE>.  It is equivalent to
<CODE>abort-chat "" <VAR>string</VAR></CODE>; this has the effect of sending
<VAR>string</VAR> to the modem when a call is aborted.

<DT><CODE>protocol-parameter <VAR>character</VAR> <VAR>strings</VAR></CODE>
<DD>
<A NAME="IDX204"></A>

Set protocol parameters, just like the <CODE>protocol-parameter</CODE> command
in the system configuration file or the port configuration file; see
section <A HREF="uucp.html#SEC73">Protocol Selection</A>.  These parameters take precedence, then those
for the port, then those for the system.

<DT><CODE>seven-bit <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX205"></A>

This is only used during protocol negotiation; if it is true, it
forces selection of a protocol which works across a seven-bit link.  It
does not prevent eight bit characters from being transmitted.  The
default is false.  It would be more common to specify this for a
port than for a dialer.

<DT><CODE>reliable <VAR>boolean</VAR></CODE>
<DD>
<A NAME="IDX206"></A>

This is only used during protocol negotiation; if it is false, it
forces selection of a protocol which works across an unreliable
communication link.  The default is true.

<DT><CODE>half-duplex <VAR>boolean</VAR> [ any type ]</CODE>
<DD>
<A NAME="IDX207"></A>

If the argument is true, it means that the dialer only supports
half-duplex connections.  This only affects bidirectional protocols, and
causes them to not do bidirectional transfers.

</DL>



<H2><A NAME="SEC79" HREF="uucp.html#TOC79">UUCP Over TCP</A></H2>

<P>
If your system has a Berkeley style socket library, or a System V style
TLI interface library, you can compile the code to permit making
connections over TCP.  Specifying that a system should be reached via
TCP is easy, but nonobvious.




<H3><A NAME="SEC80" HREF="uucp.html#TOC80">Connecting to Another System Over TCP</A></H3>

<P>
If you are using the new style configuration files (see section <A HREF="uucp.html#SEC51">Taylor UUCP Configuration Files</A>), add the line <SAMP>`port type tcp'</SAMP> to the entry in the
<TT>`sys'</TT> file.  By default UUCP will get the port number by looking up
<SAMP>`uucp'</SAMP> in <TT>`/etc/services'</TT>; if the <SAMP>`uucp'</SAMP> service is not
defined, port 540 will be used.  You can set the port number to use with
the command <SAMP>`port service <VAR>xxx</VAR>'</SAMP>, where <VAR>xxx</VAR> can be either
a number or a name to look up in <TT>`/etc/services'</TT>.  You can specify
the address of the remote host with <SAMP>`address <VAR>a.b.c</VAR>'</SAMP>; if you
don't give an address, the remote system name will be used.  You should
give an explicit chat script for the system when you use TCP; the
default chat script begins with a carriage return, which will not work
with some UUCP TCP servers.


<P>
If you are using V2 configuration files, add a line like this to
<TT>`L.sys'</TT>:

<PRE>
<VAR>sys</VAR> Any TCP uucp <VAR>host</VAR>.<VAR>domain</VAR> chat-script
</PRE>

<P>
This will make an entry for system <VAR>sys</VAR>, to be called at any time,
over TCP, using port number <SAMP>`uucp'</SAMP> (as found in
<TT>`/etc/services'</TT>; this may be specified as a number), using remote
host <TT>`<VAR>host</VAR>.<VAR>domain</VAR>'</TT>, with some chat script.


<P>
If you are using HDB configuration files, add a line like this to
Systems:

<PRE>
<VAR>sys</VAR> Any TCP - <VAR>host</VAR>.<VAR>domain</VAR> chat-script
</PRE>

<P>
and a line like this to <TT>`Devices'</TT>:

<PRE>
TCP uucp - -
</PRE>

<P>
You only need one line in <TT>`Devices'</TT> regardless of how many systems
you contact over TCP.  This will make an entry for system <VAR>sys</VAR>, to
be called at any time, over TCP, using port number <SAMP>`uucp'</SAMP> (as found
in <TT>`/etc/services'</TT>; this may be specified as a number), using
remote host <TT>`<VAR>host</VAR>.<VAR>domain</VAR>'</TT>, with some chat script.




<H3><A NAME="SEC81" HREF="uucp.html#TOC81">Running a TCP Server</A></H3>

<P>
The <CODE>uucico</CODE> daemon may be run as a TCP server.  To use the default
port number, which is a reserved port, <CODE>uucico</CODE> must be invoked by
the superuser (or it must be set user ID to the superuser, but I don't
recommend doing that).


<P>
You must define a port, either using the port file (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>),
if you are using the new configuration method, or with an entry in
<TT>`Devices'</TT> if you are using HDB; there is no way to define a port
using V2.  If you are using HDB the port must be named <SAMP>`TCP'</SAMP>; a
line as shown above will suffice.  You can then start <CODE>uucico</CODE> as
<SAMP>`uucico -p TCP'</SAMP> (after the <SAMP>`-p'</SAMP>, name the port; in HDB it must
be <SAMP>`TCP'</SAMP>).  This will wait for incoming connections, and fork off a
child for each one.  Each connection will be prompted with <SAMP>`login:'</SAMP>
and <SAMP>`Password:'</SAMP>; the results will be checked against the UUCP (not
the system) password file (see section <A HREF="uucp.html#SEC62">Configuration File Names</A>).


<P>
Another way to run a UUCP TCP server is to use the BSD <CODE>uucpd</CODE>
program.


<P>
Yet another way to run a UUCP TCP server is to use <CODE>inetd</CODE>.
Arrange for <CODE>inetd</CODE> to start up <CODE>uucico</CODE> with the <SAMP>`-l'</SAMP>
switch.  This will cause <CODE>uucico</CODE> to prompt with <SAMP>`login:'</SAMP> and
<SAMP>`Password:'</SAMP> and check the results against the UUCP (not the system)
password file (you may want to also use the <SAMP>`-D'</SAMP> switch to avoid a
fork, which in this case is unnecessary).




<H2><A NAME="SEC82" HREF="uucp.html#TOC82">Security</A></H2>

<P>
This discussion of UUCP security applies only to Unix.  It is a bit
cursory; suggestions for improvement are solicited.


<P>
UUCP is traditionally not very secure.  Taylor UUCP addresses some
security issues, but is still far from being a secure system.


<P>
If security is very important to you, then you should not permit any
external access to your computer, including UUCP.  Any opening to the
outside world is a potential security risk.


<P>
When local users use UUCP to transfer files, Taylor UUCP can do little
to secure them from each other.  You can allow somewhat increased
security by putting the owner of the UUCP programs (normally
<CODE>uucp</CODE>) into a separate group; the use of this is explained in the
following paragraphs, which refer to this separate group as
<CODE>uucp-group</CODE>.


<P>
When the <CODE>uucp</CODE> program is invoked to copy a file to a remote
system, it will, by default, copy the file into the UUCP spool
directory.  When the <CODE>uux</CODE> program is used, the <SAMP>`-C'</SAMP> switch
must be used to copy the file into the UUCP spool directory.  In any
case, once the file has been copied into the spool directory, other
local users will not be able to access it.


<P>
When a file is requested from a remote system, UUCP will only permit it
to be placed in a directory which is writable by the requesting user.
The directory must also be writable by UUCP.  A local user can create a
directory with a group of <CODE>uucp-group</CODE> and set the mode to permit
group write access.  This will allow the file be requested without
permitting it to be viewed by any other user.


<P>
There is no provision for security for <CODE>uucp</CODE> requests (as opposed
to <CODE>uux</CODE> requests) made by a user on a remote system.  A file sent
over by a remote request may only be placed in a directory which is
world writable, and the file will be world readable and writable.  This
will permit any local user to destroy or replace the contents of the
file.  A file requested by a remote system must be world readable, and
the directory it is in must be world readable.  Any local user will be
able to examine, although not necessarily modify, the file before it is
sent.


<P>
There are some security holes and race conditions that apply to the
above discussion which I will not elaborate on.  They are not hidden
from anybody who reads the source code, but they are somewhat technical
and difficult (though scarcely impossible) to exploit.  Suffice it to
say that even under the best of conditions UUCP is not completely
secure.


<P>
For many sites, security from remote sites is a more important
consideration.  Fortunately, Taylor UUCP does provide some support in
this area.


<P>
The greatest security is provided by always dialing out to the other
site.  This prevents anybody from pretending to be the other site.  Of
course, only one side of the connection can do this.


<P>
If remote dialins must be permitted, then it is best if the dialin line
is used only for UUCP.  If this is the case, then you should create a
call-in password file (see section <A HREF="uucp.html#SEC62">Configuration File Names</A>) and let
<CODE>uucico</CODE> do its own login prompting.  For example, to let remote
sites log in on a port named <SAMP>`entry'</SAMP> in the port file (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>), you might invoke <SAMP>`uucico -e -p entry'</SAMP>.  This would cause
<CODE>uucico</CODE> to enter an endless loop of login prompts and daemon
executions.  The advantage of this approach is that even if remote users
break into the system by guessing or learning the password, they will
only be able to do whatever <CODE>uucico</CODE> permits them to do.  They will
not be able to start a shell on your system.


<P>
If remote users can dial in and log on to your system, then you have a
security hazard more serious than that posed by UUCP.  But then, you
probably knew that already.


<P>
Once your system has connected with the remote UUCP, there is a fair
amount of control you can exercise.  You can use the <CODE>remote-send</CODE>
and <CODE>remote-receive</CODE> commands to control the directories the remote
UUCP can access.  You can use the <CODE>request</CODE> command to prevent the
remote UUCP from making any requests of your system at all; however, if
you do this it will not even be able to send you mail or news.  If you
do permit remote requests, you should be careful to restrict what
commands may be executed at the remote system's request.  The default is
<CODE>rmail</CODE> and <CODE>rnews</CODE>, which will suffice for most systems.


<P>
If different remote systems call in and they must be granted different
privileges (perhaps some systems are within the same organization and
some are not) then the <CODE>called-login</CODE> command should be used for
each system to require that they use different login names.  Otherwise,
it would be simple for a remote system to use the <CODE>myname</CODE> command
and pretend to be a different system.  The <CODE>sequence</CODE> command can
be used to detect when one system pretended to be another, but, since
the sequence numbers must be reset manually after a failed handshake,
this can sometimes be more trouble than it's worth.




<H1><A NAME="SEC83" HREF="uucp.html#TOC83">UUCP Protocol Internals</A></H1>

<P>
This chapter describes how the various UUCP protocols work, and
discusses some other internal UUCP issues.


<P>
This chapter is quite technical.  You do not need to understand it, or
even read it, in order to use Taylor UUCP.  It is intended for people
who are interested in how the UUCP code works.


<P>
The information in this chapter is posted monthly to the Usenet
newsgroups <SAMP>`comp.mail.uucp'</SAMP>, <SAMP>`news.answers'</SAMP>, and
<SAMP>`comp.answers'</SAMP>.  The posting is available from any
<SAMP>`news.answers'</SAMP> archive site, such as <SAMP>`rtfm.mit.edu'</SAMP>.  If you
plan to use this information to write a UUCP program, please make sure
you get the most recent version of the posting, in case there have been
any corrections.




<H2><A NAME="SEC84" HREF="uucp.html#TOC84">UUCP Protocol Sources</A></H2>


<BLOCKQUOTE>
<P>
"Unix-to-Unix Copy Program," said PDP-1.  "You will never find a more
wretched hive of bugs and flamers.  We must be cautious."

<PRE>
---DECWars
</PRE>

</BLOCKQUOTE>

<P>
I took a lot of the information from Jamie E. Hanrahan's paper in the
Fall 1990 DECUS Symposium, and from <CITE>Managing UUCP and Usenet</CITE> by Tim
O'Reilly and Grace Todino (with contributions by several other
people).  The latter includes most of the former, and is published by

<PRE>
O'Reilly &#38; Associates, Inc.
103 Morris Street, Suite A
Sebastopol, CA 95472
</PRE>

<P>
It is currently in its tenth edition.  The ISBN number is
<SAMP>`0-937175-93-5'</SAMP>.


<P>
Some information is originally due to a Usenet article by Chuck Wegrzyn.
The information on execution files comes partially from Peter Honeyman.
The information on the <SAMP>`g'</SAMP> protocol comes partially from a paper by
G.L. Chesson of Bell Laboratories, partially from Jamie E. Hanrahan's
paper, and partially from source code by John Gilmore.  The information
on the <SAMP>`f'</SAMP> protocol comes from the source code by Piet Berteema.
The information on the <SAMP>`t'</SAMP> protocol comes from the source code by
Rick Adams.  The information on the <SAMP>`e'</SAMP> protocol comes from a
Usenet article by Matthias Urlichs.  The information on the <SAMP>`d'</SAMP>
protocol comes from Jonathan Clark, who also supplied information about
QFT.  The UUPlus information comes straight from Christopher J. Ambler,
of UUPlus Development; it applies to version 1.52 and up of the
shareware version of UUPlus Utilities, called FSUUCP 1.52, but referred
to in this article as UUPlus.


<P>
Although there are few books about UUCP, there are many about networks
and protocols in general.  I recommend two non-technical books which
describe the sorts of things that are available on the network:
<CITE>The Whole Internet</CITE>, by Ed Krol, and <CITE>Zen and the Art of the
Internet</CITE>, by Brendan P. Kehoe.  Good technical discussions of
networking issues can be found in <CITE>Internetworking with TCP/IP</CITE>, by
Douglas E. Comer and David L. Stevens and in <CITE>Design and Validation
of Computer Protocols</CITE> by Gerard J. Holzmann.




<H2><A NAME="SEC85" HREF="uucp.html#TOC85">UUCP Grades</A></H2>
<P>
<A NAME="IDX208"></A>


<P>
Modern UUCP packages support a priority grade for each command.  The
grades generally range from <KBD>A</KBD> (the highest) to <KBD>Z</KBD> followed by
<KBD>a</KBD> to <KBD>z</KBD>.  Some UUCP packages (including Taylor UUCP) also
support <KBD>0</KBD> to <KBD>9</KBD> before <KBD>A</KBD>.  Some UUCP packages may
permit any ASCII character as a grade.


<P>
On Unix, these grades are encoded in the name of the command file
created by <CODE>uucp</CODE> or <CODE>uux</CODE>.  A command file name generally has
the form <TT>`C.nnnngssss'</TT> where <SAMP>`nnnn'</SAMP> is the remote system name
for which the command is queued, <SAMP>`g'</SAMP> is a single character grade,
and <SAMP>`ssss'</SAMP> is a four character sequence number.  For example, a
command file created for the system <SAMP>`airs'</SAMP> at grade <SAMP>`Z'</SAMP> might
be named <TT>`C.airsZ2551'</TT>.


<P>
The remote system name will be truncated to seven characters, to
ensure that the command file name will fit in the 14 character file
name limit of the traditional Unix file system.  UUCP packages which
have no other means of distinguishing which command files are intended
for which systems thus require all systems they connect to to have
names that are unique in the first seven characters.  Some UUCP
packages use a variant of this format which truncates the system name
to six characters.  HDB and Taylor UUCP use a different spool
directory format, which allows up to fourteen characters to be used
for each system name.


<P>
The sequence number in the command file name may be a decimal integer,
or it may be a hexadecimal integer, or it may contain any alphanumeric
character.  Different UUCP packages are different.
Taylor UUCP uses any alphanumeric character.


<P>
UUPlus Utilities (as FSUUCP, a shareware DOS based UUCP and news
package) uses up to 8 characters for file names in the spool (this is a
DOS file system limitation; actually, with the extension, 11 characters
are available, but FSUUCP reserves that for future use).  FSUUCP
defaults mail to grade <SAMP>`D'</SAMP>, and news to grade <SAMP>`N'</SAMP>, except that
when the grade of incoming mail can be determined, that grade is
preserved if the mail is forwarded to another system. The default grades
may be changed by editing the <TT>`LIB/MAILRC'</TT> file for mail, or the
<TT>`UUPLUS.CFG'</TT> file for news.


<P>
UUPC/extended for DOS, OS/2 and Windows NT handles mail at grade
<SAMP>`C'</SAMP>, news at grade <SAMP>`d'</SAMP>, and file transfers at grade <SAMP>`n'</SAMP>.
The UUPC/extended <CODE>UUCP</CODE> and <CODE>RMAIL</CODE> commands accept grades to
override the default, the others do not.


<P>
I do not know how command grades are handled in other non-Unix UUCP
packages.


<P>
Modern UUCP packages allow you to restrict file transfer by grade
depending on the time of day.  Typically this is done with a line in
the <TT>`Systems'</TT> (or <TT>`L.sys'</TT>) file like this:

<PRE>
    airs Any/Z,Any2305-0855 ...
</PRE>

<P>
This allows grades <SAMP>`Z'</SAMP> and above to be transferred at any time.
Lower grades may only be transferred at night.  I believe that this
grade restriction applies to local commands as well as to remote
commands, but I am not sure.  It may only apply if the UUCP package
places the call, not if it is called by the remote system.


<P>
Taylor UUCP can use the <CODE>timegrade</CODE> and <CODE>call-timegrade</CODE>
commands to achieve the same effect.
See section <A HREF="uucp.html#SEC69">When to Call</A>.
It supports the above format when reading <TT>`Systems'</TT> or
<TT>`L.sys'</TT>.


<P>
UUPC/extended provides the <CODE>symmetricgrades</CODE> option to announce the
current grade in effect when calling the remote system.


<P>
UUPlus allows specification of the highest grade accepted on a per-call
basis with the <SAMP>`-g'</SAMP> option in <CODE>UUCICO</CODE>.


<P>
This sort of grade restriction is most useful if you know what grades
are being used at the remote site.  The default grades used depend on
the UUCP package.  Generally <CODE>uucp</CODE> and <CODE>uux</CODE> have different
defaults.  A particular grade can be specified with the <SAMP>`-g'</SAMP> option
to <CODE>uucp</CODE> or <CODE>uux</CODE>.  For example, to request execution of
<SAMP>`rnews'</SAMP> on <SAMP>`airs'</SAMP> with grade <SAMP>`d'</SAMP>, you might use something
like

<PRE>
    uux -gd - airs!rnews &#60; article
</PRE>

<P>
Uunet queues up mail at grade <SAMP>`C'</SAMP>, but increases the grade based on
the size.  News is queued at grade <SAMP>`d'</SAMP>, and file transfers at grade
<SAMP>`n'</SAMP>.  The example above would allow mail (below some large size) to
be received at any time, but would only permit news to be transferred at
night.




<H2><A NAME="SEC86" HREF="uucp.html#TOC86">UUCP Lock Files</A></H2>
<P>
<A NAME="IDX209"></A>


<P>
This discussion applies only to Unix.  I have no idea how UUCP locks
ports on other systems.


<P>
UUCP creates files to lock serial ports and systems.  On most, if not
all, systems, these same lock files are also used by <CODE>cu</CODE> to
coordinate access to serial ports.  On some systems <CODE>getty</CODE> also
uses these lock files, often under the name <CODE>uugetty</CODE>.


<P>
The lock file normally contains the process ID of the locking process.
This makes it easy to determine whether a lock is still valid.  The
algorithm is to create a temporary file and then link it to the name
that must be locked.  If the link fails because a file with that name
already exists, the existing file is read to get the process ID.  If the
process still exists, the lock attempt fails.  Otherwise the lock file
is deleted and the locking algorithm is retried.


<P>
Older UUCP packages put the lock files in the main UUCP spool directory,
<TT>`/usr/spool/uucp'</TT>.  HDB UUCP generally puts the lock files in a
directory of their own, usually <TT>`/usr/spool/locks'</TT> or
<TT>`/etc/locks'</TT>.


<P>
The original UUCP lock file format encodes the process ID as a four byte
binary number.  The order of the bytes is host-dependent.  HDB UUCP
stores the process ID as a ten byte ASCII decimal number, with a
trailing newline.  For example, if process 1570 holds a lock file, it
would contain the eleven characters space, space, space, space, space,
space, one, five, seven, zero, newline.  Some versions of UUCP add a
second line indicating which program created the lock (<CODE>uucp</CODE>,
<CODE>cu</CODE>, or <CODE>getty/uugetty</CODE>).  I have also seen a third type of
UUCP lock file which does not contain the process ID at all.


<P>
The name of the lock file is traditionally <TT>`LCK..'</TT> followed by the
base name of the device.  For example, to lock <TT>`/dev/ttyd0'</TT> the
file <TT>`LCK..ttyd0'</TT> would be created.  On SCO Unix, the lock file
name is always forced to lower case even if the device name has upper
case letters.


<P>
System V Release 4 UUCP names the lock file using the major and minor
device numbers rather than the device name.  The file is named
<TT>`LK.<VAR>XXX</VAR>.<VAR>YYY</VAR>.<VAR>ZZZ</VAR>'</TT>, where <VAR>XXX</VAR>, <VAR>YYY</VAR> and
<VAR>ZZZ</VAR> are all three digit decimal numbers.  <VAR>XXX</VAR> is the major
device number of the device holding the directory holding the device
file (e.g., <TT>`/dev'</TT>).  <VAR>YYY</VAR> is the major device number of the
device file itself.  <VAR>ZZZ</VAR> is the minor device number of the device
file itself.  If <CODE>s</CODE> holds the result of passing the device to the
stat system call (e.g., <CODE>stat ("/dev/ttyd0", &#38;s)</CODE>), the following
line of C code will print out the corresponding lock file name:

<PRE>
    printf ("LK.%03d.%03d.%03d", major (s.st_dev),
            major (s.st_rdev), minor (s.st_rdev));
</PRE>

<P>
The advantage of this system is that even if there are several links to
the same device, they will all use the same lock file name.


<P>
When two or more instances of <CODE>uuxqt</CODE> are executing, some sort of
locking is needed to ensure that a single execution job is only started
once.  I don't know how most UUCP packages deal with this.  Taylor UUCP
uses a lock file for each execution job.  The name of the lock file is
the same as the name of the <TT>`X.*'</TT> file, except that the initial
<SAMP>`X'</SAMP> is changed to an <SAMP>`L'</SAMP>.  The lock file holds the process ID
as described above.




<H2><A NAME="SEC87" HREF="uucp.html#TOC87">Execution File Format</A></H2>
<P>
<A NAME="IDX210"></A>
<A NAME="IDX211"></A>


<P>
UUCP <TT>`X.*'</TT> files control program execution.  They are created by
<CODE>uux</CODE>.  They are transferred between systems just like any other
file.  The <CODE>uuxqt</CODE> daemon reads them to figure out how to execute
the job requested by <CODE>uux</CODE>.


<P>
An <TT>`X.*'</TT> file is simply a text file.  The first character of each
line is a command, and the remainder of the line supplies arguments.
The following commands are defined:


<DL COMPACT>

<DT><SAMP>`C command'</SAMP>
<DD>
This gives the command to execute, including the program and all
arguments.  For example, <SAMP>`rmail ian@airs.com'</SAMP>.

<DT><SAMP>`U user system'</SAMP>
<DD>
This names the user who requested the command, and the system from which
the request came.

<DT><SAMP>`I standard-input'</SAMP>
<DD>
This names the file from which standard input is taken.  If no standard
input file is given, the standard input will probably be attached to
<TT>`/dev/null'</TT>.  If the standard input file is not from the system on
which the execution is to occur, it will also appear in an <SAMP>`F'</SAMP>
command.

<DT><SAMP>`O standard-output [system]'</SAMP>
<DD>
This names the standard output file.  The optional second argument names
the system to which the file should be sent.  If there is no second
argument, the file should be created on the executing system.

<DT><SAMP>`F required-file [filename-to-use]'</SAMP>
<DD>
The <SAMP>`F'</SAMP> command can appear multiple times.  Each <SAMP>`F'</SAMP> command
names a file which must exist before the execution can proceed.  This
will usually be a file which is transferred from the system on which
<CODE>uux</CODE> was executed, but it can also be a file from the local system
or some other system.  If the file is not from the local system, then
the command will usually name a file in the spool directory.  If the
optional second argument appears, then the file should be copied to the
execution directory under that name.  This is necessary for any file
other than the standard input file.  If the standard input file is not
from the local system, it will appear in both an <SAMP>`F'</SAMP> command and an
<SAMP>`I'</SAMP> command.

<DT><SAMP>`R requestor-address'</SAMP>
<DD>
This is the address to which mail about the job should be sent.  It is
relative to the system named in the <SAMP>`U'</SAMP> command.  If the <SAMP>`R'</SAMP>
command does not appear, then mail is sent to the user named in the
<SAMP>`U'</SAMP> command.

<DT><SAMP>`Z'</SAMP>
<DD>
This command takes no arguments.  It means that a mail message should be
sent if the command failed.  This is the default behaviour for most
modern UUCP packages, and for them the <SAMP>`Z'</SAMP> command does not
actually do anything.

<DT><SAMP>`N'</SAMP>
<DD>
This command takes no arguments.  It means that no mail message should
be sent, even if the command failed.

<DT><SAMP>`n'</SAMP>
<DD>
This command takes no arguments.  It means that a mail message should be
sent if the command succeeded.  Normally a message is sent only if the
command failed.

<DT><SAMP>`B'</SAMP>
<DD>
This command takes no arguments.  It means that the standard input
should be returned with any error message.  This can be useful in cases
where the input would otherwise be lost.

<DT><SAMP>`e'</SAMP>
<DD>
This command takes no arguments.  It means that the command should be
processed with <TT>`/bin/sh'</TT>.  For some packages this is the default
anyhow.  Most packages will refuse to execute complex commands or
commands containing wildcards, because of the security holes this opens.

<DT><SAMP>`E'</SAMP>
<DD>
This command takes no arguments.  It means that the command should be
processed with the <CODE>execve</CODE> system call.  For some packages this is
the default anyhow.

<DT><SAMP>`M status-file'</SAMP>
<DD>
This command means that instead of mailing a message, the message should
be copied to the named file on the system named by the <SAMP>`U'</SAMP> command.

<DT><SAMP>`# comment'</SAMP>
<DD>
This command is ignored, as is any other unrecognized command.  
</DL>

<P>
Here is an example.  Given the following command executed on system
test1

<PRE>
    uux - test2!cat - test2!~ian/bar !qux '&#62;~/gorp'
</PRE>

<P>
(this is only an example, as most UUCP systems will not permit the cat
command to be executed) Taylor UUCP will produce something like the
following <TT>`X.'</TT>  file:

<PRE>
U ian test1
F D.test1N003r qux
O /usr/spool/uucppublic test1
F D.test1N003s
I D.test1N003s
C cat - ~ian/bar qux
</PRE>

<P>
The standard input will be read into a file and then transferred to the
file <TT>`D.test1N003s'</TT> on system <SAMP>`test2'</SAMP>.  The file <TT>`qux'</TT>
will be transferred to <TT>`D.test1N003r'</TT> on system <SAMP>`test2'</SAMP>.  When
the command is executed, the latter file will be copied to the execution
directory under the name <SAMP>`qux'</SAMP>.  Note that since the file
<TT>`~ian/bar'</TT> is already on the execution system, no action need be
taken for it.  The standard output will be collected in a file, then
copied to the directory <TT>`/usr/spool/uucppublic'</TT> on the system
<SAMP>`test1'</SAMP>.




<H2><A NAME="SEC88" HREF="uucp.html#TOC88">UUCP Protocol</A></H2>
<P>
<A NAME="IDX212"></A>
<A NAME="IDX213"></A>


<P>
The UUCP protocol is a conversation between two UUCP packages.  A UUCP
conversation consists of three parts: an initial handshake, a series of
file transfer requests, and a final handshake.




<H3><A NAME="SEC89" HREF="uucp.html#TOC89">The Initial Handshake</A></H3>
<P>
<A NAME="IDX214"></A>


<P>
Before the initial handshake, the caller will usually have logged in the
called machine and somehow started the UUCP package there.  On Unix this
is normally done by setting the shell of the login name used to
<TT>`/usr/lib/uucp/uucico'</TT>.


<P>
All messages in the initial handshake begin with a <KBD>^P</KBD> (a byte with
the octal value <SAMP>`\020'</SAMP>) and end with a null byte (<SAMP>`\000'</SAMP>).  A
few systems end these messages with a line feed character (<SAMP>`\012'</SAMP>)
instead of a null byte; the examples below assume a null byte is being
used.


<P>
Some options below are supported by QFT, which stands for Queued File
Transfer, and is (or was) an internal Bell Labs version of UUCP.  


<P>
Taylor UUCP size negotiation was introduced by Taylor UUCP, and is
also supported by DOS based UUPlus and Amiga based wUUCP and
UUCP-1.17.


<P>
The initial handshake goes as follows.  It is begun by the called
machine.


<DL COMPACT>

<DT>called: <SAMP>`\020Shere=hostname\000'</SAMP>
<DD>
The hostname is the UUCP name of the called machine.  Older UUCP
packages do not output it, and simply send <SAMP>`\020Shere\000'</SAMP>.

<DT>caller: <SAMP>`\020Shostname options\000'</SAMP>
<DD>
The hostname is the UUCP name of the calling machine.  The following
options may appear (or there may be none):

<DL COMPACT>

<DT><SAMP>`-QSEQ'</SAMP>
<DD>
Report sequence number for this conversation.  The sequence number is
stored at both sites, and incremented after each call.  If there is a
sequence number mismatch, something has gone wrong (somebody may have
broken security by pretending to be one of the machines) and the call is
denied.  If the sequence number changes on one of the machines, perhaps
because of an attempted breakin or because a disk backup was restored,
the sequence numbers on the two machines must be reconciled manually.

<DT><SAMP>`-xLEVEL'</SAMP>
<DD>
Requests the called system to set its debugging level to the specified
value.  This is not supported by all systems.

<DT><SAMP>`-pGRADE'</SAMP>
<DD>
<DT><SAMP>`-vgrade=GRADE'</SAMP>
<DD>
Requests the called system to only transfer files of the specified grade
or higher.  This is not supported by all systems.  Some systems support
<SAMP>`-p'</SAMP>, some support <SAMP>`-vgrade='</SAMP>.  UUPlus allows either <SAMP>`-p'</SAMP>
or <SAMP>`-v'</SAMP> to be specified on a per-system basis in the <TT>`SYSTEMS'</TT>
file (<SAMP>`gradechar'</SAMP> option).

<DT><SAMP>`-R'</SAMP>
<DD>
Indicates that the calling UUCP understands how to restart failed file
transmissions.  Supported only by System V Release 4 UUCP, QFT, and
Taylor UUCP.

<DT><SAMP>`-ULIMIT'</SAMP>
<DD>
Reports the ulimit value of the calling UUCP.  The limit is specified as
a base 16 number in C notation (e.g., <SAMP>`-U0x1000000'</SAMP>).  This number
is the number of 512 byte blocks in the largest file which the calling
UUCP can create.  The called UUCP may not transfer a file larger than
this.  Supported only by System V Release 4 UUCP, QFT and UUPlus.
UUPlus reports the lesser of the available disk space on the spool
directory drive and the ulimit variable in <TT>`UUPLUS.CFG'</TT>.  Taylor
UUCP understands this option, but does not generate it.

<DT><SAMP>`-N[NUMBER]'</SAMP>
<DD>
Indicates that the calling UUCP understands the Taylor UUCP size
negotiation extension.  Not supported by traditional UUCP packages.
Supported by UUPlus.  The optional number is a bitmask of features
supported by the calling UUCP, and is described below.
</DL>

<DT>called: <SAMP>`\020ROK\000'</SAMP>
<DD>
There are actually several possible responses.
<DL COMPACT>

<DT><SAMP>`ROK'</SAMP>
<DD>
The calling UUCP is acceptable, and the handshake proceeds to the
protocol negotiation.  Some options may also appear; see below.
<DT><SAMP>`ROKN[NUMBER]'</SAMP>
<DD>
The calling UUCP is acceptable, it specified <SAMP>`-N'</SAMP>, and the called
UUCP also understands the Taylor UUCP size limiting extensions.  The
optional number is a bitmask of features supported by the called UUCP,
and is described below.
<DT><SAMP>`RLCK'</SAMP>
<DD>
The called UUCP already has a lock for the calling UUCP, which normally
indicates the two machines are already communicating.
<DT><SAMP>`RCB'</SAMP>
<DD>
The called UUCP will call back.  This may be used to avoid impostors
(but only one machine out of each pair should call back, or no
conversation will ever begin).
<DT><SAMP>`RBADSEQ'</SAMP>
<DD>
The call sequence number is wrong (see the <SAMP>`-Q'</SAMP> discussion above).
<DT><SAMP>`RLOGIN'</SAMP>
<DD>
The calling UUCP is using the wrong login name.
<DT><SAMP>`RYou are unknown to me'</SAMP>
<DD>
The calling UUCP is not known to the called UUCP, and the called UUCP
does not permit connections from unknown systems.  Some versions of UUCP
just drop the line rather than sending this message.
</DL>

If the response is <SAMP>`ROK'</SAMP>, the following options are supported by
System V Release 4 UUCP and QFT.
<DL COMPACT>

<DT><SAMP>`-R'</SAMP>
<DD>
The called UUCP knows how to restart failed file transmissions.
<DT><SAMP>`-ULIMIT'</SAMP>
<DD>
Reports the ulimit value of the called UUCP.  The limit is specified as
a base 16 number in C notation.  This number is the number of 512 byte
blocks in the largest file which the called UUCP can create.  The
calling UUCP may not send a file larger than this.  Also supported by
UUPlus.  Taylor UUCP understands this option, but does not generate it.
<DT><SAMP>`-xLEVEL'</SAMP>
<DD>
I'm not sure just what this means.  It may request the
calling UUCP to set its debugging level to the specified
value.
</DL>

If the response is not <SAMP>`ROK'</SAMP> (or <SAMP>`ROKN'</SAMP>) both sides hang up
the phone, abandoning the call.

<DT>called: <SAMP>`\020Pprotocols\000'</SAMP>
<DD>
Note that the called UUCP outputs two strings in a row.  The protocols
string is a list of UUCP protocols supported by the caller.  Each UUCP
protocol has a single character name.  These protocols are discussed in
more detail later in this document.  For example, the called UUCP might
send <SAMP>`\020Pgf\000'</SAMP>.

<DT>caller: <SAMP>`\020Uprotocol\000'</SAMP>
<DD>
The calling UUCP selects which protocol to use out of the protocols
offered by the called UUCP.  If there are no mutually supported
protocols, the calling UUCP sends <SAMP>`\020UN\000'</SAMP> and both sides hang
up the phone.  Otherwise the calling UUCP sends something like
<SAMP>`\020Ug\000'</SAMP>.
</DL>

<P>
Most UUCP packages will consider each locally supported protocol in turn
and select the first one supported by the called UUCP.  With some
versions of HDB UUCP, this can be modified by giving a list of protocols
after the device name in the <TT>`Devices'</TT> file or the <TT>`Systems'</TT>
file.  For example, to select the <SAMP>`e'</SAMP> protocol in <TT>`Systems'</TT>,

<PRE>
    airs Any ACU,e ...
</PRE>

<P>
or in Devices,

<PRE>
    ACU,e ttyXX ...
</PRE>

<P>
Taylor UUCP provides the <CODE>protocol</CODE>
command which may be used either
for a system
(see section <A HREF="uucp.html#SEC73">Protocol Selection</A>)
or a
port (see section <A HREF="uucp.html#SEC77">The Port Configuration File</A>).
UUPlus allows specification of the protocol string on a per-system basis
in the <TT>`SYSTEMS'</TT> file.


<P>
The optional number following a <SAMP>`-N'</SAMP> sent by the calling system, or
an <SAMP>`ROKN'</SAMP> sent by the called system, is a bitmask of features
supported by the UUCP package.  The optional number was introduced in
Taylor UUCP version 1.04.  The number is sent as an octal number with a
leading zero.  The following bits are currently defined.  A missing
number should be taken as <SAMP>`011'</SAMP>.


<DL COMPACT>

<DT><SAMP>`01'</SAMP>
<DD>
UUCP supports size negotiation.

<DT><SAMP>`02'</SAMP>
<DD>
UUCP supports file restart.

<DT><SAMP>`04'</SAMP>
<DD>
UUCP supports the <SAMP>`E'</SAMP> command.

<DT><SAMP>`010'</SAMP>
<DD>
UUCP requires the file size in the <SAMP>`S'</SAMP> and <SAMP>`R'</SAMP> commands to be
in base 10.  This bit is used by default if no number appears, but
should not be explicitly sent.

<DT><SAMP>`020'</SAMP>
<DD>
UUCP expects a dummy string between the notify field and the size field
in an <SAMP>`S'</SAMP> command.  This is true of SVR4 UUCP.  This bit should not
be used.
</DL>

<P>
After the protocol has been selected and the initial handshake has been
completed, both sides turn on the selected protocol.  For some protocols
(notably <SAMP>`g'</SAMP>) a further handshake is done at this point.




<H3><A NAME="SEC90" HREF="uucp.html#TOC90">UUCP Protocol Commands</A></H3>

<P>
Each protocol supports a method for sending a command to the remote
system.  This method is used to transmit a series of commands between
the two UUCP packages.  At all times, one package is the master and the
other is the slave.  Initially, the calling UUCP is the master.


<P>
If a protocol error occurs during the exchange of commands, both sides
move immediately to the final handshake.


<P>
The master will send one of five commands: <SAMP>`S'</SAMP>, <SAMP>`R'</SAMP>, <SAMP>`X'</SAMP>,
<SAMP>`E'</SAMP>, or <SAMP>`H'</SAMP>.


<P>
Any file name referred to below is either an absolute file name
beginning with <TT>`/'</TT>, a public directory file name beginning with
<TT>`~/'</TT>, a file name relative to a user's home directory beginning
with <TT>`~<VAR>USER</VAR>/'</TT>, or a spool directory file name.  File names in
the spool directory are not absolute, but instead are converted to file
names within the spool directory by UUCP.  They always begin with
<TT>`C.'</TT> (for a command file created by <CODE>uucp</CODE> or <CODE>uux</CODE>),
<TT>`D.'</TT> (for a data file created by <CODE>uucp</CODE>, <CODE>uux</CODE> or by an
execution, or received from another system for an execution), or
<TT>`X.'</TT> (for an execution file created by <CODE>uux</CODE> or received from
another system).




<H4><A NAME="SEC91" HREF="uucp.html#TOC91">The S Command</A></H4>
<P>
<A NAME="IDX215"></A>
<A NAME="IDX216"></A>


<DL COMPACT>

<DT>master: <SAMP>`S <VAR>from</VAR> <VAR>to</VAR> <VAR>user</VAR> -<VAR>options</VAR> <VAR>temp</VAR> <VAR>mode</VAR> <VAR>notify</VAR> <VAR>size</VAR>'</SAMP>
<DD>
The <SAMP>`S'</SAMP> and the <SAMP>`-'</SAMP> are literal characters.  This is a request
by the master to send a file to the slave.

<DL COMPACT>

<DT><VAR>from</VAR>
<DD>
The name of the file to send.  If the <SAMP>`C'</SAMP> option does not appear in
<VAR>options</VAR>, the master will actually open and send this file.
Otherwise the file has been copied to the spool directory, where it is
named <VAR>temp</VAR>.  The slave ignores this field unless <VAR>to</VAR> is a
directory, in which case the basename of <VAR>from</VAR> will be used as the
file name.  If <VAR>from</VAR> is a spool directory filename, it must be a
data file created for or by an execution, and must begin with <TT>`D.'</TT>.

<DT><VAR>to</VAR>
<DD>
The name to give the file on the slave.  If this field names a directory
the file is placed within that directory with the basename of
<VAR>from</VAR>.  A name ending in <SAMP>`/'</SAMP> is taken to be a directory even
if one does not already exist with that name.  If <VAR>to</VAR> begins with
<TT>`X.'</TT>, an execution file will be created on the slave.  Otherwise,
if <VAR>to</VAR> begins with <TT>`D.'</TT> it names a data file to be used by
some execution file.  Otherwise, <VAR>to</VAR> should not be in the spool
directory.

<DT><VAR>user</VAR>
<DD>
The name of the user who requested the transfer.

<DT><VAR>options</VAR>
<DD>
A list of options to control the transfer.  The following
options are defined (all options are single characters):
<DL COMPACT>

<DT><SAMP>`C'</SAMP>
<DD>
The file has been copied to the spool directory
(the master should use <VAR>temp</VAR> rather than <VAR>from</VAR>).
<DT><SAMP>`c'</SAMP>
<DD>
The file has not been copied to the spool directory (this is the
default).
<DT><SAMP>`d'</SAMP>
<DD>
The slave should create directories as necessary (this is the default).
<DT><SAMP>`f'</SAMP>
<DD>
The slave should not create directories if necessary, but should fail
the transfer instead.
<DT><SAMP>`m'</SAMP>
<DD>
The master should send mail to <VAR>user</VAR> when the transfer is complete.
<DT><SAMP>`n'</SAMP>
<DD>
The slave should send mail to <VAR>notify</VAR> when the transfer is
complete.
</DL>

<DT><VAR>temp</VAR>
<DD>
If the <SAMP>`C'</SAMP> option appears in <VAR>options</VAR>, this names the file to
be sent.  Otherwise if <VAR>from</VAR> is in the spool directory, <VAR>temp</VAR>
is the same as <VAR>from</VAR>.  Otherwise <VAR>temp</VAR> may be a dummy string,
such as <TT>`D.0'</TT>.  After the transfer has been succesfully completed,
the master will delete the file <VAR>temp</VAR>.

<DT><VAR>mode</VAR>
<DD>
This is an octal number giving the mode of the file on the master.  If
the file is not in the spool directory, the slave will always create it
with mode 0666, except that if (<VAR>mode</VAR> &#38; 0111) is not zero (the file
is executable), the slave will create the file with mode 0777.  If the
file is in the spool directory, some UUCP packages will use the
algorithm above and some will always create the file with mode 0600.
This field is ignored by UUPlus, since it is meaningless on DOS; UUPlus
uses 0666 for outgoing files.

<DT><VAR>notify</VAR>
<DD>
This field may not be present, and in any case is only meaningful if the
<SAMP>`n'</SAMP> option appears in <VAR>options</VAR>.  If the <SAMP>`n'</SAMP> option
appears, then, when the transfer is successfully completed, the slave
will send mail to <VAR>notify</VAR>, which must be a legal mailing address on
the slave.  If a <VAR>size</VAR> field will appear but the <SAMP>`n'</SAMP> option
does not appear, <VAR>notify</VAR> will always be present, typically as the
string <SAMP>`dummy'</SAMP> or simply a pair of double quotes.

<DT><VAR>size</VAR>
<DD>
This field is only present when doing Taylor UUCP or SVR4 UUCP size
negotiation.  It is the size of the file in bytes.  Taylor UUCP version
1.03 sends the size as a decimal integer, while versions 1.04 and up,
and all other UUCP packages that support size negotiation, send the size
in base 16 with a leading 0x.
</DL>

The slave then responds with an <SAMP>`S'</SAMP> command response.

<DL COMPACT>

<DT><SAMP>`SY <VAR>start</VAR>'</SAMP>
<DD>
The slave is willing to accept the file, and file transfer begins.  The
<VAR>start</VAR> field will only be present when using file restart.  It
specifies the byte offset into the file at which to start sending.  If
this is a new file, <VAR>start</VAR> will be 0x0.

<DT><SAMP>`SN2'</SAMP>
<DD>
The slave denies permission to transfer the file.  This can mean that
the destination directory may not be accessed, or that no requests are
permitted.  It implies that the file transfer will never succeed.

<DT><SAMP>`SN4'</SAMP>
<DD>
The slave is unable to create the necessary temporary file.  This
implies that the file transfer might succeed later.

<DT><SAMP>`SN6'</SAMP>
<DD>
This is only used by Taylor UUCP size negotiation.  It means that the
slave considers the file too large to transfer at the moment, but it may
be possible to transfer it at some other time.

<DT><SAMP>`SN7'</SAMP>
<DD>
This is only used by Taylor UUCP size negotiation.  It means that the
slave considers the file too large to ever transfer.

<DT><SAMP>`SN8'</SAMP>
<DD>
This is only used by Taylor UUCP.  It means that the file was already
received in a previous conversation.  This can happen if the receive
acknowledgement was lost after it was sent by the receiver but before it
was received by the sender.

<DT><SAMP>`SN9'</SAMP>
<DD>
This is only used by Taylor UUCP (versions 1.05 and up) and UUPlus
(versions 2.0 and up).  It means that the remote system was unable to
open another channel (see the discussion of the <SAMP>`i'</SAMP> protocol for
more information about channels).  This implies that the file transfer
might succeed later.

<DT><SAMP>`SN10'</SAMP>
<DD>
This is reportedly used by SVR4 UUCP to mean that the file size is too
large.
</DL>

If the slave responds with <SAMP>`SY'</SAMP>, a file transfer begins.  When the
file transfer is complete, the slave sends a <SAMP>`C'</SAMP> command response.

<DL COMPACT>

<DT><SAMP>`CY'</SAMP>
<DD>
The file transfer was successful.
<DT><SAMP>`CYM'</SAMP>
<DD>
The file transfer was successful, and the slave wishes to become the
master; the master should send an <SAMP>`H'</SAMP> command, described below.
<DT><SAMP>`CN5'</SAMP>
<DD>
The temporary file could not be moved into the final location.  This
implies that the file transfer will never succeed.
</DL>
</DL>

<P>
After the <SAMP>`C'</SAMP> command response has been received (in the <SAMP>`SY'</SAMP>
case) or immediately (in an <SAMP>`SN'</SAMP> case) the master will send another
command.




<H4><A NAME="SEC92" HREF="uucp.html#TOC92">The R Command</A></H4>
<P>
<A NAME="IDX217"></A>
<A NAME="IDX218"></A>


<DL COMPACT>

<DT>master: <SAMP>`R <VAR>from</VAR> <VAR>to</VAR> <VAR>user</VAR> -<VAR>options</VAR> <VAR>size</VAR>'</SAMP>
<DD>
The <SAMP>`R'</SAMP> and the <SAMP>`-'</SAMP> are literal characters.  This is a request
by the master to receive a file from the slave.  I do not know how SVR4
UUCP or QFT implement file transfer restart in this case.

<DL COMPACT>

<DT><VAR>from</VAR>
<DD>
This is the name of the file on the slave which the master wishes to
receive.  It must not be in the spool directory, and it may not contain
any wildcards.

<DT><VAR>to</VAR>
<DD>
This is the name of the file to create on the master.  I do not believe
that it can be a directory.  It may only be in the spool directory if
this file is being requested to support an execution either on the
master or on some system other than the slave.

<DT><VAR>user</VAR>
<DD>
The name of the user who requested the transfer.

<DT><VAR>options</VAR>
<DD>
A list of options to control the transfer.  The following
options are defined (all options are single characters):
<DL COMPACT>

<DT><SAMP>`d'</SAMP>
<DD>
The master should create directories as necessary (this is the default).
<DT><SAMP>`f'</SAMP>
<DD>
The master should not create directories if necessary, but should fail
the transfer instead.
<DT><SAMP>`m'</SAMP>
<DD>
The master should send mail to <VAR>user</VAR> when the transfer is complete.
</DL>

<DT><VAR>size</VAR>
<DD>
This only appears if Taylor UUCP size negotiation is being used.  It
specifies the largest file which the master is prepared to accept (when
using SVR4 UUCP or QFT, this was specified in the <SAMP>`-U'</SAMP> option
during the initial handshake).
</DL>

The slave then responds with an <SAMP>`R'</SAMP> command response.  UUPlus does
not support <SAMP>`R'</SAMP> requests, and always responds with <SAMP>`RN2'</SAMP>.

<DL COMPACT>

<DT><SAMP>`RY <VAR>mode</VAR> [<VAR>size</VAR>]'</SAMP>
<DD>
The slave is willing to send the file, and file transfer begins.  The
<VAR>mode</VAR> argument is the octal mode of the file on the slave.  The
master treats this just as the slave does the <VAR>mode</VAR> argument in the
send command, q.v.  I am told that SVR4 UUCP sends a trailing <VAR>size</VAR>
argument.  For some versions of BSD UUCP, the <VAR>mode</VAR> argument may
have a trailing <SAMP>`M'</SAMP> character (e.g., <SAMP>`RY 0666M'</SAMP>).  This means
that the slave wishes to become the master.

<DT><SAMP>`RN2'</SAMP>
<DD>
The slave is not willing to send the file, either because it is not
permitted or because the file does not exist.  This implies that the
file request will never succeed.

<DT><SAMP>`RN6'</SAMP>
<DD>
This is only used by Taylor UUCP size negotiation.  It means that the
file is too large to send, either because of the size limit specifies by
the master or because the slave considers it too large.  The file
transfer might succeed later, or it might not (this may be cleared up in
a later release of Taylor UUCP).

<DT><SAMP>`RN9'</SAMP>
<DD>
This is only used by Taylor UUCP (versions 1.05 and up) and FSUUCP
(versions 1.5 and up).  It means that the remote system was unable to
open another channel (see the discussion of the <SAMP>`i'</SAMP> protocol for
more information about channels).  This implies that the file transfer
might succeed later.
</DL>

If the slave responds with <SAMP>`RY'</SAMP>, a file transfer begins.  When the
file transfer is complete, the master sends a <SAMP>`C'</SAMP> command.  The
slave pretty much ignores this, although it may log it.

<DL COMPACT>

<DT><SAMP>`CY'</SAMP>
<DD>
The file transfer was successful.
<DT><SAMP>`CN5'</SAMP>
<DD>
The temporary file could not be moved into the final location.
</DL>

After the <SAMP>`C'</SAMP> command response has been sent (in the <SAMP>`RY'</SAMP>
case) or immediately (in an <SAMP>`RN'</SAMP> case) the master will send another
command.
</DL>



<H4><A NAME="SEC93" HREF="uucp.html#TOC93">The X Command</A></H4>
<P>
<A NAME="IDX219"></A>
<A NAME="IDX220"></A>


<DL COMPACT>

<DT>master: <SAMP>`X <VAR>from</VAR> <VAR>to</VAR> <VAR>user</VAR> -<VAR>options</VAR>'</SAMP>
<DD>
The <SAMP>`X'</SAMP> and the <SAMP>`-'</SAMP> are literal characters.  This is a request
by the master to, in essence, execute uucp on the slave.  The slave
should execute <SAMP>`uucp <VAR>from</VAR> <VAR>to</VAR>'</SAMP>.

<DL COMPACT>

<DT><VAR>from</VAR>
<DD>
This is the name of the file or files on the slave which the master
wishes to transfer.  Any wildcards are expanded on the slave.  If the
master is requesting that the files be transferred to itself, the
request would normally contain wildcard characters, since otherwise an
<SAMP>`R'</SAMP> command would suffice.  The master can also use this command to
request that the slave transfer files to a third system.

<DT><VAR>to</VAR>
<DD>
This is the name of the file or directory to which the files should be
transferred.  This will normally use a UUCP name.  For example, if the
master wishes to receive the files itself, it would use
<SAMP>`master!path'</SAMP>.

<DT><VAR>user</VAR>
<DD>
The name of the user who requested the transfer.

<DT><VAR>options</VAR>
<DD>
A list of options to control the transfer.  It is not clear which, if
any, options are supported by most UUCP packages.
</DL>

The slave then responds with an <SAMP>`X'</SAMP> command response.  FSUUCP does
not support <SAMP>`X'</SAMP> requests, and always responds with <SAMP>`XN'</SAMP>.

<DL COMPACT>

<DT><SAMP>`XY'</SAMP>
<DD>
The request was accepted, and the appropriate file transfer commands
have been queued up for later processing.

<DT><SAMP>`XN'</SAMP>
<DD>
The request was denied.  No particular reason is given.
</DL>

In either case, the master will then send another command.
</DL>



<H4><A NAME="SEC94" HREF="uucp.html#TOC94">The E Command</A></H4>
<P>
<A NAME="IDX221"></A>
<A NAME="IDX222"></A>


<DL COMPACT>

<DT>master: <SAMP>`E <VAR>from</VAR> <VAR>to</VAR> <VAR>user</VAR> -<VAR>options</VAR> <VAR>temp</VAR> <VAR>mode</VAR> <VAR>notify</VAR> <VAR>size</VAR> <VAR>command</VAR>'</SAMP>
<DD>
The <SAMP>`E'</SAMP> command is only supported by Taylor UUCP 1.04 and up.  It
is used to make an execution request without requiring a separate
<TT>`X.*'</TT> file.  
See section <A HREF="uucp.html#SEC87">Execution File Format</A>.
It is only used when the command to be executed requires a single input
file which is passed to it as standard input.

All the fields have the same meaning as they do for an <SAMP>`S'</SAMP> command,
except for <VAR>options</VAR> and <VAR>command</VAR>.

<DL COMPACT>

<DT><VAR>options</VAR>
<DD>
A list of options to control the transfer.  The following options are
defined (all options are single characters):
<DL COMPACT>

<DT><SAMP>`C'</SAMP>
<DD>
The file has been copied to the spool directory (the master should use
<VAR>temp</VAR> rather than <VAR>from</VAR>).
<DT><SAMP>`c'</SAMP>
<DD>
The file has not been copied to the spool directory (this is the
default).
<DT><SAMP>`N'</SAMP>
<DD>
No mail message should be sent, even if the command fails.  This is the
equivalent of the <SAMP>`N'</SAMP> command in an <TT>`X.*'</TT> file.
<DT><SAMP>`Z'</SAMP>
<DD>
A mail message should be sent if the command fails (this is generally
the default in any case).  This is the equivalent of the <SAMP>`Z'</SAMP>
command in an <TT>`X.*'</TT> file.
<DT><SAMP>`R'</SAMP>
<DD>
Mail messages about the execution should be sent to the address in the
<VAR>notify</VAR> field.  This is the equivalent of the <SAMP>`R'</SAMP> command in
an <TT>`X.*'</TT> file.
<DT><SAMP>`e'</SAMP>
<DD>
The execution should be done with <TT>`/bin/sh'</TT>.  This is the
equivalent of the <SAMP>`e'</SAMP> command in an <TT>`X.*'</TT> file.
</DL>

<DT><VAR>command</VAR>
<DD>
The command which should be executed.  This is the equivalent of the
<SAMP>`C'</SAMP> command in an <TT>`X.*'</TT> file.
</DL>

The slave then responds with an <SAMP>`E'</SAMP> command response.  These are
the same as the <SAMP>`S'</SAMP> command responses, but the initial character is
<SAMP>`E'</SAMP> rather than <SAMP>`S'</SAMP>.

If the slave responds with <SAMP>`EY'</SAMP>, the file transfer begins.  When
the file transfer is complete, the slave sends a <SAMP>`C'</SAMP> command
response, just as for the <SAMP>`S'</SAMP> command.  After a successful file
transfer, the slave is responsible for arranging for the command to be
executed.  The transferred file is passed as standard input, as though
it were named in the <SAMP>`I'</SAMP> and <SAMP>`F'</SAMP> commands of an <TT>`X.*'</TT>
file.

After the <SAMP>`C'</SAMP> command response has been received (in the <SAMP>`EY'</SAMP>
case) or immediately (in an <SAMP>`EN'</SAMP> case) the master will send another
command.
</DL>



<H4><A NAME="SEC95" HREF="uucp.html#TOC95">The H Command</A></H4>
<P>
<A NAME="IDX223"></A>
<A NAME="IDX224"></A>


<DL COMPACT>

<DT>master: <SAMP>`H'</SAMP>
<DD>
This is used by the master to hang up the connection.  The slave will
respond with an <SAMP>`H'</SAMP> command response.

<DL COMPACT>

<DT><SAMP>`HY'</SAMP>
<DD>
The slave agrees to hang up the connection.  In this case the master
sends another <SAMP>`HY'</SAMP> command.  In some UUCP packages the slave will
then send a third <SAMP>`HY'</SAMP> command.  At this point the protocol is shut
down, and the final handshake is begun.
<DT><SAMP>`HN'</SAMP>
<DD>
The slave does not agree to hang up.  In this case the master and the
slave exchange roles.  The next command will be sent by the former
slave, which is the new master.  The roles may be reversed several times
during a single connection.
</DL>
</DL>



<H3><A NAME="SEC96" HREF="uucp.html#TOC96">The Final Handshake</A></H3>
<P>
<A NAME="IDX225"></A>


<P>
After the protocol has been shut down, the final handshake is performed.
This handshake has no real purpose, and some UUCP packages simply drop
the connection rather than do it (in fact, some will drop the connection
immediately after both sides agree to hangup, without even closing down
the protocol).


<DL COMPACT>

<DT>caller: <SAMP>`\020OOOOOO\000'</SAMP>
<DD>
<DT>called: <SAMP>`\020OOOOOOO\000'</SAMP>
<DD>
</DL>

<P>
That is, the calling UUCP sends six <SAMP>`O'</SAMP> characters and the called
UUCP replies with seven <SAMP>`O'</SAMP> characters.  Some UUCP packages always
send six <SAMP>`O'</SAMP> characters.




<H2><A NAME="SEC97" HREF="uucp.html#TOC97">UUCP <SAMP>`g'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX226"></A>
<A NAME="IDX227"></A>


<P>
The <SAMP>`g'</SAMP> protocol is a packet based flow controlled error correcting
protocol that requires an eight bit clear connection.  It is the
original UUCP protocol, and is supported by all UUCP implementations.
Many implementations of it are only able to support small window and
packet sizes, specifically a window size of 3 and a packet size of 64
bytes, but the protocol itself can support up to a window size of 7 and
a packet size of 4096 bytes.  Complaints about the inefficiency of the
<SAMP>`g'</SAMP> protocol generally refer to specific implementations, rather
than to the correctly implemented protocol.


<P>
The <SAMP>`g'</SAMP> protocol was originally designed for general packet
drivers, and thus contains some features that are not used by UUCP,
including an alternate data channel and the ability to renegotiate
packet and window sizes during the communication session.


<P>
The <SAMP>`g'</SAMP> protocol is spoofed by many Telebit modems.  When spoofing
is in effect, each Telebit modem uses the <SAMP>`g'</SAMP> protocol to
communicate with the attached computer, but the data between the modems
is sent using a Telebit proprietary error correcting protocol.  This
allows for very high throughput over the Telebit connection, which,
because it is half-duplex, would not normally be able to handle the
<SAMP>`g'</SAMP> protocol very well at all.  When a Telebit is spoofing the
<SAMP>`g'</SAMP> protocol, it forces the packet size to be 64 bytes and the
window size to be 3.


<P>
This discussion of the <SAMP>`g'</SAMP> protocol explains how it works, but does
not discuss useful error handling techniques.  Some discussion of this
can be found in Jamie E. Hanrahan's paper, cited 
above (see section <A HREF="uucp.html#SEC84">UUCP Protocol Sources</A>).


<P>
All <SAMP>`g'</SAMP> protocol communication is done with packets.  Each packet
begins with a six byte header.  Control packets consist only of the
header.  Data packets contain additional data.


<P>
The header is as follows:


<DL COMPACT>

<DT><SAMP>`\020'</SAMP>
<DD>
Every packet begins with a <KBD>^P</KBD>.

<DT><VAR>k</VAR> (1 &#60;= <VAR>k</VAR> &#60;= 9)
<DD>
The <VAR>k</VAR> value is always 9 for a control packet.  For a data packet,
the <VAR>k</VAR> value indicates how much data follows the six byte header.
The amount of data is
Thus a <VAR>k</VAR> value of 1 means 32 data bytes and a
<VAR>k</VAR> value of 8 means 4096 data bytes.  The <VAR>k</VAR> value for a data
packet must be between 1 and 8 inclusive.

<DT>checksum low byte
<DD>
<DT>checksum high byte
<DD>
The checksum value is described below.

<DT>control byte
<DD>
The control byte indicates the type of packet, and is described below.

<DT>xor byte
<DD>
This byte is the xor of <VAR>k</VAR>, the checksum low byte, the checksum
high byte and the control byte (i.e., the second, third, fourth and
fifth header bytes).  It is used to ensure that the header data is
valid.
</DL>

<P>
The control byte in the header is composed of three bit fields, referred
to here as <VAR>tt</VAR> (two bits), <VAR>xxx</VAR> (three bits) and <VAR>yyy</VAR>
(three bits).  The control is <VAR>tt</VAR><VAR>xxx</VAR><VAR>yyy</VAR>, or <CODE>(<VAR>tt</VAR>
&#60;&#60; 6) + (<VAR>xxx</VAR> &#60;&#60; 3) + <VAR>yyy</VAR></CODE>.


<P>
The <VAR>TT</VAR> field takes on the following values:


<DL COMPACT>

<DT><SAMP>`0'</SAMP>
<DD>
This is a control packet.  In this case the <VAR>k</VAR> byte in the
header must be 9.  The <VAR>xxx</VAR> field indicates the type of control
packet; these types are described below.

<DT><SAMP>`1'</SAMP>
<DD>
This is an alternate data channel packet.  This is not used by UUCP.

<DT><SAMP>`2'</SAMP>
<DD>
This is a data packet, and the entire contents of the attached data
field (whose length is given by the <VAR>k</VAR> byte in the header) are
valid.  The <VAR>xxx</VAR> and <VAR>yyy</VAR> fields are described below.

<DT><SAMP>`3'</SAMP>
<DD>
This is a short data packet.  Let the length of the data field (as given
by the <VAR>k</VAR> byte in the header) be <VAR>l</VAR>.  Let the first byte in
the data field be <VAR>b1</VAR>.  If <VAR>b1</VAR> is less than 128 (if the most
significant bit of <VAR>b1</VAR> is 0), then there are <CODE><VAR>l</VAR> -
<VAR>b1</VAR></CODE> valid bytes of data in the data field, beginning with the
second byte.  If <CODE><VAR>b1</VAR> &#62;= 128</CODE>, let <VAR>b2</VAR> be the second byte
in the data field.  Then there are <CODE><VAR>l</VAR> - ((<VAR>b1</VAR> &#38; 0x7f) +
(<VAR>b2</VAR> &#60;&#60; 7))</CODE> valid bytes of data in the data field, beginning with
the third byte.  In all cases <VAR>l</VAR> bytes of data are sent (and all
data bytes participate in the checksum calculation) but some of the
trailing bytes may be dropped by the receiver.  The <VAR>xxx</VAR> and
<VAR>yyy</VAR> fields are described below.
</DL>

<P>
In a data packet (short or not) the <VAR>xxx</VAR> field gives the sequence
number of the packet.  Thus sequence numbers can range from 0 to 7,
inclusive.  The <VAR>yyy</VAR> field gives the sequence number of the last
correctly received packet.


<P>
Each communication direction uses a window which indicates how many
unacknowledged packets may be transmitted before waiting for an
acknowledgement.  The window may range from 1 to 7, and may be different
in each direction. For example, if the window is 3 and the last packet
acknowledged was packet number 6, packet numbers 7, 0 and 1 may be sent
but the sender must wait for an acknowledgement before sending packet
number 2.  This acknowledgement could come as the <VAR>yyy</VAR> field of a
data packet, or as the <VAR>yyy</VAR> field of a <SAMP>`RJ'</SAMP> or <SAMP>`RR'</SAMP>
control packet (described below).


<P>
Each packet must be transmitted in order (the sender may not skip
sequence numbers).  Each packet must be acknowledged, and each packet
must be acknowledged in order.


<P>
In a control packet, the <VAR>xxx</VAR> field takes on the following values:


<DL COMPACT>

<DT>1 <SAMP>`CLOSE'</SAMP>
<DD>
The connection should be closed immediately.  This is typically sent
when one side has seen too many errors and wants to give up.  It is also
sent when shutting down the protocol.  If an unexpected <SAMP>`CLOSE'</SAMP>
packet is received, a <SAMP>`CLOSE'</SAMP> packet should be sent in reply and
the <SAMP>`g'</SAMP> protocol should halt, causing UUCP to enter the final
handshake.

<DT>2 <SAMP>`RJ'</SAMP> or <SAMP>`NAK'</SAMP>
<DD>
The last packet was not received correctly.  The <VAR>yyy</VAR> field
contains the sequence number of the last correctly received packet.

<DT>3 <SAMP>`SRJ'</SAMP>
<DD>
Selective reject.  The <VAR>yyy</VAR> field contains the sequence number of a
packet that was not received correctly, and should be retransmitted.
This is not used by UUCP, and most implementations will not recognize
it.

<DT>4 <SAMP>`RR'</SAMP> or <SAMP>`ACK'</SAMP>
<DD>
Packet acknowledgement.  The <VAR>yyy</VAR> field contains the sequence
number of the last correctly received packet.

<DT>5 <SAMP>`INITC'</SAMP>
<DD>
Third initialization packet.  The <VAR>yyy</VAR> field contains the maximum
window size to use.

<DT>6 <SAMP>`INITB'</SAMP>
<DD>
Second initialization packet.  The <VAR>yyy</VAR> field contains the
packet size to use.  It requests a size of 
Note that this is not the same coding used for the <VAR>k</VAR> byte in the
packet header (it is 1 less).  Most UUCP implementations that request a
packet size larger than 64 bytes can handle any packet size up to that
specified.

<DT>7 <SAMP>`INITA'</SAMP>
<DD>
First initialization packet.  The <VAR>yyy</VAR> field contains the maximum
window size to use.
</DL>

<P>
To compute the checksum, call the control byte (the fifth byte in the
header) <VAR>c</VAR>.


<P>
The checksum of a control packet is simply <CODE>0xaaaa - <VAR>c</VAR></CODE>.


<P>
The checksum of a data packet is <CODE>0xaaaa - (<VAR>check</VAR> ^
<VAR>c</VAR>)</CODE>, where <CODE>^</CODE> denotes exclusive or, and <VAR>check</VAR> is the
result of the following routine as run on the contents of the data field
(every byte in the data field participates in the checksum, even for a
short data packet).  Below is the routine used by an early version of
Taylor UUCP; it is a slightly modified version of a routine which John
Gilmore patched from G.L. Chesson's original paper.  The <CODE>z</CODE>
argument points to the data and the <CODE>c</CODE> argument indicates how much
data there is.



<PRE>
int
igchecksum (z, c)
     register const char *z;
     register int c;
{
  register unsigned int ichk1, ichk2;

  ichk1 = 0xffff;
  ichk2 = 0;

  do
    {
      register unsigned int b;

      /* Rotate ichk1 left.  */
      if ((ichk1 &#38; 0x8000) == 0)
        ichk1 &#60;&#60;= 1;
      else
        {
          ichk1 &#60;&#60;= 1;
          ++ichk1;
        }

      /* Add the next character to ichk1.  */
      b = *z++ &#38; 0xff;
      ichk1 += b;

      /* Add ichk1 xor the character position in the buffer counting from
         the back to ichk2.  */
      ichk2 += ichk1 ^ c;

      /* If the character was zero, or adding it to ichk1 caused an
         overflow, xor ichk2 to ichk1.  */
      if (b == 0 || (ichk1 &#38; 0xffff) &#60; b)
        ichk1 ^= ichk2;
    }
  while (--c &#62; 0);

  return ichk1 &#38; 0xffff;
}
</PRE>

<P>
When the <SAMP>`g'</SAMP> protocol is started, the calling UUCP sends an
<SAMP>`INITA'</SAMP> control packet with the window size it wishes the called
UUCP to use.  The called UUCP responds with an <SAMP>`INITA'</SAMP> packet with
the window size it wishes the calling UUCP to use.  Pairs of
<SAMP>`INITB'</SAMP> and <SAMP>`INITC'</SAMP> packets are then similarly exchanged.
When these exchanges are completed, the protocol is considered to have
been started.


<P>
Note that the window and packet sizes are not a negotiation.  Each
system announces the window and packet size which the other system
should use.  It is possible that different window and packet sizes will
be used in each direction.  The protocol works this way on the theory
that each system knows how much data it can accept without getting
overrun.  Therefore, each system tells the other how much data to send
before waiting for an acknowledgement.


<P>
When a UUCP package transmits a command, it sends one or more data
packets.  All the data packets will normally be complete, although some
UUCP packages may send the last one as a short packet.  The command
string is sent with a trailing null byte, to let the receiving package
know when the command is finished.  Some UUCP packages require the last
byte of the last packet sent to be null, even if the command ends
earlier in the packet.  Some packages may require all the trailing bytes
in the last packet to be null, but I have not confirmed this.


<P>
When a UUCP package sends a file, it will send a sequence of data
packets.  The end of the file is signalled by a short data packet
containing zero valid bytes (it will normally be preceeded by a short
data packet containing the last few bytes in the file).


<P>
Note that the sequence numbers cover the entire communication session,
including both command and file data.


<P>
When the protocol is shut down, each UUCP package sends a <SAMP>`CLOSE'</SAMP>
control packet.




<H2><A NAME="SEC98" HREF="uucp.html#TOC98">UUCP <SAMP>`f'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX228"></A>
<A NAME="IDX229"></A>


<P>
The <SAMP>`f'</SAMP> protocol is a seven bit protocol which checksums an entire
file at a time.  It only uses the characters between <SAMP>`\040'</SAMP> and
<SAMP>`\176'</SAMP> (ASCII <KBD>space</KBD> and <KBD>~</KBD>) inclusive, as well as the
carriage return character.  It can be very efficient for transferring
text only data, but it is very inefficient at transferring eight bit
data (such as compressed news).  It is not flow controlled, and the
checksum is fairly insecure over large files, so using it over a serial
connection requires handshaking (XON/XOFF can be used) and error
correcting modems.  Some people think it should not be used even under
those circumstances.


<P>
I believe that the <SAMP>`f'</SAMP> protocol originated in BSD versions of UUCP.
It was originally intended for transmission over X.25 PAD links.


<P>
The <SAMP>`f'</SAMP> protocol has no startup or finish protocol.  However, both
sides typically sleep for a couple of seconds before starting up,
because they switch the terminal into XON/XOFF mode and want to allow
the changes to settle before beginning transmission.


<P>
When a UUCP package transmits a command, it simply sends a string
terminated by a carriage return.


<P>
When a UUCP package transmits a file, each byte <VAR>b</VAR> of the file is
translated according to the following table:



<PRE>
       0 &#60;= <VAR>b</VAR> &#60;=  037: 0172, <VAR>b</VAR> + 0100 (0100 to 0137)
     040 &#60;= <VAR>b</VAR> &#60;= 0171:       <VAR>b</VAR>        ( 040 to 0171)
    0172 &#60;= <VAR>b</VAR> &#60;= 0177: 0173, <VAR>b</VAR> - 0100 ( 072 to  077)
    0200 &#60;= <VAR>b</VAR> &#60;= 0237: 0174, <VAR>b</VAR> - 0100 (0100 to 0137)
    0240 &#60;= <VAR>b</VAR> &#60;= 0371: 0175, <VAR>b</VAR> - 0200 ( 040 to 0171)
    0372 &#60;= <VAR>b</VAR> &#60;= 0377: 0176, <VAR>b</VAR> - 0300 ( 072 to  077)
</PRE>

<P>
That is, a byte between <SAMP>`\040'</SAMP> and <SAMP>`\171'</SAMP> inclusive is
transmitted as is, and all other bytes are prefixed and modified as
shown.


<P>
When all the file data is sent, a seven byte sequence is sent: two bytes
of <SAMP>`\176'</SAMP> followed by four ASCII bytes of the checksum as printed
in base 16 followed by a carriage return.  For example, if the checksum
was 0x1234, this would be sent: <SAMP>`\176\1761234\r'</SAMP>.


<P>
The checksum is initialized to 0xffff.  For each byte that is sent it is
modified as follows (where <VAR>b</VAR> is the byte before it has been
transformed as described above):



<PRE>
      /* Rotate the checksum left.  */
      if ((ichk &#38; 0x8000) == 0)
        ichk &#60;&#60;= 1;
      else
        {
          ichk &#60;&#60;= 1;
          ++ichk;
        }

      /* Add the next byte into the checksum.  */
      ichk += <VAR>b</VAR>;
</PRE>

<P>
When the receiving UUCP sees the checksum, it compares it against its
own calculated checksum and replies with a single character followed
by a carriage return.


<DL COMPACT>

<DT><SAMP>`G'</SAMP>
<DD>
The file was received correctly.

<DT><SAMP>`R'</SAMP>
<DD>
The checksum did not match, and the file should be resent from the
beginning.

<DT><SAMP>`Q'</SAMP>
<DD>
The checksum did not match, but too many retries have occurred and the
communication session should be abandoned.
</DL>

<P>
The sending UUCP checks the returned character and acts accordingly.




<H2><A NAME="SEC99" HREF="uucp.html#TOC99">UUCP <SAMP>`t'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX230"></A>
<A NAME="IDX231"></A>


<P>
The <SAMP>`t'</SAMP> protocol is intended for use on links which provide
reliable end-to-end connections, such as TCP.  It does no error checking
or flow control, and requires an eight bit clear channel.


<P>
I believe the <SAMP>`t'</SAMP> protocol originated in BSD versions of UUCP.


<P>
When a UUCP package transmits a command, it first gets the length of the
command string, <VAR>c</VAR>.  It then sends <CODE>((<VAR>c</VAR> / 512) + 1) *
512</CODE> bytes (the smallest multiple of 512 which can hold <VAR>c</VAR> bytes
plus a null byte) consisting of the command string itself followed by
trailing null bytes.


<P>
When a UUCP package sends a file, it sends it in blocks.  Each block
contains at most 1024 bytes of data.  Each block consists of four bytes
containing the amount of data in binary (most significant byte first,
the same format as used by the Unix function <CODE>htonl</CODE>) followed by
that amount of data.  The end of the file is signalled by a block
containing zero bytes of data.




<H2><A NAME="SEC100" HREF="uucp.html#TOC100">UUCP <SAMP>`e'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX232"></A>
<A NAME="IDX233"></A>


<P>
The <SAMP>`e'</SAMP> protocol is similar to the <SAMP>`t'</SAMP> protocol.  It does no
flow control or error checking and is intended for use over networks
providing reliable end-to-end connections, such as TCP.


<P>
The <SAMP>`e'</SAMP> protocol originated in versions of HDB UUCP.


<P>
When a UUCP package transmits a command, it simply sends the command
as an ASCII string terminated by a null byte.


<P>
When a UUCP package transmits a file, it sends the complete size of the
file as an ASCII decimal number.  The ASCII string is padded out to 20
bytes with null bytes (i.e. if the file is 1000 bytes long, it sends
<SAMP>`1000\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0'</SAMP>).  It then sends the entire
file.




<H2><A NAME="SEC101" HREF="uucp.html#TOC101">UUCP <SAMP>`G'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX234"></A>
<A NAME="IDX235"></A>


<P>
The <SAMP>`G'</SAMP> protocol is used by SVR4 UUCP.  It is identical to the
<SAMP>`g'</SAMP> protocol, except that it is possible to modify the window and
packet sizes.  The SVR4 implementation of the <SAMP>`g'</SAMP> protocol
reportedly is fixed at a packet size of 64 and a window size of 7.
Supposedly SVR4 chose to implement a new protocol using a new letter to
avoid any potential incompatibilities when using different packet or
window sizes.


<P>
Most implementations of the <SAMP>`g'</SAMP> protocol that accept packets larger
than 64 bytes will also accept packets smaller than whatever they
requested in the <SAMP>`INITB'</SAMP> packet.  The SVR4 <SAMP>`G'</SAMP> implementation
is an exception; it will only accept packets of precisely the size it
requests in the INITB packet.




<H2><A NAME="SEC102" HREF="uucp.html#TOC102">UUCP <SAMP>`i'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX236"></A>
<A NAME="IDX237"></A>


<P>
The <SAMP>`i'</SAMP> protocol was written by Ian Lance Taylor (who also wrote
this
manual).
It was first used by Taylor UUCP version 1.04.


<P>
It is a sliding window packet protocol, like the <SAMP>`g'</SAMP> protocol, but
it supports bidirectional transfers (i.e., file transfers in both
directions simultaneously).  It requires an eight bit clear connection.
Several ideas for the protocol were taken from the paper <CITE>A
High-Throughput Message Transport System</CITE> by P. Lauder.  I don't know
where the paper was published, but the author's e-mail address is
<CODE>piers@cs.su.oz.au</CODE>.  The <SAMP>`i'</SAMP> protocol does not adopt his
main idea, which is to dispense with windows entirely.  This is because
some links still do require flow control and, more importantly, because
using windows sets a limit to the amount of data which the protocol must
be able to resend upon request.  To reduce the costs of window
acknowledgements, the protocol uses a large window and only requires an
ack at the halfway point.


<P>
Each packet starts with a six byte header, optionally followed by data
bytes with a four byte checksum.  There are currently five defined
packet types (<SAMP>`DATA'</SAMP>, <SAMP>`SYNC'</SAMP>, <SAMP>`ACK'</SAMP>, <SAMP>`NAK'</SAMP>,
<SAMP>`SPOS'</SAMP>, <SAMP>`CLOSE'</SAMP>) which are described below.  Although any
packet type may include data, any data provided with an <SAMP>`ACK'</SAMP>,
<SAMP>`NAK'</SAMP> or <SAMP>`CLOSE'</SAMP> packet is ignored.


<P>
Every <SAMP>`DATA'</SAMP>, <SAMP>`SPOS'</SAMP> and <SAMP>`CLOSE'</SAMP> packet has a sequence
number.  The sequence numbers are independent for each side.  The first
packet sent by each side is always number 1.  Each packet is numbered
one greater than the previous packet, modulo 32.


<P>
Every packet has a local channel number and a remote channel number.
For all packets at least one channel number is zero.  When a UUCP
command is sent to the remote system, it is assigned a non-zero local
channel number.  All packets associated with that UUCP command sent by
the local system are given the selected local channel number.  All
associated packets sent by the remote system are given the selected
number as the remote channel number.  This permits each UUCP command
to be uniquely identified by the channel number on the originating
system, and therefore each UUCP package can associate all file data
and UUCP command responses with the appropriate command.  This is a
requirement for bidirectional UUCP transfers.


<P>
The protocol maintains a single global file position, which starts at 0.
For each incoming packet, any associated data is considered to occur at
the current file position, and the file position is incremented by the
amount of data contained.  The exception is a packet of type
<SAMP>`SPOS'</SAMP>, which is used to change the file position.  The reason for
keeping track of the file position is described below.


<P>
The header is as follows:


<DL COMPACT>

<DT><SAMP>`\007'</SAMP>
<DD>
Every packet begins with <KBD>^G</KBD>.

<DT><CODE>(<VAR>packet</VAR> &#60;&#60; 3) + <VAR>locchan</VAR></CODE>
<DD>
The five bit packet number combined with the three bit local channel
number.  <SAMP>`DATA'</SAMP>, <SAMP>`SPOS'</SAMP> and <SAMP>`CLOSE'</SAMP> packets use the
packet sequence number for the <VAR>packet</VAR> field.  <SAMP>`NAK'</SAMP> packet
types use the <VAR>packet</VAR> field for the sequence number to be resent.
<SAMP>`ACK'</SAMP> and <SAMP>`SYNC'</SAMP> do not use the <VAR>packet</VAR> field, and
generally leave it set to 0.  Packets which are not associated with a
UUCP command from the local system use a local channel number of 0.

<DT><CODE>(<VAR>ack</VAR> &#60;&#60; 3) + <VAR>remchan</VAR></CODE>
<DD>
The five bit packet acknowledgement combined with the three bit remote
channel number.  The packet acknowledgement is the number of the last
packet successfully received; it is used by all packet types.  Packets
which are not sent in response to a UUCP command from the remote system
use a remote channel number of 0.

<DT><CODE>(<VAR>type</VAR> &#60;&#60; 5) + (<VAR>caller</VAR> &#60;&#60; 4) + <VAR>len1</VAR></CODE>
<DD>
The three bit packet type combined with the one bit packet direction
combined with the upper four bits of the data length.  The packet
direction bit is always 1 for packets sent by the calling UUCP, and 0
for packets sent by the called UUCP.  This prevents confusion caused by
echoed packets.

<DT><VAR>len2</VAR>
<DD>
The lower eight bits of the data length.  The twelve bits of data length
permit packets ranging in size from 0 to 4095 bytes.

<DT><VAR>check</VAR>
<DD>
The exclusive or of the second through fifth bytes of the header.  This
provides an additional check that the header is valid.
</DL>

<P>
If the data length is non-zero, the packet is immediately followed by
the specified number of data bytes.  The data bytes are followed by a
four byte CRC 32 checksum, with the most significant byte first.  The
CRC is calculated over the contents of the data field.


<P>
The defined packet types are as follows:


<DL COMPACT>

<DT>0 <SAMP>`DATA'</SAMP>
<DD>
This is a plain data packet.

<DT>1 <SAMP>`SYNC'</SAMP>
<DD>
<SAMP>`SYNC'</SAMP> packets are exchanged when the protocol is initialized, and
are described further below.  <SAMP>`SYNC'</SAMP> packets do not carry sequence
numbers (that is, the <VAR>packet</VAR> field is ignored).

<DT>2 <SAMP>`ACK'</SAMP>
<DD>
This is an acknowledgement packet.  Since <SAMP>`DATA'</SAMP> packets also carry
packet acknowledgements, <SAMP>`ACK'</SAMP> packets are only used when one side
has no data to send.  <SAMP>`ACK'</SAMP> packets do not carry sequence numbers.

<DT>3 <SAMP>`NAK'</SAMP>
<DD>
This is a negative acknowledgement.  This is sent when a packet is
received incorrectly, and means that the packet number appearing in the
<VAR>packet</VAR> field must be resent.  <SAMP>`NAK'</SAMP> packets do not carry
sequence numbers (the <VAR>packet</VAR> field is already used).

<DT>4 <SAMP>`SPOS'</SAMP>
<DD>
This packet changes the file position.  The packet contains four bytes
of data holding the file position, most significant byte first.  The
next packet received will be considered to be at the named file
position.

<DT>5 <SAMP>`CLOSE'</SAMP>
<DD>
When the protocol is shut down, each side sends a <SAMP>`CLOSE'</SAMP> packet.
This packet does have a sequence number, which could be used to ensure
that all packets were correctly received (this is not needed by UUCP,
however, which uses the higher level <SAMP>`H'</SAMP> command with an <SAMP>`HY'</SAMP>
response).
</DL>

<P>
When the protocol starts up, both systems send a <SAMP>`SYNC'</SAMP> packet.
The <SAMP>`SYNC'</SAMP> packet includes at least three bytes of data.  The first
two bytes are the maximum packet size the remote system should send,
most significant byte first.  The third byte is the window size the
remote system should use.  The remote system may send packets of any
size up to the maximum.  If there is a fourth byte, it is the number of
channels the remote system may use (this must be between 1 and 7,
inclusive).  Additional data bytes may be defined in the future.


<P>
The window size is the number of packets that may be sent before a
packet is acknowledged.  There is no requirement that every packet be
acknowledged; any acknowledgement is considered to acknowledge all
packets through the number given.  In the current implementation, if one
side has no data to send, it sends an <SAMP>`ACK'</SAMP> when half the window is
received.


<P>
Note that the <SAMP>`NAK'</SAMP> packet corresponds to the unused <SAMP>`g'</SAMP>
protocol <SAMP>`SRJ'</SAMP> packet type, rather than to the <SAMP>`RJ'</SAMP> packet
type.  When a <SAMP>`NAK'</SAMP> is received, only the named packet should be
resent, not any subsequent packets.


<P>
Note that if both sides have data to send, but a packet is lost, it is
perfectly reasonable for one side to continue sending packets, all of
which will acknowledge the last packet correctly received, while the
system whose packet was lost will be unable to send a new packet because
the send window will be full.  In this circumstance, neither side will
time out and one side of the communication will be effectively shut down
for a while.  Therefore, any system with outstanding unacknowledged
packets should arrange to time out and resend a packet even if data is
being received.


<P>
Commands are sent as a sequence of data packets with a non-zero local
channel number.  The last data packet for a command includes a trailing
null byte (normally a command will fit in a single data packet).  Files
are sent as a sequence of data packets ending with one of length zero.


<P>
The channel numbers permit a more efficient implementation of the UUCP
file send command.  Rather than send the command and then wait for the
<SAMP>`SY'</SAMP> response before sending the file, the file data is sent
beginning immediately after the <SAMP>`S'</SAMP> command is sent.  If an
<SAMP>`SN'</SAMP> response is received, the file send is aborted, and a final
data packet of length zero is sent to indicate that the channel number
may be reused.  If an <SAMP>`SY'</SAMP> reponse with a file position indicator
is received, the file send adjusts to the file position; this is why the
protocol maintains a global file position.


<P>
Note that the use of channel numbers means that each UUCP system may
send commands and file data simultaneously.  Moreover, each UUCP system
may send multiple files at the same time, using the channel number to
disambiguate the data.  Sending a file before receiving an
acknowledgement for the previous file helps to eliminate the round trip
delays inherent in other UUCP protocols.




<H2><A NAME="SEC103" HREF="uucp.html#TOC103">UUCP <SAMP>`j'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX238"></A>
<A NAME="IDX239"></A>


<P>
The <SAMP>`j'</SAMP> protocol is a variant of the <SAMP>`i'</SAMP> protocol.  It was
also written by Ian Lance Taylor, and first appeared in Taylor UUCP
version 1.04.


<P>
The <SAMP>`j'</SAMP> protocol is a version of the <SAMP>`i'</SAMP> protocol designed for
communication links which intercept a few characters, such as XON or
XOFF.  It is not efficient to use it on a link which intercepts many
characters, such as a seven bit link.  The <SAMP>`j'</SAMP> protocol performs no
error correction or detection; that is presumed to be the responsibility
of the <SAMP>`i'</SAMP> protocol.


<P>
When the <SAMP>`j'</SAMP> protocol starts up, each system sends a printable
ASCII string indicating which characters it wants to avoid using.  The
string begins with the ASCII character <KBD>^</KBD> (octal 136) and ends with
the ASCII character <KBD>~</KBD> (octal 176).  After sending this string,
each system looks for the corresponding string from the remote system.
The strings are composed of escape sequences: <SAMP>`\ooo'</SAMP>, where
<SAMP>`o'</SAMP> is an octal digit.  For example, sending the string
<SAMP>`^\021\023~'</SAMP> means that the ASCII XON and XOFF characters should be
avoided.  The union of the characters described in both strings (the
string which is sent and the string which is received) is the set of
characters which must be avoided in this conversation.  Avoiding a
printable ASCII character (octal 040 to octal 176, inclusive) is not
permitted.


<P>
After the exchange of characters to avoid, the normal <SAMP>`i'</SAMP> protocol
start up is done, and the rest of the conversation uses the normal
<SAMP>`i'</SAMP> protocol.  However, each <SAMP>`i'</SAMP> protocol packet is wrapped to
become a <SAMP>`j'</SAMP> protocol packet.


<P>
Each <SAMP>`j'</SAMP> protocol packet consists of a seven byte header, followed
by data bytes, followed by index bytes, followed by a one byte trailer.
The packet header looks like this:


<DL COMPACT>

<DT><KBD>^</KBD>
<DD>
Every packet begins with the ASCII character <KBD>^</KBD>, octal 136.

<DT><VAR>high</VAR>
<DD>
<DT><VAR>low</VAR>
<DD>
These two characters give the total number of bytes in the packet.  Both
<VAR>high</VAR> and <VAR>low</VAR> are printable ASCII characters.  The length of
the packet is <CODE>(<VAR>high</VAR> - 040) * 0100 + (<VAR>low</VAR> - 040)</CODE>,
where <CODE>040 &#60;= <VAR>high</VAR> &#60; 0177</CODE> and <CODE>040 &#60;= <VAR>low</VAR> &#60;
0140</CODE>.  This permits a length of 6079 bytes, but there is a further
restriction on packet size described below.

<DT><KBD>=</KBD>
<DD>
The ASCII character <KBD>=</KBD>, octal 075.

<DT><VAR>data-high</VAR>
<DD>
<DT><VAR>data-low</VAR>
<DD>
These two characters give the total number of data bytes in the packet.
The encoding is as described for <VAR>high</VAR> and <VAR>low</VAR>.  The number
of data bytes is the size of the <SAMP>`i'</SAMP> protocol packet wrapped inside
this <SAMP>`j'</SAMP> protocol packet.

<DT><KBD>@</KBD>
<DD>
The ASCII character <KBD>@</KBD>, octal 100.
</DL>

<P>
The header is followed by the number of data bytes given in
<VAR>data-high</VAR> and <VAR>data-low</VAR>.  These data bytes are the <SAMP>`i'</SAMP>
protocol packet which is being wrapped in the <SAMP>`j'</SAMP> protocol packet.
However, each character in the <SAMP>`i'</SAMP> protocol packet which the
<SAMP>`j'</SAMP> protocol must avoid is transformed into a printable ASCII
character (recall that avoiding a printable ASCII character is not
permitted).  Two index bytes are used for each character which must be
transformed.


<P>
The index bytes immediately follow the data bytes.  The index bytes are
created in pairs.  Each pair of index bytes encodes the location of a
character in the <SAMP>`i'</SAMP> protocol packet which was transformed to
become a printable ASCII character.  Each pair of index bytes also
encodes the precise transformation which was performed.


<P>
When the sender finds a character which must be avoided, it will
transform it using one or two operations.  If the character is 0200 or
greater, it will subtract 0200.  If the resulting character is less than
020, or is equal to 0177, it will xor by 020.  The result is a printable
ASCII character.


<P>
The zero based byte index of the character within the <SAMP>`i'</SAMP> protocol
packet is determined.  This index is turned into a two byte printable
ASCII index, <VAR>index-high</VAR> and <VAR>index-low</VAR>, such that the index
is <CODE>(<VAR>index-high</VAR> - 040) * 040 + (<VAR>index-low</VAR> - 040)</CODE>.
<VAR>index-low</VAR> is restricted such that <CODE>040 &#60;= <VAR>index-low</VAR> &#60;
0100</CODE>.  <VAR>index-high</VAR> is not permitted to be 0176, so <CODE>040 &#60;=
<VAR>index-high</VAR> &#60; 0176</CODE>.  <VAR>index-low</VAR> is then modified to encode
the transformation:



<UL>
<LI>If the character transformation only had to subtract 0200, then

<VAR>index-low</VAR> is used as is.

<LI>If the character transformation only had to xor by 020, then 040

is added to <VAR>index-low</VAR>.

<LI>If both operations had to be performed, then 0100 is added to

<VAR>index-low</VAR>.  However, if the value of <VAR>index-low</VAR> was initially
077, then adding 0100 would result in 0177, which is not a printable
ASCII character.  For that special case, <VAR>index-high</VAR> is set to
0176, and <VAR>index-low</VAR> is set to the original value of
<VAR>index-high</VAR>.
</UL>

<P>
The receiver decodes the index bytes as follows (this is the reverse of
the operations performed by the sender, presented here for additional
clarity):



<UL>
<LI>The first byte in the index is <VAR>index-high</VAR>, and the second is

<VAR>index-low</VAR>.

<LI>If <CODE>040 &#60;= <VAR>index-high</VAR> &#60; 0176</CODE>, the index refers to the

data byte at position <CODE>(<VAR>index-high</VAR> - 040) * 040 +
<VAR>index-low</VAR> % 040</CODE>.

<LI>If <CODE>040 &#60;= <VAR>index-low</VAR> &#60; 0100</CODE>, then 0200 must be added

to indexed byte.

<LI>If <CODE>0100 &#60;= <VAR>index-low</VAR> &#60; 0140</CODE>, then 020 must be xor'ed

to the indexed byte.

<LI>If <CODE>0140 &#60;= <VAR>index-low</VAR> &#60; 0177</CODE>, then 0200 must be added

to the indexed byte, and 020 must be xor'ed to the indexed byte.

<LI>If <CODE><VAR>index-high</VAR> == 0176</CODE>, the index refers to the data

byte at position <CODE>(<VAR>index-low</VAR> - 040) * 040 + 037</CODE>.  0200 must
be added to the indexed byte, and 020 must be xor'ed to the indexed
byte.
</UL>

<P>
This means the largest <SAMP>`i'</SAMP> protocol packet which may be wrapped
inside a <SAMP>`j'</SAMP> protocol packet is <CODE>(0175 - 040) * 040 + (077 -
040) == 3007</CODE> bytes.


<P>
The final character in a <SAMP>`j'</SAMP> protocol packet, following the index
bytes, is the ASCII character <KBD>~</KBD> (octal 176).


<P>
The motivation behind using an indexing scheme, rather than escape
characters, is to avoid data movement.  The sender may simply add a
header and a trailer to the <SAMP>`i'</SAMP> protocol packet.  Once the receiver
has loaded the <SAMP>`j'</SAMP> protocol packet, it may scan the index bytes,
transforming the data bytes, and then pass the data bytes directly on to
the <SAMP>`i'</SAMP> protocol routine.




<H2><A NAME="SEC104" HREF="uucp.html#TOC104">UUCP <SAMP>`x'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX240"></A>
<A NAME="IDX241"></A>


<P>
The <SAMP>`x'</SAMP> protocol is used in Europe (and probably elsewhere) with
machines that contain an builtin X.25 card and can send eight bit data
transparently across X.25 circuits, without interference from the X.28
or X.29 layers.  The protocol sends packets of 512 bytes, and relies on
a write of zero bytes being read as zero bytes without stopping
communication.  It first appeared in the original System V UUCP
implementation.




<H2><A NAME="SEC105" HREF="uucp.html#TOC105">UUCP <SAMP>`y'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX242"></A>
<A NAME="IDX243"></A>


<P>
The <SAMP>`y'</SAMP> protocol was developed by Jorge Cwik for use in FX UUCICO,
a PC uucico program.  It is designed for communication lines which
handle error correction and flow control.  It requires an eight bit
clean connection.  It performs error detection, but not error
correction: when an error is detected, the line is dropped.  It is a
streaming protocol, like the <SAMP>`f'</SAMP> protocol; there are no packet
acknowledgements, so the protocol is efficient over a half-duplex
communication line such as PEP.


<P>
Every packet contains a six byte header:


<DL COMPACT>

<DT>sequence low byte
<DD>
<DT>sequence high byte
<DD>
A two byte sequence number, in little endian order.  The first sequence
number is 0.  Since the first packet is always a sync packet (described
below) the sequence number of the first data packet is always 1.  Each
system counts sequence numbers independently.

<DT>length low byte
<DD>
<DT>length high byte
<DD>
A two byte data length, in little endian order.  If the high bit of the
sixteen bit field is clear, this is the number of data bytes which
follow the six byte header.  If the high bit is set, there is no data,
and the length field is a type of control packet.

<DT>checksum low byte
<DD>
<DT>checksum high byte
<DD>
A two byte checksum, in little endian order.  The checksum is computed
over the data bytes.  The checksum algorithm is described below.  If
there are no data bytes, the checksum is sent as 0.
</DL>

<P>
When the protocol starts up, each side must send a sync packet.  This is
a packet with a normal six byte header followed by data.  The sequence
number of the sync packet should be 0.  Currently at least four bytes of
data must be sent with the sync packet.  Additional bytes should be
ignored.  They are defined as follows:


<DL COMPACT>

<DT>version
<DD>
The version number of the protocol.  Currently this must be 1.  Larger
numbers should be ignored; it is the responsibility of the newer version
to accommodate the older one.

<DT>packet size
<DD>
The maximum data length to use divided by 256.  This is sent as a single
byte.  The maximum data length permitted is 32768, which would be sent
as 128.  Customarily both systems will use the same maximum data length,
the lower of the two requested.

<DT>flags low byte
<DD>
<DT>flags high byte
<DD>
Two bytes of flags.  None are currently defined.  These bytes should be
sent as 0, and ignored by the receiver.
</DL>

<P>
A length field with the high bit set is a control packet.  The
following control packet types are defined:


<DL COMPACT>

<DT>0xfffe <SAMP>`YPKT_ACK'</SAMP>
<DD>
Acknowledges correct receipt of a file.

<DT>0xfffd <SAMP>`YPKT_ERR'</SAMP>
<DD>
Indicates an incorrect checksum.

<DT>0xfffc <SAMP>`YPKT_BAD'</SAMP>
<DD>
Indicates a bad sequence number, an invalid length, or some other error.
</DL>

<P>
If a control packet other than <SAMP>`YPKT_ACK'</SAMP> is received, the
connection is dropped.  If a checksum error is detected for a received
packet, a <SAMP>`YPKT_ERR'</SAMP> control packet is sent, and the connection is
dropped.  If a packet is received out of sequence, a <SAMP>`YPKT_BAD'</SAMP>
control packet is sent, and the connection is dropped.


<P>
The checksum is initialized to 0xffff.  For each data byte in a packet
it is modified as follows (where <VAR>b</VAR> is the byte before it has been
transformed as described above):



<PRE>
      /* Rotate the checksum left.  */
      if ((ichk &#38; 0x8000) == 0)
        ichk &#60;&#60;= 1;
      else
        {
          ichk &#60;&#60;= 1;
          ++ichk;
        }

      /* Add the next byte into the checksum.  */
      ichk += <VAR>b</VAR>;
</PRE>

<P>
This is the same algorithm as that used by the <SAMP>`f'</SAMP> protocol.


<P>
A command is sent as a sequence of data packets followed by a null byte.
In the normal case, a command will fit into a single packet.  The packet
should be exactly the length of the command plus a null byte.  If the
command is too long, more packets are sent as required.


<P>
A file is sent as a sequence of data packets, ending with a zero length
packet.  The data packets may be of any length greater than zero and
less than or equal to the maximum permitted packet size specified in the
initial sync packet.


<P>
After the zero length packet ending a file transfer has been received,
the receiving system sends a <SAMP>`YPKT_ACK'</SAMP> control packet.  The
sending system waits for the <SAMP>`YPKT_ACK'</SAMP> control packet before
continuing; this wait should be done with a large timeout, since there
may be a considerable amount of data buffered on the communication path.




<H2><A NAME="SEC106" HREF="uucp.html#TOC106">UUCP <SAMP>`d'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX244"></A>
<A NAME="IDX245"></A>


<P>
The <SAMP>`d'</SAMP> protocol is apparently used for DataKit muxhost (not
RS-232) connections.  No file size is sent.  When a file has been
completely transferred, a write of zero bytes is done; this must be read
as zero bytes on the other end.




<H2><A NAME="SEC107" HREF="uucp.html#TOC107">UUCP <SAMP>`h'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX246"></A>
<A NAME="IDX247"></A>


<P>
The <SAMP>`h'</SAMP> protocol is apparently used in some places with HST modems.
It does no error checking, and is not that different from the <SAMP>`t'</SAMP>
protocol.  I don't know the details.




<H2><A NAME="SEC108" HREF="uucp.html#TOC108">UUCP <SAMP>`v'</SAMP> Protocol</A></H2>
<P>
<A NAME="IDX248"></A>
<A NAME="IDX249"></A>


<P>
The <SAMP>`v'</SAMP> protocol is used by UUPC/extended, a PC UUCP program.  It
is simply a version of the <SAMP>`g'</SAMP> protocol which supports packets of
any size, and also supports sending packets of different sizes during
the same conversation.  There are many <SAMP>`g'</SAMP> protocol implementations
which support both, but there are also many which do not.  Using
<SAMP>`v'</SAMP> ensures that everything is supported.




<H1><A NAME="SEC109" HREF="uucp.html#TOC109">Hacking Taylor UUCP</A></H1>

<P>
This chapter provides the briefest of guides to the Taylor UUCP source
code itself.




<H2><A NAME="SEC110" HREF="uucp.html#TOC110">System Dependence</A></H2>

<P>
The code is carefully segregated into a system independent portion and a
system dependent portion.  The system dependent code is in the
<TT>`unix'</TT> subdirectory, and also in the file <TT>`sysh.unx'</TT> (also
known as <TT>`sysdep.h'</TT>).


<P>
With the right configuration parameters, the system independent code
calls only ANSI C functions.  Some of the less common ANSI C functions
are also provided in the <TT>`lib'</TT> directory.  The replacement function
<CODE>strtol</CODE> in <TT>`lib/strtol.c'</TT> assumes that the characters <KBD>A</KBD>
to <KBD>F</KBD> and <KBD>a</KBD> to <KBD>f</KBD> appear in strictly sequential order.
The function <CODE>igradecmp</CODE> in <TT>`uuconf/grdcmp.c'</TT> assumes that the
upper and lower case letters appear in order.  Both assumptions are true
for ASCII and EBCDIC, but neither is guaranteed by ANSI C.  Disregarding
these caveats, I believe that the system independent portion of the code
is strictly conforming.


<P>
That's not too exciting, since all the work is done in the system
dependent code.  I think that this code can conform to POSIX 1003.1,
given the right compilation parameters.  I'm a bit less certain about
this, though.


<P>
The code has been used on a 16 bit segmented system with no function
prototypes, so I'm fairly certain that all casts to long and pointers
are done when necessary.




<H2><A NAME="SEC111" HREF="uucp.html#TOC111">Naming Conventions</A></H2>

<P>
I use a modified Hungarian naming convention for my variables and
functions.  As with all naming conventions, the code is rather opaque if
you are not familiar with it, but becomes clear and easy to use with
time.


<P>
The first character indicates the type of the variable (or function
return value).  Sometimes additional characters are used.  I use the
following type prefixes:


<DL COMPACT>

<DT><SAMP>`a'</SAMP>
<DD>
array; the next character is the type of an element
<DT><SAMP>`b'</SAMP>
<DD>
byte or character
<DT><SAMP>`c'</SAMP>
<DD>
count of something
<DT><SAMP>`e'</SAMP>
<DD>
stdio FILE *
<DT><SAMP>`f'</SAMP>
<DD>
boolean
<DT><SAMP>`i'</SAMP>
<DD>
generic integer
<DT><SAMP>`l'</SAMP>
<DD>
double
<DT><SAMP>`o'</SAMP>
<DD>
file descriptor (as returned by open, creat, etc.)
<DT><SAMP>`p'</SAMP>
<DD>
generic pointer
<DT><SAMP>`q'</SAMP>
<DD>
pointer to structure
<DT><SAMP>`s'</SAMP>
<DD>
structure
<DT><SAMP>`u'</SAMP>
<DD>
void (function return values only)
<DT><SAMP>`z'</SAMP>
<DD>
character string
</DL>

<P>
A generic pointer (<CODE>p</CODE>) is sometimes a <CODE>void *</CODE>, sometimes a
function pointer in which case the prefix is pf, and sometimes a pointer
to another type, in which case the next character is the type to which
it points (pf is overloaded).


<P>
An array of strings (<CODE>char *[]</CODE>) would be named <CODE>az</CODE> (array of
string).  If this array were passed to a function, the function
parameter would be named <CODE>paz</CODE> (pointer to array of string).


<P>
Note that the variable name prefixes do not necessarily indicate the
type of the variable.  For example, a variable prefixed with <KBD>i</KBD> may
be int, long or short.  Similarly, a variable prefixed with <KBD>b</KBD> may
be a char or an int; for example, the return value of <CODE>getchar</CODE>
would be caught in an int variable prefixed with <KBD>b</KBD>.


<P>
For a non-local variable (extern or file static), the first character
after the type prefix is capitalized.


<P>
Most static variables and functions use another letter after the type
prefix to indicate which module they come from.  This is to help
distinguish different names in the debugger.  For example, all static
functions in <TT>`protg.c'</TT>, the <SAMP>`g'</SAMP> protocol source code, use a
module prefix of <SAMP>`g'</SAMP>.  This isn't too useful, as a number of
modules use a module prefix of <SAMP>`s'</SAMP>.




<H2><A NAME="SEC112" HREF="uucp.html#TOC112">Patches</A></H2>

<P>
I am always grateful for any patches sent in.  Much of the flexibility
and portability of the code is due to other people.  Please do not
hesitate to send me any changes you have found necessary or useful.


<P>
When sending a patch, please send the output of the Unix <CODE>diff</CODE>
program invoked with the <SAMP>`-c'</SAMP> option (if you have the GNU version
of <CODE>diff</CODE>, use the <SAMP>`-p'</SAMP> option).  Always invoke <CODE>diff</CODE>
with the original file first and the modified file second.


<P>
If your <CODE>diff</CODE> does not support <SAMP>`-c'</SAMP> (or you don't have
<CODE>diff</CODE>), send a complete copy of the modified file (if you have
just changed a single function, you can just send the new version of the
function).  In particular, please do not send <CODE>diff</CODE> output without
the <SAMP>`-c'</SAMP> option, as it is useless.


<P>
If you have made a number of changes, it is very convenient for me if
you send each change as a separate mail message.  Sometimes I will think
that one change is useful but another one is not.  If they are in
different messages it is much easier for me to apply one but not the
other.


<P>
I rarely apply the patches directly.  Instead I work my way through the
hunks and apply each one separately.  This ensures that the naming
remains consistent, and that I understand all the code.


<P>
If you can not follow all these rules, then don't.  But if you do, it
makes it more likely that I will incorporate your changes.  I am not
paid for my UUCP work, and my available time is unfortunately very
restricted.  The package is important to me, and I do what I can, but I
can not do all that I would like, much less all that everybody else
would like.


<P>
Finally, please do not be offended if I do not reply to messages for
some time, even a few weeks.  I am often behind on my mail, and if I
think your message deserves a considered reply I will often put it aside
until I have time to deal with it.




<H1><A NAME="SEC113" HREF="uucp.html#TOC113">Acknowledgements</A></H1>

<P>
This is a list of people who gave help or suggestions while I was
working on the Taylor UUCP project.  Appearance on this list does not
constitute endorsement of the program, particularly since some of the
comments were criticisms.  I've probably left some people off, and I
apologize for any oversight; it does not mean your contribution was
unappreciated.


<P>
First of all, I would like to thank the people at Infinity Development
Systems (formerly AIRS, which lives on in the domain name) for
permitting me to use their computers and <TT>`uunet'</TT> access.  I would
also like to thank Richard Stallman <CODE>&#60;rms@gnu.ai.mit.edu&#62;</CODE> for
founding the Free Software Foundation, and John Gilmore
<CODE>&#60;gnu@cygnus.com&#62;</CODE> for writing the initial version of gnuucp which
was a direct inspiration for this somewhat larger project.  Chip
Salzenberg <CODE>&#60;chip@tct.com&#62;</CODE> has contributed many patches.
Pinard <CODE>&#60;pinard@iro.umontreal.ca&#62;</CODE> tirelessly tested the code and
suggested many improvements.  He also put together the initial version
of this manual.  Doug Evans contributed the zmodem protocol.  Marc
Boucher <CODE>&#60;marc@CAM.ORG&#62;</CODE> contributed the code supporting the pipe
port type.  Jorge Cwik <CODE>jorge@laser.satlink.net</CODE> contributed the
<SAMP>`y'</SAMP> protocol code.  Finally, Verbus M. Counts
<CODE>&#60;verbus@westmark.com&#62;</CODE> and Centel Federal Systems, Inc., deserve
special thanks, since they actually paid me money to port this code to
System III.


<P>
In alphabetical order:



<PRE>
"Earle F. Ake - SAIC" <CODE>&#60;ake@Dayton.SAIC.COM&#62;</CODE>
<CODE>mra@searchtech.com</CODE> (Michael Almond)
<CODE>cambler@zeus.calpoly.edu</CODE> (Christopher J. Ambler)
Brian W. Antoine <CODE>&#60;briana@tau-ceti.isc-br.com&#62;</CODE>
<CODE>jantypas@soft21.s21.com</CODE> (John Antypas)
<CODE>james@bigtex.cactus.org</CODE> (James Van Artsdalen)
<CODE>jima@netcom.com</CODE> (Jim Avera)
<CODE>nba@sysware.DK</CODE> (Niels Baggesen)
<CODE>uunet!hotmomma!sdb</CODE> (Scott Ballantyne)
Zacharias Beckman <CODE>&#60;zac@dolphin.com&#62;</CODE>
<CODE>mike@mbsun.ann-arbor.mi.us</CODE> (Mike Bernson)
<CODE>bob@usixth.sublink.org</CODE> (Roberto Biancardi)
<CODE>statsci!scott@coco.ms.washington.edu</CODE> (Scott Blachowicz)
<CODE>bag%wood2.cs.kiev.ua@relay.ussr.eu.net</CODE> (Andrey G Blochintsev)
<CODE>spider@Orb.Nashua.NH.US</CODE> (Spider Boardman)
Gregory Bond <CODE>&#60;gnb@bby.com.au&#62;</CODE>
Marc Boucher <CODE>&#60;marc@CAM.ORG&#62;</CODE>
Ard van Breemen <CODE>&#60;ard@cstmel.hobby.nl&#62;</CODE>
<CODE>dean@coplex.com</CODE> (Dean Brooks)
<CODE>jbrow@radical.com</CODE> (Jim Brownfield)
<CODE>dave@dlb.com</CODE> (Dave Buck)
<CODE>gordon@sneaky.lonestar.org</CODE> (Gordon Burditt)
<CODE>dburr@sbphy.physics.ucsb.edu</CODE> (Donald Burr)
<CODE>mib@gnu.ai.mit.edu</CODE> (Michael I Bushnell)
Brian Campbell <CODE>&#60;brianc@quantum.on.ca&#62;</CODE>
Andrew A. Chernov <CODE>&#60;ache@astral.msk.su&#62;</CODE>
<CODE>jhc@iscp.bellcore.com</CODE> (Jonathan Clark)
<CODE>mafc!frank@bach.helios.de</CODE> (Frank Conrad)
Ed Carp <CODE>&#60;erc@apple.com&#62;</CODE>
<CODE>mpc@mbs.linet.org</CODE> (Mark Clements)
<CODE>verbus@westmark.westmark.com</CODE> (Verbus M. Counts)
<CODE>cbmvax!snark.thyrsus.com!cowan</CODE> (John Cowan)
Bob Cunningham <CODE>&#60;bob@soest.hawaii.edu&#62;</CODE>
<CODE>jorge@laser.satlink.net</CODE> (Jorge Cwik)
<CODE>kdburg@incoahe.hanse.de</CODE> (Klaus Dahlenburg)
Damon <CODE>&#60;d@exnet.co.uk&#62;</CODE>
<CODE>celit!billd@UCSD.EDU</CODE> (Bill Davidson)
<CODE>hubert@arakis.fdn.org</CODE> (Hubert Delahaye)
<CODE>markd@bushwire.apana.org.au</CODE> (Mark Delany)
Allen Delaney <CODE>&#60;allen@brc.ubc.ca&#62;</CODE>
Gerriet M. Denkmann <CODE>gerriet@hazel.north.de</CODE>
<CODE>denny@dakota.alisa.com</CODE> (Bob Denny)
Drew Derbyshire <CODE>&#60;ahd@kew.com&#62;</CODE>
<CODE>ssd@nevets.oau.org</CODE> (Steven S. Dick)
<CODE>gert@greenie.gold.sub.org</CODE> (Gert Doering)
<CODE>gemini@geminix.in-berlin.de</CODE> (Uwe Doering)
Hans-Dieter Doll <CODE>&#60;hd2@Insel.DE&#62;</CODE>
<CODE>deane@deane.teleride.on.ca</CODE> (Dean Edmonds)
Mark W. Eichin <CODE>&#60;eichin@cygnus.com&#62;</CODE>
<CODE>erik@pdnfido.fidonet.org</CODE>
Andrew Evans <CODE>&#60;andrew@airs.com&#62;</CODE>
<CODE>dje@cygnus.com</CODE> (Doug Evans)
Marc Evans <CODE>&#60;marc@synergytics.com&#62;</CODE>
Dan Everhart <CODE>&#60;dan@dyndata.com&#62;</CODE>
<CODE>kksys!kegworks!lfahnoe@cs.umn.edu</CODE> (Larry Fahnoe)
Matthew Farwell <CODE>&#60;dylan@ibmpcug.co.uk&#62;</CODE>
<CODE>fenner@jazz.psu.edu</CODE> (Bill Fenner)
<CODE>jaf@inference.com</CODE> (Jose A. Fernandez)
"David J. Fiander" <CODE>&#60;golem!david@news.lsuc.on.ca&#62;</CODE>
Thomas Fischer <CODE>&#60;batman@olorin.dark.sub.org&#62;</CODE>
Mister Flash <CODE>&#60;flash@sam.imash.ras.ru&#62;</CODE>
<CODE>louis@marco.de</CODE> (Ju"rgen Fluk)
<CODE>erik@eab.retix.com</CODE> (Erik Forsberg)
<CODE>andy@scp.caltech.edu</CODE> (Andy Fyfe)
Lele Gaifax <CODE>&#60;piggy@idea.sublink.org&#62;</CODE>
<CODE>Peter.Galbavy@micromuse.co.uk</CODE>
<CODE>hunter@phoenix.pub.uu.oz.au</CODE> (James Gardiner [hunter])
Terry Gardner <CODE>&#60;cphpcom!tjg01&#62;</CODE>
<CODE>dgilbert@gamiga.guelphnet.dweomer.org</CODE> (David Gilbert)
<CODE>ol@infopro.spb.su</CODE> (Oleg Girko)
<CODE>jimmy@tokyo07.info.com</CODE> (Jim Gottlieb)
Benoit Grange <CODE>&#60;ben@fizz.fdn.org&#62;</CODE>
<CODE>elg@elgamy.jpunix.com</CODE> (Eric Lee Green)
<CODE>ryan@cs.umb.edu</CODE> (Daniel R. Guilderson)
<CODE>greg@gagme.chi.il.us</CODE> (Gregory Gulik)
Richard H. Gumpertz <CODE>&#60;rhg@cps.com&#62;</CODE>
Scott Guthridge <CODE>&#60;scooter@cube.rain.com&#62;</CODE>
Michael Haberler <CODE>&#60;mah@parrot.prv.univie.ac.at&#62;</CODE>
Daniel Hagerty <CODE>&#60;hag@eddie.mit.edu&#62;</CODE>
<CODE>jh@moon.nbn.com</CODE> (John Harkin)
<CODE>guy@auspex.auspex.com</CODE> (Guy Harris)
<CODE>hsw1@papa.attmail.com</CODE> (Stephen Harris)
Petri Helenius <CODE>&#60;pete@fidata.fi&#62;</CODE>
<CODE>gabe@edi.com</CODE> (B. Gabriel Helou)
Bob Hemedinger <CODE>&#60;bob@dalek.mwc.com&#62;</CODE>
Andrew Herbert <CODE>&#60;andrew@werple.pub.uu.oz.au&#62;</CODE>
<CODE>kherron@ms.uky.edu</CODE> (Kenneth Herron)
Peter Honeyman <CODE>&#60;honey@citi.umich.edu&#62;</CODE>
<CODE>jhood@smoke.marlboro.vt.us</CODE> (John Hood)
Mike Ipatow <CODE>&#60;mip@fido.itc.e-burg.su&#62;</CODE>
Bill Irwin <CODE>&#60;bill@twg.bc.ca&#62;</CODE>
<CODE>pmcgw!personal-media.co.jp!ishikawa</CODE> (Chiaki Ishikawa)
<CODE>ai@easy.in-chemnitz.de</CODE> (Andreas Israel)
<CODE>iverson@lionheart.com</CODE> (Tim Iverson)
<CODE>bei@dogface.austin.tx.us</CODE> (Bob Izenberg)
<CODE>djamiga!djjames@fsd.com</CODE> (D.J.James)
Rob Janssen <CODE>&#60;cmgit!rob@relay.nluug.nl&#62;</CODE>
<CODE>harvee!esj</CODE> (Eric S Johansson)
Kevin Johnson <CODE>&#60;kjj@pondscum.phx.mcd.mot.com&#62;</CODE>
<CODE>rj@rainbow.in-berlin.de</CODE> (Robert Joop)
Alan Judge <CODE>&#60;aj@dec4ie.IEunet.ie&#62;</CODE>
<CODE>chris@cj_net.in-berlin.de</CODE> (Christof Junge)
Romain Kang <CODE>&#60;romain@pyramid.com&#62;</CODE>
<CODE>tron@Veritas.COM</CODE> (Ronald S. Karr)
Brendan Kehoe <CODE>&#60;brendan@cs.widener.edu&#62;</CODE>
<CODE>warlock@csuchico.edu</CODE> (John Kennedy)
<CODE>kersing@nlmug.nl.mugnet.org</CODE> (Jac Kersing)
<CODE>ok@daveg.PFM-Mainz.de</CODE> (Olaf Kirch)
Gabor Kiss <CODE>&#60;kissg@sztaki.hu&#62;</CODE>
<CODE>gero@gkminix.han.de</CODE> (Gero Kuhlmann)
<CODE>rob@pact.nl</CODE> (Rob Kurver)
"C.A. Lademann" <CODE>&#60;cal@zls.gtn.com&#62;</CODE>
<CODE>kent@sparky.IMD.Sterling.COM</CODE> (Kent Landfield)
Tin Le <CODE>&#60;tin@saigon.com&#62;</CODE>
<CODE>lebaron@inrs-telecom.uquebec.ca</CODE>  (Gregory LeBaron)
<CODE>karl@sugar.NeoSoft.Com</CODE> (Karl Lehenbauer)
<CODE>alex@hal.rhein-main.de</CODE> (Alexander Lehmann)
<CODE>merlyn@digibd.com</CODE> (Merlyn LeRoy)
<CODE>clewis@ferret.ocunix.on.ca</CODE> (Chris Lewis)
<CODE>gdonl@ssi1.com</CODE> (Don Lewis)
<CODE>libove@libove.det.dec.com</CODE> (Jay Vassos-Libove)
<CODE>bruce%blilly@Broadcast.Sony.COM</CODE> (Bruce Lilly)
Godfrey van der Linden <CODE>&#60;Godfrey_van_der_Linden@NeXT.COM&#62;</CODE>
Ted Lindgreen <CODE>&#60;tlindgreen@encore.nl&#62;</CODE>
<CODE>andrew@cubetech.com</CODE> (Andrew Loewenstern)
"Arne Ludwig" <CODE>&#60;arne@rrzbu.hanse.de&#62;</CODE>
Matthew Lyle <CODE>&#60;matt@mips.mitek.com&#62;</CODE>
<CODE>djm@eng.umd.edu</CODE> (David J. MacKenzie)
John R MacMillan <CODE>&#60;chance!john@sq.sq.com&#62;</CODE>
<CODE>jum@helios.de</CODE> (Jens-Uwe Mager)
Giles D Malet <CODE>&#60;shrdlu!gdm@provar.kwnet.on.ca&#62;</CODE>
<CODE>mem@mv.MV.COM</CODE> (Mark E. Mallett)
<CODE>pepe@dit.upm.es</CODE> (Jose A. Manas)
<CODE>peter@xpoint.ruessel.sub.org</CODE> (Peter Mandrella)
<CODE>martelli@cadlab.sublink.org</CODE> (Alex Martelli)
W Christopher Martin <CODE>&#60;wcm@geek.ca.geac.com&#62;</CODE>
Yanek Martinson <CODE>&#60;yanek@mthvax.cs.miami.edu&#62;</CODE>
<CODE>thomasm@mechti.wupper.de</CODE> (Thomas Mechtersheimer)
<CODE>jm@aristote.univ-paris8.fr</CODE> (Jean Mehat)
<CODE>me@halfab.freiburg.sub.org</CODE> (Udo Meyer)
<CODE>les@chinet.chi.il.us</CODE> (Leslie Mikesell)
<CODE>bug@cyberdex.cuug.ab.ca</CODE> (Trever Miller)
<CODE>mmitchel@digi.lonestar.org</CODE> (Mitch Mitchell)
Emmanuel Mogenet <CODE>&#60;mgix@krainte.jpn.thomson-di.fr&#62;</CODE>
<CODE>rmohr@infoac.rmi.de</CODE> (Rupert Mohr)
Jason Molenda <CODE>&#60;molenda@sequent.com&#62;</CODE>
<CODE>ianm@icsbelf.co.uk</CODE> (Ian Moran)
<CODE>jmorriso@bogomips.ee.ubc.ca</CODE> (John Paul Morrison)
<CODE>brian@ilinx.wimsey.bc.ca</CODE> (Brian J. Murrell)
<CODE>service@infohh.rmi.de</CODE> (Dirk Musstopf)
<CODE>lyndon@cs.athabascau.ca</CODE> (Lyndon Nerenberg)
<CODE>rolf@saans.north.de</CODE> (Rolf Nerstheimer)
<CODE>tom@smart.bo.open.de</CODE> (Thomas Neumann)
<CODE>mnichols@pacesetter.com</CODE>
Richard E. Nickle <CODE>&#60;trystro!rick@Think.COM&#62;</CODE>
<CODE>stephan@sunlab.ka.sub.org</CODE> (Stephan Niemz)
<CODE>nolan@helios.unl.edu</CODE> (Michael Nolan)
david nugent <CODE>&#60;david@csource.oz.au&#62;</CODE>
Jim O'Connor <CODE>&#60;jim@bahamut.fsc.com&#62;</CODE>
<CODE>kevin%kosman.uucp@nrc.com</CODE> (Kevin O'Gorman)
Petri Ojala <CODE>&#60;ojala@funet.fi&#62;</CODE>
<CODE>oneill@cs.ulowell.edu</CODE> (Brian 'Doc' O'Neill)
<CODE>Stephen.Page@prg.oxford.ac.uk</CODE>
<CODE>abekas!dragoman!mikep@decwrl.dec.com</CODE> (Mike Park)
Tim Peiffer <CODE>peiffer@cs.umn.edu</CODE>
<CODE>don@blkhole.resun.com</CODE> (Don Phillips)
"Mark Pizzolato 415-369-9366" <CODE>&#60;mark@infocomm.com&#62;</CODE>
John Plate <CODE>&#60;plate@infotek.dk&#62;</CODE>
<CODE>dplatt@ntg.com</CODE> (Dave Platt)
<CODE>eldorado@tharr.UUCP</CODE> (Mark Powell)
Mark Powell <CODE>&#60;mark@inet-uk.co.uk&#62;</CODE>
<CODE>pozar@kumr.lns.com</CODE> (Tim Pozar)
<CODE>joey@tessi.UUCP</CODE> (Joey Pruett)
Paul Pryor <CODE>ptp@fallschurch-acirs2.army.mil</CODE>
<CODE>putsch@uicc.com</CODE> (Jeff Putsch)
<CODE>ar@nvmr.robin.de</CODE> (Andreas Raab)
Jarmo Raiha <CODE>&#60;jarmo@ksvltd.FI&#62;</CODE>
James Revell <CODE>&#60;revell@uunet.uu.net&#62;</CODE>
Scott Reynolds <CODE>&#60;scott@clmqt.marquette.Mi.US&#62;</CODE>
<CODE>mcr@Sandelman.OCUnix.On.Ca</CODE> (Michael Richardson)
Kenji Rikitake <CODE>&#60;kenji@rcac.astem.or.jp&#62;</CODE>
<CODE>arnold@cc.gatech.edu</CODE> (Arnold Robbins)
<CODE>steve@Nyongwa.cam.org</CODE> (Steve M. Robbins)
Ollivier Robert <CODE>&#60;Ollivier.Robert@keltia.frmug.fr.net&#62;</CODE>
Serge Robyns <CODE>&#60;sr@denkart.be&#62;</CODE>
Lawrence E. Rosenman <CODE>&#60;ler@lerami.lerctr.org&#62;</CODE>
Jeff Ross <CODE>&#60;jeff@wisdom.bubble.org&#62;</CODE>
Aleksey P. Rudnev <CODE>&#60;alex@kiae.su&#62;</CODE>
"Heiko W.Rupp" <CODE>&#60;hwr@pilhuhn.ka.sub.org&#62;</CODE>
<CODE>wolfgang@wsrcc.com</CODE> (Wolfgang S. Rupprecht)
<CODE>tbr@tfic.bc.ca</CODE> (Tom Rushworth)
<CODE>jsacco@ssl.com</CODE> (Joseph E. Sacco)
<CODE>rsalz@bbn.com</CODE> (Rich Salz)
Curt Sampson <CODE>&#60;curt@portal.ca&#62;</CODE>
<CODE>sojurn!mike@hobbes.cert.sei.cmu.edu</CODE> (Mike Sangrey)
Nickolay Saukh <CODE>&#60;nms@ussr.EU.net&#62;</CODE>
<CODE>heiko@lotte.sax.de</CODE> (Heiko Schlittermann)
Eric Schnoebelen <CODE>&#60;eric@cirr.com&#62;</CODE>
<CODE>russell@alpha3.ersys.edmonton.ab.ca</CODE> (Russell Schulz)
<CODE>scott@geom.umn.edu</CODE>
Igor V. Semenyuk <CODE>&#60;iga@argrd0.argonaut.su&#62;</CODE>
Christopher Sawtell <CODE>&#60;chris@gerty.equinox.gen.nz&#62;</CODE>
<CODE>schuler@bds.sub.org</CODE> (Bernd Schuler)
<CODE>uunet!gold.sub.org!root</CODE> (Christian Seyb)
<CODE>s4mjs!mjs@nirvo.nirvonics.com</CODE> (M. J. Shannon Jr.)
<CODE>shields@tembel.org</CODE> (Michael Shields)
<CODE>peter@ficc.ferranti.com</CODE> (Peter da Silva)
<CODE>vince@victrola.sea.wa.us</CODE> (Vince Skahan)
<CODE>frumious!pat</CODE> (Patrick Smith)
<CODE>roscom!monty@bu.edu</CODE> (Monty Solomon)
<CODE>sommerfeld@orchard.medford.ma.us</CODE> (Bill Sommerfeld)
Julian Stacey <CODE>&#60;stacey@guug.de&#62;</CODE>
<CODE>evesg@etlrips.etl.go.jp</CODE> (Gjoen Stein)
Harlan Stenn <CODE>&#60;harlan@mumps.pfcs.com&#62;</CODE>
Ralf Stephan <CODE>&#60;ralf@ark.abg.sub.org&#62;</CODE>
<CODE>johannes@titan.westfalen.de</CODE> (Johannes Stille)
<CODE>chs@antic.apu.fi</CODE> (Hannu Strang)
<CODE>ralf@reswi.ruhr.de</CODE> (Ralf E. Stranzenbach)
<CODE>sullivan@Mathcom.com</CODE> (S. Sullivan)
Shigeya Suzuki <CODE>&#60;shigeya@dink.foretune.co.jp&#62;</CODE>
<CODE>kls@ditka.Chicago.COM</CODE> (Karl Swartz)
<CODE>swiers@plains.NoDak.edu</CODE>
Oleg Tabarovsky <CODE>&#60;olg@olghome.pccentre.msk.su&#62;</CODE>
<CODE>ikeda@honey.misystems.co.jp</CODE> (Takatoshi Ikeda)
John Theus <CODE>&#60;john@theus.rain.com&#62;</CODE>
<CODE>rd@aii.com</CODE> (Bob Thrush)
ppKarsten Thygesen <CODE>&#60;karthy@dannug.dk&#62;</CODE>
Graham Toal <CODE>&#60;gtoal@pizzabox.demon.co.uk&#62;</CODE>
<CODE>rmtodd@servalan.servalan.com</CODE> (Richard Todd)
Martin Tomes <CODE>&#60;mt00@controls.eurotherm.co.uk&#62;</CODE>
Len Tower <CODE>&#60;tower-prep@ai.mit.edu&#62;</CODE>
Mark Towfiq <CODE>&#60;justice!towfiq@Eingedi.Newton.MA.US&#62;</CODE>
<CODE>mju@mudos.ann-arbor.mi.us</CODE> (Marc Unangst)
Matthias Urlichs <CODE>&#60;urlichs@smurf.noris.de&#62;</CODE>
Tomi Vainio <CODE>&#60;tomppa@fidata.fi&#62;</CODE>
<CODE>a3@a3.xs4all.nl</CODE> (Adri Verhoef)
Andrew Vignaux <CODE>&#60;ajv@ferrari.datamark.co.nz&#62;</CODE>
<CODE>vogel@omega.ssw.de</CODE> (Andreas Vogel)
Dima Volodin <CODE>&#60;dvv@hq.demos.su&#62;</CODE>
<CODE>jos@bull.nl</CODE> (Jos Vos)
<CODE>jv@nl.net</CODE> (Johan Vromans)
David Vrona <CODE>&#60;dave@sashimi.wwa.com&#62;</CODE>
<CODE>Marcel.Waldvogel@nice.usergroup.ethz.ch</CODE> (Marcel Waldvogel)
<CODE>steve@nshore.org</CODE> (Stephen J. Walick)
<CODE>syd@dsinc.dsi.com</CODE> (Syd Weinstein)
<CODE>gerben@rna.indiv.nluug.nl</CODE> (Gerben Wierda)
<CODE>jbw@cs.bu.edu</CODE> (Joe Wells)
<CODE>frnkmth!twwells.com!bill</CODE> (T. William Wells)
Peter Wemm <CODE>&#60;Peter_Wemm@zeus.dialix.oz.au&#62;</CODE>
<CODE>mauxci!eci386!woods@apple.com</CODE> (Greg A. Woods)
<CODE>John.Woods@proteon.com</CODE> (John Woods)
Michael Yu.Yaroslavtsev <CODE>&#60;mike@yaranga.ipmce.su&#62;</CODE>
Alexei K. Yushin <CODE>&#60;root@july.elis.crimea.ua&#62;</CODE>
<CODE>jon@console.ais.org</CODE> (Jon Zeeff)
Matthias Zepf <CODE>&#60;agnus@amylnd.stgt.sub.org&#62;</CODE>
Eric Ziegast <CODE>&#60;uunet!ziegast&#62;</CODE>
</PRE>



<H1><A NAME="SEC114" HREF="uucp.html#TOC114">Concept Index</A></H1>

<P>
Jump to:
<A HREF="#cindex_.">.</A>
-
<A HREF="#cindex_/">/</A>
-
<A HREF="#cindex_a">a</A>
-
<A HREF="#cindex_c">c</A>
-
<A HREF="#cindex_d">d</A>
-
<A HREF="#cindex_e">e</A>
-
<A HREF="#cindex_f">f</A>
-
<A HREF="#cindex_g">g</A>
-
<A HREF="#cindex_h">h</A>
-
<A HREF="#cindex_i">i</A>
-
<A HREF="#cindex_j">j</A>
-
<A HREF="#cindex_l">l</A>
-
<A HREF="#cindex_m">m</A>
-
<A HREF="#cindex_n">n</A>
-
<A HREF="#cindex_p">p</A>
-
<A HREF="#cindex_r">r</A>
-
<A HREF="#cindex_s">s</A>
-
<A HREF="#cindex_t">t</A>
-
<A HREF="#cindex_u">u</A>
-
<A HREF="#cindex_v">v</A>
-
<A HREF="#cindex_x">x</A>
-
<A HREF="#cindex_y">y</A>
<P>
<H2><A NAME="cindex_.">.</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX11">.Corrupt</A>
<LI><A HREF="uucp.html#IDX12">.Failed</A>
<LI><A HREF="uucp.html#IDX15">.Preserve</A>
<LI><A HREF="uucp.html#IDX16">.Received</A>
<LI><A HREF="uucp.html#IDX13">.Sequence</A>
<LI><A HREF="uucp.html#IDX8">.Status</A>
<LI><A HREF="uucp.html#IDX14">.Temp</A>
<LI><A HREF="uucp.html#IDX10">.Xqtdir</A>
</DIR>
<H2><A NAME="cindex_/">/</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX50">/usr/spool/uucp</A>
<LI><A HREF="uucp.html#IDX54">/usr/spool/uucppublic</A>
</DIR>
<H2><A NAME="cindex_a">a</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX3">accepting calls</A>
<LI><A HREF="uucp.html#IDX28">anonymous UUCP</A>
</DIR>
<H2><A NAME="cindex_c">c</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX76">call configuration file</A>
<LI><A HREF="uucp.html#IDX84">call in login name</A>
<LI><A HREF="uucp.html#IDX85">call in password</A>
<LI><A HREF="uucp.html#IDX75">call out file</A>
<LI><A HREF="uucp.html#IDX77">call out login name</A>
<LI><A HREF="uucp.html#IDX78">call out password</A>
<LI><A HREF="uucp.html#IDX2">calling in</A>
<LI><A HREF="uucp.html#IDX1">calling out</A>
<LI><A HREF="uucp.html#IDX26">changing spool directory</A>
<LI><A HREF="uucp.html#IDX34">chat scripts</A>
<LI><A HREF="uucp.html#IDX24">cleaning the spool directory</A>
<LI><A HREF="uucp.html#IDX40">config file</A>
<LI><A HREF="uucp.html#IDX25">config file examples</A>
<LI><A HREF="uucp.html#IDX79">configuration file (call)</A>
<LI><A HREF="uucp.html#IDX42">configuration file (config)</A>
<LI><A HREF="uucp.html#IDX180">configuration file (dial)</A>
<LI><A HREF="uucp.html#IDX71">configuration file (dialcode)</A>
<LI><A HREF="uucp.html#IDX83">configuration file (passwd)</A>
<LI><A HREF="uucp.html#IDX154">configuration file (port)</A>
<LI><A HREF="uucp.html#IDX95">configuration file (sys)</A>
</DIR>
<H2><A NAME="cindex_d">d</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX244"><SAMP>`d'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX91">debugging file</A>
<LI><A HREF="uucp.html#IDX178">dial file</A>
<LI><A HREF="uucp.html#IDX73">dialcode configuration file</A>
<LI><A HREF="uucp.html#IDX72">dialcode file</A>
<LI><A HREF="uucp.html#IDX179">dialer configuration file</A>
</DIR>
<H2><A NAME="cindex_e">e</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX232"><SAMP>`e'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX221">E UUCP protocol command</A>
<LI><A HREF="uucp.html#IDX210">execution file format</A>
</DIR>
<H2><A NAME="cindex_f">f</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX228"><SAMP>`f'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX225">final handshake</A>
</DIR>
<H2><A NAME="cindex_g">g</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX234"><SAMP>`G'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX226"><SAMP>`g'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX31">gateway</A>
<LI><A HREF="uucp.html#IDX103">grades</A>
<LI><A HREF="uucp.html#IDX208">grades implementation</A>
</DIR>
<H2><A NAME="cindex_h">h</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX246"><SAMP>`h'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX223">H UUCP protocol command</A>
</DIR>
<H2><A NAME="cindex_i">i</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX236"><SAMP>`i'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX214">initial handshake</A>
</DIR>
<H2><A NAME="cindex_j">j</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX238"><SAMP>`j'</SAMP> protocol</A>
</DIR>
<H2><A NAME="cindex_l">l</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX22">L.<VAR>xxx</VAR></A>
<LI><A HREF="uucp.html#IDX18">LCK..<VAR>sys</VAR></A>
<LI><A HREF="uucp.html#IDX20">LCK.XQT.<VAR>NN</VAR></A>
<LI><A HREF="uucp.html#IDX29">leaf site</A>
<LI><A HREF="uucp.html#IDX56">lock directory</A>
<LI><A HREF="uucp.html#IDX209">lock files</A>
<LI><A HREF="uucp.html#IDX17">lock files in spool directory</A>
<LI><A HREF="uucp.html#IDX87">log file</A>
<LI><A HREF="uucp.html#IDX21">LXQ.<VAR>cmd</VAR></A>
</DIR>
<H2><A NAME="cindex_m">m</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX4">mail</A>
<LI><A HREF="uucp.html#IDX41">main configuration file</A>
</DIR>
<H2><A NAME="cindex_n">n</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX5">news</A>
</DIR>
<H2><A NAME="cindex_p">p</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX60">parity in login names</A>
<LI><A HREF="uucp.html#IDX82">passwd configuration file</A>
<LI><A HREF="uucp.html#IDX81">passwd file</A>
<LI><A HREF="uucp.html#IDX153">port configuration file</A>
<LI><A HREF="uucp.html#IDX152">port file</A>
<LI><A HREF="uucp.html#IDX245">protocol <SAMP>`d'</SAMP></A>
<LI><A HREF="uucp.html#IDX233">protocol <SAMP>`e'</SAMP></A>
<LI><A HREF="uucp.html#IDX229">protocol <SAMP>`f'</SAMP></A>
<LI><A HREF="uucp.html#IDX227">protocol <SAMP>`g'</SAMP></A>
<LI><A HREF="uucp.html#IDX235">protocol <SAMP>`G'</SAMP></A>
<LI><A HREF="uucp.html#IDX247">protocol <SAMP>`h'</SAMP></A>
<LI><A HREF="uucp.html#IDX237">protocol <SAMP>`i'</SAMP></A>
<LI><A HREF="uucp.html#IDX239">protocol <SAMP>`j'</SAMP></A>
<LI><A HREF="uucp.html#IDX231">protocol <SAMP>`t'</SAMP></A>
<LI><A HREF="uucp.html#IDX249">protocol <SAMP>`v'</SAMP></A>
<LI><A HREF="uucp.html#IDX241">protocol <SAMP>`x'</SAMP></A>
<LI><A HREF="uucp.html#IDX243">protocol <SAMP>`y'</SAMP></A>
<LI><A HREF="uucp.html#IDX213">protocol, UUCP</A>
<LI><A HREF="uucp.html#IDX52">public directory</A>
</DIR>
<H2><A NAME="cindex_r">r</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX217">R UUCP protocol command</A>
</DIR>
<H2><A NAME="cindex_s">s</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX215">S UUCP protocol command</A>
<LI><A HREF="uucp.html#IDX6">spool directory</A>
<LI><A HREF="uucp.html#IDX27">spool directory, changing</A>
<LI><A HREF="uucp.html#IDX23">spool directory, cleaning</A>
<LI><A HREF="uucp.html#IDX49">spool directory, setting</A>
<LI><A HREF="uucp.html#IDX89">statistics file</A>
<LI><A HREF="uucp.html#IDX9">status files</A>
<LI><A HREF="uucp.html#IDX93">sys file</A>
<LI><A HREF="uucp.html#IDX32">sys file example (gateway)</A>
<LI><A HREF="uucp.html#IDX30">sys file example (leaf)</A>
<LI><A HREF="uucp.html#IDX94">system configuration file</A>
<LI><A HREF="uucp.html#IDX19">system lock files</A>
<LI><A HREF="uucp.html#IDX47">system name</A>
<LI><A HREF="uucp.html#IDX7">system spool directories</A>
</DIR>
<H2><A NAME="cindex_t">t</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX230"><SAMP>`t'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX33">time strings</A>
</DIR>
<H2><A NAME="cindex_u">u</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX58">unknown systems</A>
<LI><A HREF="uucp.html#IDX212">UUCP protocol</A>
<LI><A HREF="uucp.html#IDX222">UUCP protocol E command</A>
<LI><A HREF="uucp.html#IDX224">UUCP protocol H command</A>
<LI><A HREF="uucp.html#IDX218">UUCP protocol R command</A>
<LI><A HREF="uucp.html#IDX216">UUCP protocol S command</A>
<LI><A HREF="uucp.html#IDX220">UUCP protocol X command</A>
<LI><A HREF="uucp.html#IDX46">UUCP system name</A>
<LI><A HREF="uucp.html#IDX53">uucppublic</A>
</DIR>
<H2><A NAME="cindex_v">v</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX248"><SAMP>`v'</SAMP> protocol</A>
</DIR>
<H2><A NAME="cindex_x">x</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX240"><SAMP>`x'</SAMP> protocol</A>
<LI><A HREF="uucp.html#IDX219">X UUCP protocol command</A>
<LI><A HREF="uucp.html#IDX211"><TT>`X.*'</TT> file format</A>
</DIR>
<H2><A NAME="cindex_y">y</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX242"><SAMP>`y'</SAMP> protocol</A>
</DIR>




<H1><A NAME="SEC115" HREF="uucp.html#TOC115">Configuration File Index</A></H1>

<P>
Jump to:
<A HREF="#findex_a">a</A>
-
<A HREF="#findex_b">b</A>
-
<A HREF="#findex_c">c</A>
-
<A HREF="#findex_d">d</A>
-
<A HREF="#findex_f">f</A>
-
<A HREF="#findex_h">h</A>
-
<A HREF="#findex_l">l</A>
-
<A HREF="#findex_m">m</A>
-
<A HREF="#findex_n">n</A>
-
<A HREF="#findex_p">p</A>
-
<A HREF="#findex_r">r</A>
-
<A HREF="#findex_s">s</A>
-
<A HREF="#findex_t">t</A>
-
<A HREF="#findex_u">u</A>
-
<A HREF="#findex_v">v</A>
<P>
<H2><A NAME="findex_a">a</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX203">abort</A>
<LI><A HREF="uucp.html#IDX198">abort-chat</A>
<LI><A HREF="uucp.html#IDX200">abort-chat-fail</A>
<LI><A HREF="uucp.html#IDX202">abort-chat-program</A>
<LI><A HREF="uucp.html#IDX201">abort-chat-seven-bit</A>
<LI><A HREF="uucp.html#IDX199">abort-chat-timeout</A>
<LI><A HREF="uucp.html#IDX111">address</A>
<LI><A HREF="uucp.html#IDX99">alias</A>
<LI><A HREF="uucp.html#IDX97">alternate</A>
</DIR>
<H2><A NAME="findex_b">b</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX164">baud in port file</A>
<LI><A HREF="uucp.html#IDX108">baud in sys file</A>
<LI><A HREF="uucp.html#IDX166">baud-range</A>
</DIR>
<H2><A NAME="findex_c">c</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX134">call-local-size</A>
<LI><A HREF="uucp.html#IDX117">call-login</A>
<LI><A HREF="uucp.html#IDX118">call-password</A>
<LI><A HREF="uucp.html#IDX135">call-remote-size</A>
<LI><A HREF="uucp.html#IDX105">call-timegrade</A>
<LI><A HREF="uucp.html#IDX131">call-transfer</A>
<LI><A HREF="uucp.html#IDX120">callback</A>
<LI><A HREF="uucp.html#IDX121">called-chat</A>
<LI><A HREF="uucp.html#IDX123">called-chat-fail</A>
<LI><A HREF="uucp.html#IDX125">called-chat-program</A>
<LI><A HREF="uucp.html#IDX124">called-chat-seven-bit</A>
<LI><A HREF="uucp.html#IDX122">called-chat-timeout</A>
<LI><A HREF="uucp.html#IDX136">called-local-size</A>
<LI><A HREF="uucp.html#IDX119">called-login</A>
<LI><A HREF="uucp.html#IDX137">called-remote-size</A>
<LI><A HREF="uucp.html#IDX106">called-timegrade</A>
<LI><A HREF="uucp.html#IDX132">called-transfer</A>
<LI><A HREF="uucp.html#IDX74">callfile</A>
<LI><A HREF="uucp.html#IDX189">carrier in dial file</A>
<LI><A HREF="uucp.html#IDX167">carrier in port file</A>
<LI><A HREF="uucp.html#IDX190">carrier-wait</A>
<LI><A HREF="uucp.html#IDX35">chat</A>
<LI><A HREF="uucp.html#IDX182">chat in dial file</A>
<LI><A HREF="uucp.html#IDX112">chat in sys file</A>
<LI><A HREF="uucp.html#IDX37">chat-fail</A>
<LI><A HREF="uucp.html#IDX184">chat-fail in dial file</A>
<LI><A HREF="uucp.html#IDX114">chat-fail in sys file</A>
<LI><A HREF="uucp.html#IDX39">chat-program</A>
<LI><A HREF="uucp.html#IDX186">chat-program in dial file</A>
<LI><A HREF="uucp.html#IDX116">chat-program in sys file</A>
<LI><A HREF="uucp.html#IDX38">chat-seven-bit</A>
<LI><A HREF="uucp.html#IDX185">chat-seven-bit in dial file</A>
<LI><A HREF="uucp.html#IDX115">chat-seven-bit in sys file</A>
<LI><A HREF="uucp.html#IDX36">chat-timeout</A>
<LI><A HREF="uucp.html#IDX183">chat-timeout in dial file</A>
<LI><A HREF="uucp.html#IDX113">chat-timeout in sys file</A>
<LI><A HREF="uucp.html#IDX177">command</A>
<LI><A HREF="uucp.html#IDX146">command-path</A>
<LI><A HREF="uucp.html#IDX147">commands</A>
<LI><A HREF="uucp.html#IDX197">complete</A>
<LI><A HREF="uucp.html#IDX192">complete-chat</A>
<LI><A HREF="uucp.html#IDX194">complete-chat-fail</A>
<LI><A HREF="uucp.html#IDX196">complete-chat-program</A>
<LI><A HREF="uucp.html#IDX195">complete-chat-seven-bit</A>
<LI><A HREF="uucp.html#IDX193">complete-chat-timeout</A>
</DIR>
<H2><A NAME="findex_d">d</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX92">debug in config file</A>
<LI><A HREF="uucp.html#IDX150">debug in sys file</A>
<LI><A HREF="uucp.html#IDX90">debugfile</A>
<LI><A HREF="uucp.html#IDX98">default-alternates</A>
<LI><A HREF="uucp.html#IDX162">device</A>
<LI><A HREF="uucp.html#IDX169">dial-device</A>
<LI><A HREF="uucp.html#IDX70">dialcodefile</A>
<LI><A HREF="uucp.html#IDX181">dialer in dial file</A>
<LI><A HREF="uucp.html#IDX170">dialer in port file</A>
<LI><A HREF="uucp.html#IDX171">dialer-sequence</A>
<LI><A HREF="uucp.html#IDX69">dialfile</A>
<LI><A HREF="uucp.html#IDX187">dialtone</A>
<LI><A HREF="uucp.html#IDX191">dtr-toggle</A>
</DIR>
<H2><A NAME="findex_f">f</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX144">forward</A>
<LI><A HREF="uucp.html#IDX143">forward-from</A>
<LI><A HREF="uucp.html#IDX142">forward-to</A>
<LI><A HREF="uucp.html#IDX148">free-space</A>
</DIR>
<H2><A NAME="findex_h">h</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX207">half-duplex in dial file</A>
<LI><A HREF="uucp.html#IDX161">half-duplex in port file</A>
<LI><A HREF="uucp.html#IDX168">hardflow</A>
<LI><A HREF="uucp.html#IDX66">hdb-files</A>
<LI><A HREF="uucp.html#IDX44">hostname</A>
</DIR>
<H2><A NAME="findex_l">l</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX140">local-receive</A>
<LI><A HREF="uucp.html#IDX138">local-send</A>
<LI><A HREF="uucp.html#IDX55">lockdir</A>
<LI><A HREF="uucp.html#IDX172">lockname</A>
<LI><A HREF="uucp.html#IDX86">logfile</A>
</DIR>
<H2><A NAME="findex_m">m</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX151">max-remote-debug</A>
<LI><A HREF="uucp.html#IDX104">max-retries</A>
<LI><A HREF="uucp.html#IDX62">max-uuxqts</A>
<LI><A HREF="uucp.html#IDX100">myname</A>
</DIR>
<H2><A NAME="findex_n">n</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX43">nodename</A>
</DIR>
<H2><A NAME="findex_p">p</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX80">passwdfile</A>
<LI><A HREF="uucp.html#IDX188">pause</A>
<LI><A HREF="uucp.html#IDX110">phone</A>
<LI><A HREF="uucp.html#IDX155">port in port file</A>
<LI><A HREF="uucp.html#IDX109">port in sys file</A>
<LI><A HREF="uucp.html#IDX68">portfile</A>
<LI><A HREF="uucp.html#IDX157">protocol in port file</A>
<LI><A HREF="uucp.html#IDX126">protocol in sys file</A>
<LI><A HREF="uucp.html#IDX204">protocol-parameter in dial file</A>
<LI><A HREF="uucp.html#IDX158">protocol-parameter in port file</A>
<LI><A HREF="uucp.html#IDX127">protocol-parameter in sys file</A>
<LI><A HREF="uucp.html#IDX51">pubdir in config file</A>
<LI><A HREF="uucp.html#IDX149">pubdir in sys file</A>
<LI><A HREF="uucp.html#IDX174">push</A>
</DIR>
<H2><A NAME="findex_r">r</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX129">receive-request</A>
<LI><A HREF="uucp.html#IDX206">reliable in dial file</A>
<LI><A HREF="uucp.html#IDX160">reliable in port file</A>
<LI><A HREF="uucp.html#IDX141">remote-receive</A>
<LI><A HREF="uucp.html#IDX139">remote-send</A>
<LI><A HREF="uucp.html#IDX130">request</A>
<LI><A HREF="uucp.html#IDX63">run-uuxqt</A>
</DIR>
<H2><A NAME="findex_s">s</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX128">send-request</A>
<LI><A HREF="uucp.html#IDX145">sequence</A>
<LI><A HREF="uucp.html#IDX176">server-address</A>
<LI><A HREF="uucp.html#IDX173">service</A>
<LI><A HREF="uucp.html#IDX205">seven-bit in dial file</A>
<LI><A HREF="uucp.html#IDX159">seven-bit in port file</A>
<LI><A HREF="uucp.html#IDX163">speed in port file</A>
<LI><A HREF="uucp.html#IDX107">speed in sys file</A>
<LI><A HREF="uucp.html#IDX165">speed-range</A>
<LI><A HREF="uucp.html#IDX48">spool</A>
<LI><A HREF="uucp.html#IDX88">statfile</A>
<LI><A HREF="uucp.html#IDX175">stream</A>
<LI><A HREF="uucp.html#IDX59">strip-login</A>
<LI><A HREF="uucp.html#IDX61">strip-proto</A>
<LI><A HREF="uucp.html#IDX67">sysfile</A>
<LI><A HREF="uucp.html#IDX96">system</A>
</DIR>
<H2><A NAME="findex_t">t</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX101">time</A>
<LI><A HREF="uucp.html#IDX102">timegrade</A>
<LI><A HREF="uucp.html#IDX64">timetable</A>
<LI><A HREF="uucp.html#IDX133">transfer</A>
<LI><A HREF="uucp.html#IDX156">type</A>
</DIR>
<H2><A NAME="findex_u">u</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX57">unknown</A>
<LI><A HREF="uucp.html#IDX45">uuname</A>
</DIR>
<H2><A NAME="findex_v">v</A></H2>
<DIR>
<LI><A HREF="uucp.html#IDX65">v2-files</A>
</DIR>


<P><HR><P>
This document was generated on 7 November 1999 using
<A HREF="http://wwwinfo.cern.ch/dis/texi2html/">texi2html</A>&nbsp;1.56k.
</BODY>
</HTML>
