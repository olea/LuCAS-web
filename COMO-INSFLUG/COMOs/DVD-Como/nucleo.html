<HTML
><HEAD
><TITLE
>El núcleo</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"><LINK
REL="HOME"
TITLE="DVD-Cómo"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="DVD-Cómo"
HREF="index.html"><LINK
REL="NEXT"
TITLE="El Controlador De Dispositivo Dxr2 y sus programas"
HREF="controlador.html"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>DVD-Cómo</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="index.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="controlador.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="NUCLEO"
>El núcleo</A
></H1
><P
>Dependiendo de la distribución de Linux que tengamos y de cómo nos
guste mantenerla, tendremos las fuentes del núcleo o un paquete
rpm, tar.gz o deb que las contenga. Estas fuentes estarán el
/usr/src/linux. Vamos a parchearlas.</P
><P
>En una terminal o en una consola ejecutamos:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>bash# login root</PRE
></TD
></TR
></TABLE
>
o bien
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>bash# su root</PRE
></TD
></TR
></TABLE
></P
><P
>Lo siguiente debe hacerse como administrador:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>bash# cd /usr/src</PRE
></TD
></TR
></TABLE
>
para movernos hasta el directorio 

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>bash# mv /donde hemos puesto los parches/ /usr/src/</PRE
></TD
></TR
></TABLE
> 
mueve los parches a <TT
CLASS="FILENAME"
>/usr/src</TT
>.

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>bash# bunzip2 -d dvd-cd2.2.xx.diff.bz2</PRE
></TD
></TR
></TABLE
>

descomprime el parche.
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>bash# patch -p1 &#60; dvd-cd-2.2.xx.diff </PRE
></TD
></TR
></TABLE
>
este es el parche para dar soporte al dvd en el cdrom.</P
><P
>Anteriormente comentamos dónde bajarlo pero lo reiteramos:
<A
HREF="http://www.kernel.dk"
TARGET="_top"
>http://www.kernel.dk</A
>.

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>bash# bunzip2 -d udf-2.2.xx.diff.bz2 patch -p1 &#60; udf-2.2.xx.diff</PRE
></TD
></TR
></TABLE
> este el parche UDF (véase más arriba).</P
><P
> Para cualquier problema en el parcheado recomiendo la
lectura de la página man de <B
CLASS="COMMAND"
>patch</B
> y el Núcleo-Cómo.</P
><P
>Ahora compilamos el núcleo (Núcleo-Cómo) 

<B
CLASS="COMMAND"
>make clean; make menuconfig; make dep; make
bzImage; make modules; make modules_install; make install </B
></P
><P
>Bueno algunas cosas que tendremos que configurar en el núcleo serán las
siguientes:</P
><P
></P
><UL
><LI
><P
>Soporte para código en desarrollo (Code maturity level options)</P
></LI
><LI
><P
>Sistema de ficheros UDF,ISO 9660 (Joliet Filesystems -
UDF/ISO-9660/Joliet)</P
></LI
><LI
><P
>Carga de módulos (LOADABLE MODULE SUPPORT)</P
></LI
><LI
><P
>Soporte para IOCTL (IOCTL support)</P
></LI
></UL
><P
>Después de parchear, éste se añadirá automáticamente. Va dentro de
«kernel block devices» (dispositivos de bloque) *******y no lo puedes ni
elegir va dentro porque si así que no te preocupes.******</P
><P
>Una vez que lo tenemos ya compilado y lo hemos añadido
al lilo, podemos reiniciar la máquina y rearrancar con nuestro
nuevo núcleo. Además, deciros que al compilar un núcleo lo estamos
optimizando para el procesador que tenemos en la máquina.
Generalmente los núcleos por defecto no aprovechan al máximo
las capacidades del procesador que tengamos instalado.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="index.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="controlador.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>DVD-Cómo</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>El Controlador De Dispositivo Dxr2 y sus programas</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>