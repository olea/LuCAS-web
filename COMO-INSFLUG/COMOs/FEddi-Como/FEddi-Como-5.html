<HTML>
<HEAD>
<TITLE>FEddi-COMO: Mensajes-colaboraciones-trucos</TITLE>
</HEAD>
<BODY>
<A HREF="FEddi-Como-4.html">Anterior</A>
<A HREF="FEddi-Como-6.html">Siguiente</A>
<A HREF="FEddi-Como.html#toc5">Indice</A>
<HR>
<H2><A NAME="s5">5. Mensajes-colaboraciones-trucos</A></H2>


<P>A partir de aqu&iacute; pongo cosas que me han mandado los propios usuarios de fido.</P>

<H2><A NAME="ss5.1">5.1 <CODE>futility</CODE></A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 1 from area R34.LINUX
------------------------------------------------------------------------------
From: Jesus Gambero (2:345/201.3)
From: All
Subj: FEddi
Send: 25 Nov 95  15:43:57
------------------------------------------------------------------------------
Hola All.

De momento el FEddi no viene demasiado documentado, asi que, despues de
algunas pruebas, por fin puedo hacer el mantenimiento de la base de mensajes.

        futility tool delete &quot;age+15&&protect-&&new-&quot; R34.LINUX
        futility pack

Con esto estamos borrando los mensajes con mas de 15 dias que no esten
protegidos y que ademas ya hayan sido leidos.
Si no poneis el nombre del area se tratarian todas. Lo que ocurre es que hay
algunas areas que dejo mas dias, lo que me obliga a poner una linea por cada
una, personalizandola a mi gusto.

Saludos.

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: Mensaje escrito y enviado bajo Linux, ¡¡NATURALMENTE!!
(2:345/201.3)
</PRE>
</CODE></BLOCKQUOTE>
</P>





<H2><A NAME="ss5.2">5.2 Petici&oacute;n de ficheros (<I>FREQ</I>).</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 4 from area R34.LINUX
------------------------------------------------------------------------------
From: Javier Hernandez (2:346/207.48)
From: ALL
Subj: FILE REQUEST
Send: 07 Dec 95  06:15:45
------------------------------------------------------------------------------
Hola ALL!

He estando haciendo pruebas para conseguir lo del RE: con el soft de Linux y
ya he bajado mi primer fichero. Paso a explicar como lo he hecho por si sirve
para alguien y ademas por si lo hago mal que alguien me pueda corregir.

Primero escribo un Net normalmente a mi Sysop. Cuando he terminado de escribir
el mensaje salgo de el (Alt+x).
Estando sobre el mensaje, pulso (Alt+g) y se me abre una ventanita que
presenta unos datos. Una vez ahi pulso &quot;Ins&quot; y escribo el nombre del fichero
que deseo bajar; cuando termino pulso &quot;Esc&quot;.
Con esto ya debe funcionar, la proxima vez que llames te bajara el fichero.
Al menos a mi me ha funcionado asi.

¿Algun comentario?

Bye,
  Javier

                    fjherna@ibm.net                    _\|/_
    ***********************************************-----(O)---****
    * Javi(Canary)                              * Valencia/Spain *

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: RAMERA: persona que comercia con su RAM. (2:346/207.48)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.3">5.3 Direcciones usuales.</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 6 from area R34.LINUX
------------------------------------------------------------------------------
From: Javier Hernandez (2:346/207.48)
From: Manuel Soriano
Subj: Prueba de envio.
Send: 11 Dec 95  23:58:55
------------------------------------------------------------------------------
Hola Manuel!

El 07 Dec 95 Escribia Manuel Soriano a Javier Hernandez
acerca de &quot;Prueba de envio.&quot;:

 MS&gt; Pues me ha llegado correctamente, al area correcta, ya nos diras
 MS&gt; como lo has realizado, a ver si al final nos escribes un
 MS&gt; feddi.como :-)
 Pues mira he puesto un fichero llamado &quot;names&quot; en el /home/fido/fnet/msgbase,
que en tu caso puede ser parecido. El fichero de amarras contiene lo
siguiente:
-------------------------empieza aqui-------------------------------------
*fj,Javier Hernandez,2:346/207.48
*fm,Francisco Moreno,2:346/207.1
*ap,Alfonso Perez-Almazan,2:346/207.2
*vk,Viktor Martinez,2:346/207.4
*sz,Salvador Zarzo,2:346/207.6
*el,Eduardo Lluna Gil,2:346/207.8
*bs,Bernardino Soldan,2:346/207.10
*ms,Manuel Soriano,2:346/207.14
*js,Jose Luis Sanchez,2:346/207.17
*jv,Jose Villanueva,2:346/207.28
*am,Alberto Mendoza,2:346/207.44
*pe,pepsales@portables.com,2:342/3
*am,areamgr,2:346/207
*rt,rtorres@gimn.upv.es,2:342/3
----------------------------corta aqui-----------------------------------
con esto lo que ocurre es que al insertar un net, en lugar de escribir el To:
apretas el &quot;Avpg&quot; o &quot;Repg&quot; y te van saliendo los distintos nombres. Como veras
yo incluso he anyadido alguna direccion de internet que uso a veces. el primer
campo creo que son como teclas abreviadas para hacer una llamada directa a esa
linea. No recuerdo ahora como se hace pero es facil y esta en el man feddi.

No se si me falta por decir algo. Si te parece buena la informacion pon algo
en el feddi.como; si crees que falta algo dimelo y te paso lo que haga falta.

Talavista.

Bye,
  Javier

             fjherna@ibm.net
             fj.chicha@p48.europa3.encomix.com         _\|/_
    ***********************************************-----(O)---****
    * Javi(Canary)                              * Valencia/Spain *

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: RAMERA: persona que comercia con su RAM. (2:346/207.48)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.4">5.4 Scripts y &uacute;tiles.</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 11 from area R34.LINUX
------------------------------------------------------------------------------
From: Jose Carlos Gutierrez (2:341/45.17)
From: all
Subj: Feddi-como, Scripts
Send: 26 Dec 95  11:42:31
------------------------------------------------------------------------------
Hola all!

        Estos son los ficheros que uso para la automatizacion del correo.

fichero /usr/local/bin/fido
#!/bin/bash
pushd ~/fnet/inbound
.minusculas
if [ -f snetlist.a* ] ||
   [ -f subptlst.a* ] || [ -f region34.l* ] || [ -f ptlstr34.l* ]; then
      ~/fnet/nodelist/compilar
fi
ftoss
futility link
fmbedit
fscan
futility pack
popd

 |------------|
fichero ~/fnet/inbound/.minusculas
(lo del punto es para que no se pase asi mismo a minusculas)

#!/usr/bin/perl
while ($nombre = &lt;*&gt;) {
   $nuevo_nombre = $nombre;
   $nuevo_nombre=~ tr/A-Z,&Ntilde;/a-z,&ntilde;/;
   print &quot;$nombre -&gt; $nuevo_nombre \n&quot;;
   rename($nombre,&quot;$nuevo_nombre&quot;); }
 |------------|
fichero ~/fnet/nodelist/compilar

#!/bin/bash
# fichero para compilar la nodelist
pushd ~/fnet/nodelist
if [ -f ~/fnet/inbound/ptlstr34.l* ]; then
        rm ptlstr34*
        unpack ~/fnet/inbound/ptlstr34.l*
fi
if [ -f ~/fnet/inbound/region34.l* ]; then
        rm region34*
        unpack ~/fnet/inbound/region34.l*
fi
if [ -f ~/fnet/inbound/snetlist.a* ]; then
        rm snetlist*
        unpack ~/fnet/inbound/snetlist.a*
fi
if [ -f ~/fnet/inbound/subptlst.a* ]; then
        rm subptlst*
        unpack ~/fnet/inbound/subptlst.a*
fi
# aqui lo que hago es insertar la linea de mi Boss para que llame el bt con
# ctrl + y (¡ seguro que es la forma mas dificil de hacerlo! pero no se otra)
grep -i -B 4000  'Boss,2:341/45' ptlstr34.* &gt; /tmp/file1
grep -i -A 4000  'Boss,2:341/45' ptlstr34.* &gt; /tmp/file2
grep -v 'Boss,2:341/45' /tmp/file2 &gt; /tmp/file3
rm ptlstr34.*
cat /tmp/file1 &gt; ptlstr34
# esta linea la teneis que ajustar a vuestro sistema
echo &quot;,0,Ma~ana_Remoto,Madrid,Rafa,34-1-6463023,9600,CM,V34,VFC&quot; &gt;&gt; ptlstr34
cat /tmp/file3 &gt;&gt; ptlstr34
rm /tmp/file1
rm /tmp/file2
rm /tmp/file3
#
rm -f ~/fnet/inbound/ptlstr34*
rm -f ~/fnet/inbound/region34*
rm -f ~/fnet/inbound/snetlist*
rm -f ~/fnet/inbound/subptlst*
rm fnlc.*
fnlc
popd



Saludos,
                Guti.

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: THE GANG TM (2:341/45.17)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.5">5.5 Automatizaci&oacute;n: El &aacute;rea personal.</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 1358 from area R34.LINUX
------------------------------------------------------------------------------
From: Pablo Gomez (2:341/43.40)
From: All
Subj: Area personal en FEDDI, la refinitiva ;-)
Send: 24 Jun 96  00:35:31
------------------------------------------------------------------------------
Hola All!

Bien, desde hace un tiempo estamos venga a darle vueltas a la posibilidad de
disponer en  FEDDI de un area personal que permita recibir en ella los
mensajes dirigidos a nosotros, recibidos en cualquier area, y sobre todo (ya
que lo anterior no es complicado) el poderlos responder comodamente,
enviandolos 'de regreso' a sus areas originales.

Con estos script que siguen, al menos Francisco Jose Montilla y el que
suscribe lo hemos conseguido. 

En primer lugar, se trata de crear el area que luego va a servir como
PERSONAL. Esto se puede hacer del siguiente modo:

(Como usuario fido)

$ cd ~/msgbase
$ mkdir +PERSONAL
$ cp +R34.LINUX/* +PERSONAL/

(PERSONAL es el nombre que quereis dar al area personal) Comprobad que los
permisos y duenios del nuevo directorio y los archivos que contiene son
iguales a los que teneis en otras areas. Corregidlo si no es asi.

Despues, de cara a vaciarla de mensajes, haced:

$ futility &quot;+delete&quot; &quot;all+&quot; PERSONAL
$ futility pack PERSONAL

Si volveis a invocar fmbedit, vereis que teneis un nuevo area, llamado...
PERSONAL! :-) Magia? :-)

Ahora ya tenemos la base. Siguiente parte: Copiar los mensajes que llegan al
sistema, nuevos, y a nuestro nombre. Esto se hace (casi) automaticamente.

Si creamos un archivo asi:

                                      ,,,
                                     (o o)  File: ~/msgbase/tosspath
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---

copy    t&quot;Pablo Gomez&quot; PERSONAL

---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

Ya estaria. Evidentemente, habreis de sustituir mi nombre (Pablo Gomez) por el
vuestro y PERSONAL por el nombre de vuestro area personal. Cada vez que
corramos ftoss, este se va a encargar de copiar al area personal los mensajes
dirigidos a nosotros.

Aqui merece la pena hacer un comentario. Y es que esto va a copiar tambien los
mensajes a nuestro nombre recibidos en NETMAIL. A mi parecer, esto es un
absurdo, ya que realmente el area NETMAIL ya es un area personal. Hasta donde
se, no es posible modificar el comando para que no los copie. Por ello mas
adelante tendremos que hacer un pequenio ajuste.

Esto es un trozo (el importante ;-)) del script que corro al recibir correo.
                                      ,,,
                                     (o o)  File: ~/bin/mimport
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---
#!/bin/sh

# Para la gestion del area personal
PERSAREA=PERSONAL

# Importar correo
ftoss

#
# Feeding area personal
# Acabamos de repartir los mensajes, generando los duplicados necesarios
# en PERSONAL. Sin embargo, deseamos borrar los mensajes reci&eacute;n copiados al
# area PERSONAL que provienen del area de NETMAIL
#
futility tool &quot;+delete&quot; \
  &quot;new+&&text+\*\*\* ftoss: copied from NETMAIL&quot; $PERSAREA


# reconstruir threads
futility pack
futility link

#[...]
---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

Tened cuidado: la linea 'futility tool ...' y la &quot;new...&quot; son una sola. El
cometido es borrar esos mensajes de NETMAIL innecesarios.

Seguimos. Ahora el modo de manejo. En el area PERSONAL tengo mensajes que
contienen una linea tal que:

*** ftoss: copied from R34.LINUX

(por ejemplo) :-)

Contesto (sobre el mismo area PERSONAL) el mensaje sin preocuparme de nada,
_EXCEPTO_ de no borrar esa linea, que posteriormente servira de 'testigo' para
que el mensaje se conteste en el area adecuada.

Luego, cuando exporto correo, corro el siguiente script:
                                      ,,,
                                     (o o)  File: ~/bin/mexport
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---
#!/bin/sh

USER_BIN_DIR=/home/fido/bin
LOCAL_BIN_DIR=/usr/local/bin
# Nombre del area personal
PERSAREA=PERSONAL

# Nombre del usuario
USERNOM=&quot;Pablo Gomez&quot;

# Archivo temporal de salida
OUTFILE=/tmp/persanswr




# Extraccion de mensajes del area personal que esten pendientes de proceso
# y posterior marcado como 'sent'
#
futility tool &quot;display&quot; &quot;attribute-se&&from+Pablo Gomez&quot; $PERSAREA &gt; $OUTFILE
futility tool &quot;+se&quot; &quot;attribute-se&&from+Pablo Gomez&quot; $PERSAREA

# distribucion a las nuevas areas...
awk -f $USER_BIN_DIR/persreply.awk &lt; $OUTFILE

# scan de la base de mensajes
#
$LOCAL_BIN_DIR/fscan
---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

Y la linea del 'awk' incluye un fichero persreply.awk que es este:

                                      ,,,
                                     (o o)  File: ~/bin/persreply.awk
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---

BEGIN   {
#
# Tocar aqui si es necesario
# ATENCION: Vigilar tambien las instrucciones de los bloques marcados con
# &quot;####&quot;:
#  necesitaran configuracion igualmente.
#
        outputfile=&quot;/tmp/tmpreply&quot;
#
#
# de aqui en adelante, se supone que no sera necesario, mas que en el bloque
# marcado con &quot;###
#
        borracmd=sprintf(&quot;rm -f %s&quot;, outputfile)
        replyarea=&quot;&quot;
        estado=1
        system(borracmd)
        }

# Solo es valido la primera vez que se encuentra en cada mensaje
# Evitamos que se copie, para que no llegue a otro sistema que
# pudiera estar usando el mismo sistema
/\*\*\* ftoss: copied from /{
        if (estado==1) {
                viejoestado=2
                estado=3
                replyarea=$NF
### Modificar:

        print &quot;*** pers_area: Copiado desde area PERSONAL&quot; &gt;&gt; &quot;/tmp/tmpreply&quot;
        }
        }

/^#To: / {
        user=&quot;&quot;
        for (n=2; n &lt;= NF; n++)  {
                user=sprintf(&quot;%s %s &quot;,user,$n)
        }
        }
# Evitaremos que se escriban las lineas siguientes:
/^#Area: / {
        viejoestado=estado
        estado=3
        }

/^#@To: / {
        viejoestado=estado
        estado=3
        }



# siempre, excepto en los casos descritos arriba...
estado != 3{
#####
#
# ATENCION!: Modificar igual que arriba.
#  Siento la chapucilla, pero no he conseguido resolverlo.
#
        print $0 &gt;&gt; &quot;/tmp/tmpreply&quot;
        }
# Reponer el estado anterior
estado==3 { estado=viejoestado }


/^###MESSAGE_END###/{
        if (estado==2) {
                close (outputfile)
                comando=sprintf(&quot;cat %s | futility addmsg %s&quot;,outputfile,
replyarea)
                system(comando)
                system(borracmd)
                estado=1
                replyarea=&quot;&quot;
        }
        }

END     {
        system(borracmd)
        }
---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

Tened cuidado: hay lineas cortadas (se ven) y hay una doble chapucilla que no
he sabido resolver. En vez de definir arriba todas las variables, hay una,
outputfile, que he tenido que redefinir a mitad de script, como constante, ya
que no he sabido hacerlo mejor. He intentado pasar una variable,
entrecomillada de distintas formas o no... y no lo consigo. Quiza alguno nos
eche una mano.

Esta probado con varios mensajes simultaneos, aunque creo que de momento no he
fallado nunca cargandome la linea del ***ftoss...

Para la proxima. Espero que os sea util. Estare encantado de recibir
comentarios, mejoras, etc.



Saludos,
Pablo GOMEZ
pgomez@p12.laereas.encomix.com

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: Puntomatico Remoto. Linux en Hoyo de Manzanares (2:341/43.40)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.6">5.6 Unos cuantos `trucos' para los que no gustan de RTFM o no saben ingl&eacute;s.</A></H2>



<H3>Respondiendo correo.</H3>


<P>
<UL>
<LI>Para responder normalmente, al <I>From:</I> en el mismo &aacute;rea, <CODE>Alt+r</CODE></LI>
<LI>Para responder al <I>To:</I> en el mismo &aacute;rea del mensaje: <CODE>Ctrl+r</CODE>.</LI>
<LI>Para responder por <I>net</I> al <I>From</I> del mensaje: <CODE>Alt+n</CODE></LI>
<LI>Para responder por <I>net</I> al <I>To</I> del mensaje: <CODE>Ctrl+n</CODE> <BR>

Para poder hacer esto &uacute;ltimo, el destinatario deber&aacute; estar en la <CODE>pointlist</CODE>,
si no, ya ver&aacute;s que no sucede nada.</LI>
</UL>
</P>

<H3>``Navegando'' por la base de mensajes.</H3>


<P>
<UL>
<LI>Para ver un listado de los mensajes del &aacute;rea, pulsa <CODE>Alt+l</CODE>; si entonces le das
a la tecla de movimiento de cursor hacia la derecha, cambias a la lista de 
&aacute;reas. </LI>
<LI>Para poder seguir el <I>thread</I> o hilo de una conversaci&oacute;n, en funci&oacute;n 
de
su <I>Re:</I>, deber&aacute;s pulsar la tecla <CODE>Tab</CODE>, ver&aacute;s un listado similar al que
aparece en el punto anterior. Si le sigues dando, ir&aacute;s cambiando las referencias a los mensajes enlazados. <BR>

Sabr&aacute;s que existen m&uacute;ltiples mensajes enlazados (esto es lo que hace el 
<CODE>futility link</CODE>) 
por un mismo <I>Re:</I> por unos c&oacute;digos amarillos que aparecer&aacute;n en la esquina 
superior derecha de la pantalla, en la zona correspondiente a la cabecera del 
mensaje.</LI>
</UL>
</P>

<H3>Operaciones con ficheros</H3>


<P>
<UL>
<LI>Para hacer un <I>File Attach</I>, o env&iacute;o de un fichero ``enganchado'' a un
mensaje <I>netmail</I>, una vez se ha escrito el destinatario y el tema, teclea 
<CODE>Alt+y</CODE>, y seguidamente <CODE>f</CODE>; luego <CODE>Alt+j</CODE> y pulsa <CODE>Tab</CODE>; podr&aacute;s 
``navegar'' hasta el fichero. <BR>

Esto &uacute;ltimo del <CODE>Tab</CODE> se aplica a todas las 
operaciones relacionadas con ficheros (insertar fichero, exportar mensaje a 
fichero, etc...)</LI>
</UL>
</P>

<H3>Para adecentar el aspectillo del Binkley:</H3>


<P>
<UL>
<LI>Crea el siguiente fichero, y ejec&uacute;talo en lugar del <CODE>bt</CODE>: <BR>

Fichero <CODE>/usr/bin/bbs</CODE>

<BLOCKQUOTE><CODE>
<PRE>
echo -e &quot;\033(U&quot;
/usr/bin/bt
echo -e &quot;\033(B&quot;
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Teclea la orden:
<BLOCKQUOTE><CODE>
<PRE>
chmod 755 /usr/bin/bbs
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Edita el <CODE>/usr/lib/binkley/binkley.cfg</CODE> y cambia el valor de la l&iacute;nea <CODE>BoxType</CODE> a <CODE>3</CODE>:

<BLOCKQUOTE><CODE>
<PRE>
[...]
BoxType 3
[...]
</PRE>
</CODE></BLOCKQUOTE>

</LI>
</UL>
</P>


<HR>
<A HREF="FEddi-Como-4.html">Anterior</A>
<A HREF="FEddi-Como-6.html">Siguiente</A>
<A HREF="FEddi-Como.html#toc5">Indice</A>
</BODY>
</HTML>
